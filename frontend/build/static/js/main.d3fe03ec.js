/*! For license information please see main.d3fe03ec.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,a){var n=a(853),r=a(43),s=a(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(i(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case x:return"Portal";case w:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return R(e(t))}catch(a){}}return null}var O=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},F=[],M=-1;function z(e){return{current:e}}function U(e){0>M||(e.current=F[M],F[M]=null,M--)}function B(e,t){M++,F[M]=e.current,e.current=t}var q,H,W=z(null),V=z(null),K=z(null),$=z(null);function Y(e,t){switch(B(K,t),B(V,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yu(t=gu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),B(W,e)}function G(){U(W),U(V),U(K)}function Q(e){null!==e.memoizedState&&B($,e);var t=W.current,a=yu(t,e.type);t!==a&&(B(V,e),B(W,a))}function X(e){V.current===e&&(U(W),U(V)),$.current===e&&(U($),dm._currentValue=I)}function J(e){if(void 0===q)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",H=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(r){var n=r}Reflect.construct(e,[],a)}else{try{a.call()}catch(s){n=s}e.call(a.prototype)}}else{try{throw Error()}catch(i){n=i}(a=e())&&"function"===typeof a.catch&&a.catch(function(){})}}catch(l){if(l&&n&&"string"===typeof l.stack)return[l.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(r=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(n===o.length||r===c.length)for(n=o.length-1,r=c.length-1;1<=n&&0<=r&&o[n]!==c[r];)r--;for(;1<=n&&0<=r;n--,r--)if(o[n]!==c[r]){if(1!==n||1!==r)do{if(n--,0>--r||o[n]!==c[r]){var d="\n"+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?J(a):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ae(e){try{var t="",a=null;do{t+=te(e,a),a=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,se=n.unstable_cancelCallback,ie=n.unstable_shouldYield,le=n.unstable_requestPaint,oe=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,me=n.unstable_NormalPriority,pe=n.unstable_LowPriority,he=n.unstable_IdlePriority,fe=n.log,xe=n.unstable_setDisableYieldValue,ge=null,ye=null;function be(e){if("function"===typeof fe&&xe(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/je|0)|0},we=Math.log,je=Math.LN2;var Ne=256,ke=262144,Se=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,a){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&n;return 0!==l?0!==(n=l&~s)?r=_e(n):0!==(i&=l)?r=_e(i):a||0!==(a=l&~e)&&(r=_e(a)):0!==(l=n&~s)?r=_e(l):0!==i?r=_e(i):a||0!==(a=n&~e)&&(r=_e(a)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||32===s&&0!==(4194048&a))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ae(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ve(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&a}function Le(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ve(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function De(e,t){var a=t&-t;return 0!==((a=0!==(42&a)?1:Ie(a))&(e.suspendedLanes|t))?0:a}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:_m(e.type)}function ze(e,t){var a=D.p;try{return D.p=e,t()}finally{D.p=a}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,qe="__reactProps$"+Ue,He="__reactContainer$"+Ue,We="__reactEvents$"+Ue,Ve="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,$e="__reactResources$"+Ue,Ye="__reactMarker$"+Ue;function Ge(e){delete e[Be],delete e[qe],delete e[We],delete e[Ve],delete e[Ke]}function Qe(e){var t=e[Be];if(t)return t;for(var a=e.parentNode;a;){if(t=a[He]||a[Be]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=Iu(e);null!==e;){if(a=e[Be])return a;e=Iu(e)}return t}a=(e=a).parentNode}return null}function Xe(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,at={};function nt(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(at[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},lt={};function ot(e,t,a){if(r=t,ne.call(lt,r)||!ne.call(it,r)&&(st.test(r)?lt[r]=!0:(it[r]=!0,0)))if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+a)}var r}function ct(e,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+a)}}function dt(e,t,a,n){if(null===n)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(t,a,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=mt(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function gt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,a,n,r,s,i,l){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ut(t)):null!=a?vt(e,i,ut(a)):null!=n&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ut(l):e.removeAttribute("name")}function bt(e,t,a,n,r,s,i,l){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=a){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void pt(e);a=null!=a?""+ut(a):"",t=null!=t?""+ut(t):a,l||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:r)&&"symbol"!==typeof n&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),pt(e)}function vt(e,t,a){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wt(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function jt(e,t,a){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=a)?e.defaultValue=null!=a?""+ut(a):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,a,n){if(null==t){if(null!=n){if(null!=a)throw Error(i(92));if(O(n)){if(1<n.length)throw Error(i(93));n=n[0]}a=n}null==a&&(a=""),t=a}a=ut(t),e.defaultValue=a,(n=e.textContent)===a&&""!==n&&null!==n&&(e.value=n),pt(e)}function kt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,a){var n=0===t.indexOf("--");null==a||"boolean"===typeof a||""===a?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,a):"number"!==typeof a||0===a||St.has(t)?"float"===t?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ct(e,t,a){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=a){for(var n in a)!a.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&_t(e,r,n)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Ot=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,It=null;function Ft(e){var t=Xe(e);if(t&&(e=t.stateNode)){var a=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[qe]||null;if(!r)throw Error(i(90));yt(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)(n=a[t]).form===e.form&&ht(n)}break e;case"textarea":jt(e,a.value,a.defaultValue);break e;case"select":null!=(t=a.value)&&wt(e,!!a.multiple,t,!1)}}}var Mt=!1;function zt(e,t,a){if(Mt)return e(t,a);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Dt||null!==It)&&(Zc(),Dt&&(t=Dt,e=It,It=Dt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Ut(e,t){var a=e.stateNode;if(null===a)return null;var n=a[qe]||null;if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(i(231,t,typeof a));return a}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xm){qt=!1}var Wt=null,Vt=null,Kt=null;function $t(){if(Kt)return Kt;var e,t,a=Vt,n=a.length,r="value"in Wt?Wt.value:Wt.textContent,s=r.length;for(e=0;e<n&&a[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&a[n-t]===r[s-t];t++);return Kt=r.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Xt(e){function t(t,a,n,r,s){for(var i in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Jt,Zt,ea,ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Xt(ta),na=p({},ta,{view:0,detail:0}),ra=Xt(na),sa=p({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&"mousemove"===e.type?(Jt=e.screenX-ea.screenX,Zt=e.screenY-ea.screenY):Zt=Jt=0,ea=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),ia=Xt(sa),la=Xt(p({},sa,{dataTransfer:0})),oa=Xt(p({},na,{relatedTarget:0})),ca=Xt(p({},ta,{animationName:0,elapsedTime:0,pseudoElement:0})),da=Xt(p({},ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ua=Xt(p({},ta,{data:0})),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ha[e])&&!!t[e]}function xa(){return fa}var ga=Xt(p({},na,{key:function(e){if(e.key){var t=ma[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ya=Xt(p({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ba=Xt(p({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa})),va=Xt(p({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0})),wa=Xt(p({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ja=Xt(p({},ta,{newState:0,oldState:0})),Na=[9,13,27,32],ka=Bt&&"CompositionEvent"in window,Sa=null;Bt&&"documentMode"in document&&(Sa=document.documentMode);var _a=Bt&&"TextEvent"in window&&!Sa,Ca=Bt&&(!ka||Sa&&8<Sa&&11>=Sa),Ea=String.fromCharCode(32),Ta=!1;function Pa(e,t){switch(e){case"keyup":return-1!==Na.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ra=!1;var Oa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Oa[e.type]:"textarea"===t}function Da(e,t,a,n){Dt?It?It.push(n):It=[n]:Dt=n,0<(t=nu(t,"onChange")).length&&(a=new aa("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ia=null,Fa=null;function Ma(e){Gd(e,0)}function za(e){if(ht(Je(e)))return e}function Ua(e,t){if("change"===e)return t}var Ba=!1;if(Bt){var qa;if(Bt){var Ha="oninput"in document;if(!Ha){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Ha="function"===typeof Wa.oninput}qa=Ha}else qa=!1;Ba=qa&&(!document.documentMode||9<document.documentMode)}function Va(){Ia&&(Ia.detachEvent("onpropertychange",Ka),Fa=Ia=null)}function Ka(e){if("value"===e.propertyName&&za(Fa)){var t=[];Da(t,Fa,e,Lt(e)),zt(Ma,t)}}function $a(e,t,a){"focusin"===e?(Va(),Fa=a,(Ia=t).attachEvent("onpropertychange",Ka)):"focusout"===e&&Va()}function Ya(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return za(Fa)}function Ga(e,t){if("click"===e)return za(t)}function Qa(e,t){if("input"===e||"change"===e)return za(t)}var Xa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ja(e,t){if(Xa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!ne.call(t,r)||!Xa(e[r],t[r]))return!1}return!0}function Za(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var a,n=Za(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Za(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function an(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=ft((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rn=Bt&&"documentMode"in document&&11>=document.documentMode,sn=null,ln=null,on=null,cn=!1;function dn(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;cn||null==sn||sn!==ft(n)||("selectionStart"in(n=sn)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},on&&Ja(on,n)||(on=n,0<(n=nu(ln,"onSelect")).length&&(t=new aa("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=sn)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var mn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},pn={},hn={};function fn(e){if(pn[e])return pn[e];if(!mn[e])return e;var t,a=mn[e];for(t in a)if(a.hasOwnProperty(t)&&t in hn)return pn[e]=a[t];return e}Bt&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);var xn=fn("animationend"),gn=fn("animationiteration"),yn=fn("animationstart"),bn=fn("transitionrun"),vn=fn("transitionstart"),wn=fn("transitioncancel"),jn=fn("transitionend"),Nn=new Map,kn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Nn.set(e,t),nt(t,[e])}kn.push("scrollEnd");var _n="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cn=[],En=0,Tn=0;function Pn(){for(var e=En,t=Tn=En=0;t<e;){var a=Cn[t];Cn[t++]=null;var n=Cn[t];Cn[t++]=null;var r=Cn[t];Cn[t++]=null;var s=Cn[t];if(Cn[t++]=null,null!==n&&null!==r){var i=n.pending;null===i?r.next=r:(r.next=i.next,i.next=r),n.pending=r}0!==s&&Ln(a,r,s)}}function An(e,t,a,n){Cn[En++]=e,Cn[En++]=t,Cn[En++]=a,Cn[En++]=n,Tn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Rn(e,t,a,n){return An(e,t,a,n),Dn(e)}function On(e,t){return An(e,null,null,t),Dn(e)}function Ln(e,t,a){e.lanes|=a;var n=e.alternate;null!==n&&(n.lanes|=a);for(var r=!1,s=e.return;null!==s;)s.childLanes|=a,null!==(n=s.alternate)&&(n.childLanes|=a),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-ve(a),null===(n=(e=s.hiddenUpdates)[r])?e[r]=[t]:n.push(t),t.lane=536870912|a),s):null}function Dn(e){if(50<Wc)throw Wc=0,Vc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var In={};function Fn(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,a,n){return new Fn(e,t,a,n)}function zn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Un(e,t){var a=e.alternate;return null===a?((a=Mn(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=65011712&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bn(e,t){e.flags&=65011714;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qn(e,t,a,n,r,s){var l=0;if(n=e,"function"===typeof e)zn(e)&&(l=1);else if("string"===typeof e)l=function(e,t,a){if(1===a||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,a,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Mn(31,a,t,r)).elementType=C,e.lanes=s,e;case g:return Hn(a.children,r,s,t);case y:l=8,r|=24;break;case b:return(e=Mn(12,a,t,2|r)).elementType=b,e.lanes=s,e;case N:return(e=Mn(13,a,t,r)).elementType=N,e.lanes=s,e;case k:return(e=Mn(19,a,t,r)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:l=10;break e;case v:l=9;break e;case j:l=11;break e;case S:l=14;break e;case _:l=16,n=null;break e}l=29,a=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Mn(l,a,t,r)).elementType=e,t.type=n,t.lanes=s,t}function Hn(e,t,a,n){return(e=Mn(7,e,n,t)).lanes=a,e}function Wn(e,t,a){return(e=Mn(6,e,null,t)).lanes=a,e}function Vn(e){var t=Mn(18,null,null,0);return t.stateNode=e,t}function Kn(e,t,a){return(t=Mn(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $n=new WeakMap;function Yn(e,t){if("object"===typeof e&&null!==e){var a=$n.get(e);return void 0!==a?a:(t={value:e,source:t,stack:ae(t)},$n.set(e,t),t)}return{value:e,source:t,stack:ae(t)}}var Gn=[],Qn=0,Xn=null,Jn=0,Zn=[],er=0,tr=null,ar=1,nr="";function rr(e,t){Gn[Qn++]=Jn,Gn[Qn++]=Xn,Xn=e,Jn=t}function sr(e,t,a){Zn[er++]=ar,Zn[er++]=nr,Zn[er++]=tr,tr=e;var n=ar;e=nr;var r=32-ve(n)-1;n&=~(1<<r),a+=1;var s=32-ve(t)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,ar=1<<32-ve(t)+r|a<<r|n,nr=s+e}else ar=1<<s|a<<r|n,nr=e}function ir(e){null!==e.return&&(rr(e,1),sr(e,1,0))}function lr(e){for(;e===Xn;)Xn=Gn[--Qn],Gn[Qn]=null,Jn=Gn[--Qn],Gn[Qn]=null;for(;e===tr;)tr=Zn[--er],Zn[er]=null,nr=Zn[--er],Zn[er]=null,ar=Zn[--er],Zn[er]=null}function or(e,t){Zn[er++]=ar,Zn[er++]=nr,Zn[er++]=tr,ar=t.id,nr=t.overflow,tr=e}var cr=null,dr=null,ur=!1,mr=null,pr=!1,hr=Error(i(519));function fr(e){throw wr(Yn(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),hr}function xr(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Be]=e,t[qe]=n,a){case"dialog":Qd("cancel",t),Qd("close",t);break;case"iframe":case"object":case"embed":Qd("load",t);break;case"video":case"audio":for(a=0;a<$d.length;a++)Qd($d[a],t);break;case"source":Qd("error",t);break;case"img":case"image":case"link":Qd("error",t),Qd("load",t);break;case"details":Qd("toggle",t);break;case"input":Qd("invalid",t),bt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Qd("invalid",t);break;case"textarea":Qd("invalid",t),Nt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(a=n.children)&&"number"!==typeof a&&"bigint"!==typeof a||t.textContent===""+a||!0===n.suppressHydrationWarning||cu(t.textContent,a)?(null!=n.popover&&(Qd("beforetoggle",t),Qd("toggle",t)),null!=n.onScroll&&Qd("scroll",t),null!=n.onScrollEnd&&Qd("scrollend",t),null!=n.onClick&&(t.onclick=Rt),t=!0):t=!1,t||fr(e,!0)}function gr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(pr=!1);case 27:case 3:return void(pr=!0);default:cr=cr.return}}function yr(e){if(e!==cr)return!1;if(!ur)return gr(e),ur=!0,!1;var t,a=e.tag;if((t=3!==a&&27!==a)&&((t=5===a)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bu(e.type,e.memoizedProps)),t=!t),t&&dr&&fr(e),gr(e),13===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));dr=Du(e)}else if(31===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));dr=Du(e)}else 27===a?(a=dr,_u(e.type)?(e=Lu,Lu=null,dr=e):dr=a):dr=cr?Ou(e.stateNode.nextSibling):null;return!0}function br(){dr=cr=null,ur=!1}function vr(){var e=mr;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),mr=null),e}function wr(e){null===mr?mr=[e]:mr.push(e)}var jr=z(null),Nr=null,kr=null;function Sr(e,t,a){B(jr,t._currentValue),t._currentValue=a}function _r(e){e._currentValue=jr.current,U(jr)}function Cr(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Er(e,t,a,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var l=r.child;s=s.firstContext;e:for(;null!==s;){var o=s;s=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){s.lanes|=a,null!==(o=s.alternate)&&(o.lanes|=a),Cr(s.return,a,e),n||(l=null);break e}s=o.next}}else if(18===r.tag){if(null===(l=r.return))throw Error(i(341));l.lanes|=a,null!==(s=l.alternate)&&(s.lanes|=a),Cr(l,a,e),l=null}else l=r.child;if(null!==l)l.return=r;else for(l=r;null!==l;){if(l===e){l=null;break}if(null!==(r=l.sibling)){r.return=l.return,l=r;break}l=l.return}r=l}}function Tr(e,t,a,n){e=null;for(var r=t,s=!1;null!==r;){if(!s)if(0!==(524288&r.flags))s=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var l=r.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var o=r.type;Xa(r.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(r===$.current){if(null===(l=r.alternate))throw Error(i(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}r=r.return}null!==e&&Er(t,e,a,n),t.flags|=262144}function Pr(e){for(e=e.firstContext;null!==e;){if(!Xa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Nr=e,kr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Rr(e){return Lr(Nr,e)}function Or(e,t){return null===Nr&&Ar(e),Lr(e,t)}function Lr(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},null===kr){if(null===e)throw Error(i(308));kr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kr=kr.next=t;return a}var Dr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ir=n.unstable_scheduleCallback,Fr=n.unstable_NormalPriority,Mr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zr(){return{controller:new Dr,data:new Map,refCount:0}}function Ur(e){e.refCount--,0===e.refCount&&Ir(Fr,function(){e.controller.abort()})}var Br=null,qr=0,Hr=0,Wr=null;function Vr(){if(0===--qr&&null!==Br){null!==Wr&&(Wr.status="fulfilled");var e=Br;Br=null,Hr=0,Wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Kr=L.S;L.S=function(e,t){Oc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Br){var a=Br=[];qr=0,Hr=qd(),Wr={status:"pending",value:void 0,then:function(e){a.push(e)}}}qr++,t.then(Vr,Vr)}(0,t),null!==Kr&&Kr(e,t)};var $r=z(null);function Yr(){var e=$r.current;return null!==e?e:hc.pooledCache}function Gr(e,t){B($r,null===t?$r.current:t.pool)}function Qr(){var e=Yr();return null===e?null:{parent:Mr._currentValue,pool:e}}var Xr=Error(i(460)),Jr=Error(i(474)),Zr=Error(i(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function as(e,t,a){switch(void 0===(a=e[a])?e.push(t):a!==t&&(t.then(Rt,Rt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var a=t;a.status="fulfilled",a.value=e}},function(e){if("pending"===t.status){var a=t;a.status="rejected",a.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e}throw rs=t,Xr}}function ns(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw rs=t,Xr;throw t}}var rs=null;function ss(){if(null===rs)throw Error(i(459));var e=rs;return rs=null,e}function is(e){if(e===Xr||e===Zr)throw Error(i(483))}var ls=null,os=0;function cs(e){var t=os;return os+=1,null===ls&&(ls=[]),as(ls,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function us(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ms(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Un(e,t)).index=0,e.sibling=null,e}function s(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=67108866,a):n:(t.flags|=67108866,a):(t.flags|=1048576,a)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,a,n){return null===t||6!==t.tag?((t=Wn(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function c(e,t,a,n){var s=a.type;return s===g?u(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&ns(s)===t.type)?(ds(t=r(t,a.props),a),t.return=e,t):(ds(t=qn(a.type,a.key,a.props,null,e.mode,n),a),t.return=e,t)}function d(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Kn(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function u(e,t,a,n,s){return null===t||7!==t.tag?((t=Hn(a,e.mode,n,s)).return=e,t):((t=r(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wn(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ds(a=qn(t.type,t.key,t.props,null,e.mode,a),t),a.return=e,a;case x:return(t=Kn(t,e.mode,a)).return=e,t;case _:return m(e,t=ns(t),a)}if(O(t)||P(t))return(t=Hn(t,e.mode,a,null)).return=e,t;if("function"===typeof t.then)return m(e,cs(t),a);if(t.$$typeof===w)return m(e,Or(e,t),a);us(e,t)}return null}function p(e,t,a,n){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==r?null:o(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return a.key===r?c(e,t,a,n):null;case x:return a.key===r?d(e,t,a,n):null;case _:return p(e,t,a=ns(a),n)}if(O(a)||P(a))return null!==r?null:u(e,t,a,n,null);if("function"===typeof a.then)return p(e,t,cs(a),n);if(a.$$typeof===w)return p(e,t,Or(e,a),n);us(e,a)}return null}function h(e,t,a,n,r){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return o(t,e=e.get(a)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return c(t,e=e.get(null===n.key?a:n.key)||null,n,r);case x:return d(t,e=e.get(null===n.key?a:n.key)||null,n,r);case _:return h(e,t,a,n=ns(n),r)}if(O(n)||P(n))return u(t,e=e.get(a)||null,n,r,null);if("function"===typeof n.then)return h(e,t,a,cs(n),r);if(n.$$typeof===w)return h(e,t,a,Or(t,n),r);us(t,n)}return null}function y(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){a(o,c.sibling),(u=r(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&ns(b)===c.type){a(o,c.sibling),ds(u=r(c,d.props),d),u.return=o,o=u;break e}a(o,c);break}t(o,c),c=c.sibling}d.type===g?((u=Hn(d.props.children,o.mode,u,d.key)).return=o,o=u):(ds(u=qn(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return l(o);case x:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){a(o,c.sibling),(u=r(c,d.children||[])).return=o,o=u;break e}a(o,c);break}t(o,c),c=c.sibling}(u=Kn(d,o.mode,u)).return=o,o=u}return l(o);case _:return y(o,c,d=ns(d),u)}if(O(d))return function(r,i,l,o){for(var c=null,d=null,u=i,f=i=0,x=null;null!==u&&f<l.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=p(r,u,l[f],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(r,u),i=s(g,i,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===l.length)return a(r,u),ur&&rr(r,f),c;if(null===u){for(;f<l.length;f++)null!==(u=m(r,l[f],o))&&(i=s(u,i,f),null===d?c=u:d.sibling=u,d=u);return ur&&rr(r,f),c}for(u=n(u);f<l.length;f++)null!==(x=h(u,r,f,l[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),i=s(x,i,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),ur&&rr(r,f),c}(o,c,d,u);if(P(d)){if("function"!==typeof(b=P(d)))throw Error(i(150));return function(r,l,o,c){if(null==o)throw Error(i(151));for(var d=null,u=null,f=l,x=l=0,g=null,y=o.next();null!==f&&!y.done;x++,y=o.next()){f.index>x?(g=f,f=null):g=f.sibling;var b=p(r,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(r,f),l=s(b,l,x),null===u?d=b:u.sibling=b,u=b,f=g}if(y.done)return a(r,f),ur&&rr(r,x),d;if(null===f){for(;!y.done;x++,y=o.next())null!==(y=m(r,y.value,c))&&(l=s(y,l,x),null===u?d=y:u.sibling=y,u=y);return ur&&rr(r,x),d}for(f=n(f);!y.done;x++,y=o.next())null!==(y=h(f,r,x,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?x:y.key),l=s(y,l,x),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(r,e)}),ur&&rr(r,x),d}(o,c,d=b.call(d),u)}if("function"===typeof d.then)return y(o,c,cs(d),u);if(d.$$typeof===w)return y(o,c,Or(o,d),u);us(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(a(o,c.sibling),(u=r(c,d)).return=o,o=u):(a(o,c),(u=Wn(d,o.mode,u)).return=o,o=u),l(o)):a(o,c)}return function(e,t,a,n){try{os=0;var r=y(e,t,a,n);return ls=null,r}catch(i){if(i===Xr||i===Zr)throw i;var s=Mn(29,i,null,e.mode);return s.lanes=n,s.return=e,s}}}var ps=ms(!0),hs=ms(!1),fs=!1;function xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&pc)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=Dn(e),Ln(e,null,a),t}return An(e,n,t,a),Dn(e)}function vs(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,Le(e,a)}}function ws(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,s=null;if(null!==(a=a.firstBaseUpdate)){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===s?r=s=i:s=s.next=i,a=a.next}while(null!==a);null===s?r=s=t:s=s.next=t}else r=s=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var js=!1;function Ns(){if(js){if(null!==Wr)throw Wr}}function ks(e,t,a,n){js=!1;var r=e.updateQueue;fs=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=r.baseState;for(i=0,d=c=o=null,l=s;;){var m=-536870913&l.lane,h=m!==l.lane;if(h?(xc&m)===m:(n&m)===m){0!==m&&m===Hr&&(js=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,x=l;m=t;var g=a;switch(x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(g,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=x.payload)?f.call(g,u,m):f)||void 0===m)break e;u=p({},u,m);break e;case 2:fs=!0}}null!==(m=l.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,i|=m;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(h=l).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===s&&(r.shared.lanes=0),kc|=i,e.lanes=i,e.memoizedState=u}}function Ss(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function _s(e,t){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)Ss(a[e],t)}var Cs=z(null),Es=z(0);function Ts(e,t){B(Es,e=jc),B(Cs,t),jc=e|t.baseLanes}function Ps(){B(Es,jc),B(Cs,Cs.current)}function As(){jc=Es.current,U(Cs),U(Es)}var Rs=z(null),Os=null;function Ls(e){var t=e.alternate;B(zs,1&zs.current),B(Rs,e),null===Os&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Os=e)}function Ds(e){B(zs,zs.current),B(Rs,e),null===Os&&(Os=e)}function Is(e){22===e.tag?(B(zs,zs.current),B(Rs,e),null===Os&&(Os=e)):Fs()}function Fs(){B(zs,zs.current),B(Rs,Rs.current)}function Ms(e){U(Rs),Os===e&&(Os=null),U(zs)}var zs=z(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||Au(a)||Ru(a)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bs=0,qs=null,Hs=null,Ws=null,Vs=!1,Ks=!1,$s=!1,Ys=0,Gs=0,Qs=null,Xs=0;function Js(){throw Error(i(321))}function Zs(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Xa(e[a],t[a]))return!1;return!0}function ei(e,t,a,n,r,s){return Bs=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?fl:xl,$s=!1,s=a(n,r),$s=!1,Ks&&(s=ai(t,a,n,r)),ti(e),s}function ti(e){L.H=hl;var t=null!==Hs&&null!==Hs.next;if(Bs=0,Ws=Hs=qs=null,Vs=!1,Gs=0,Qs=null,t)throw Error(i(300));null===e||Rl||null!==(e=e.dependencies)&&Pr(e)&&(Rl=!0)}function ai(e,t,a,n){qs=e;var r=0;do{if(Ks&&(Qs=null),Gs=0,Ks=!1,25<=r)throw Error(i(301));if(r+=1,Ws=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}L.H=gl,s=t(a,n)}while(Ks);return s}function ni(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(qs.flags|=1024),t}function ri(){var e=0!==Ys;return Ys=0,e}function si(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ii(e){if(Vs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vs=!1}Bs=0,Ws=Hs=qs=null,Ks=!1,Gs=Ys=0,Qs=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ws?qs.memoizedState=Ws=e:Ws=Ws.next=e,Ws}function oi(){if(null===Hs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Ws?qs.memoizedState:Ws.next;if(null!==t)Ws=t,Hs=e;else{if(null===e){if(null===qs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Ws?qs.memoizedState=Ws=e:Ws=Ws.next=e}return Ws}function ci(e){var t=Gs;return Gs+=1,null===Qs&&(Qs=[]),e=as(Qs,e,t),t=qs,null===(null===Ws?t.memoizedState:Ws.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?fl:xl),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===w)return Rr(e)}throw Error(i(438,String(e)))}function ui(e){var t=null,a=qs.updateQueue;if(null!==a&&(t=a.memoCache),null==t){var n=qs.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=a),a.memoCache=t,void 0===(a=t.data[t.index]))for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=E;return t.index++,a}function mi(e,t){return"function"===typeof t?t(e):t}function pi(e){return hi(oi(),Hs,e)}function hi(e,t,a){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=a;var r=e.baseQueue,s=n.pending;if(null!==s){if(null!==r){var l=r.next;r.next=s.next,s.next=l}t.baseQueue=r=s,n.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{var o=l=null,c=null,d=t=r.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(xc&m)===m:(Bs&m)===m){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Hr&&(u=!0);else{if((Bs&p)===p){d=d.next,p===Hr&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,l=s):c=c.next=m,qs.lanes|=p,kc|=p}m=d.action,$s&&a(s,m),s=d.hasEagerState?d.eagerState:a(s,m)}else p={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=p,l=s):c=c.next=p,qs.lanes|=m,kc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?l=s:c.next=o,!Xa(s,e.memoizedState)&&(Rl=!0,u&&null!==(a=Wr)))throw a;e.memoizedState=s,e.baseState=l,e.baseQueue=c,n.lastRenderedState=s}return null===r&&(n.lanes=0),[e.memoizedState,n.dispatch]}function fi(e){var t=oi(),a=t.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,s=t.memoizedState;if(null!==r){a.pending=null;var l=r=r.next;do{s=e(s,l.action),l=l.next}while(l!==r);Xa(s,t.memoizedState)||(Rl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function xi(e,t,a){var n=qs,r=oi(),s=ur;if(s){if(void 0===a)throw Error(i(407));a=a()}else a=t();var l=!Xa((Hs||r).memoizedState,a);if(l&&(r.memoizedState=a,Rl=!0),r=r.queue,Bi(bi.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==Ws&&1&Ws.memoizedState.tag){if(n.flags|=2048,Ii(9,{destroy:void 0},yi.bind(null,n,r,a,t),null),null===hc)throw Error(i(349));s||0!==(127&Bs)||gi(n,t,a)}return a}function gi(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function yi(e,t,a,n){t.value=a,t.getSnapshot=n,vi(t)&&wi(e)}function bi(e,t,a){return a(function(){vi(t)&&wi(e)})}function vi(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Xa(e,a)}catch(n){return!0}}function wi(e){var t=On(e,2);null!==t&&Yc(t,e,2)}function ji(e){var t=li();if("function"===typeof e){var a=e;if(e=a(),$s){be(!0);try{a()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},t}function Ni(e,t,a,n){return e.baseState=a,hi(e,Hs,"function"===typeof n?n:mi)}function ki(e,t,a,n,r){if(ul(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==L.T?a(!0):s.isTransition=!1,n(s),null===(a=t.pending)?(s.next=t.pending=s,Si(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Si(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var s=L.T,i={};L.T=i;try{var l=a(r,n),o=L.S;null!==o&&o(i,l),_i(e,t,l)}catch(c){Ei(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),L.T=s}}else try{_i(e,t,s=a(r,n))}catch(d){Ei(e,t,d)}}function _i(e,t,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then(function(a){Ci(e,t,a)},function(a){return Ei(e,t,a)}):Ci(e,t,a)}function Ci(e,t,a){t.status="fulfilled",t.value=a,Ti(t),e.state=a,null!==(t=e.pending)&&((a=t.next)===t?e.pending=null:(a=a.next,t.next=a,Si(e,a)))}function Ei(e,t,a){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=a,Ti(t),t=t.next}while(t!==n)}e.action=null}function Ti(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pi(e,t){return t}function Ai(e,t){if(ur){var a=hc.formState;if(null!==a){e:{var n=qs;if(ur){if(dr){t:{for(var r=dr,s=pr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=Ou(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){dr=Ou(r.nextSibling),n="F!"===r.data;break e}}fr(n)}n=!1}n&&(t=a[0])}}return(a=li()).memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},a.queue=n,a=ol.bind(null,qs,n),n.dispatch=a,n=ji(!1),s=dl.bind(null,qs,!1,n.queue),r={state:t,dispatch:null,action:e,pending:null},(n=li()).queue=r,a=ki.bind(null,qs,r,s,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function Ri(e){return Oi(oi(),Hs,e)}function Oi(e,t,a){if(t=hi(e,t,Pi)[0],e=pi(mi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=ci(t)}catch(i){if(i===Xr)throw Zr;throw i}else n=t;var r=(t=oi()).queue,s=r.dispatch;return a!==t.memoizedState&&(qs.flags|=2048,Ii(9,{destroy:void 0},Li.bind(null,r,a),null)),[n,s,e]}function Li(e,t){e.action=t}function Di(e){var t=oi(),a=Hs;if(null!==a)return Oi(t,a,e);oi(),t=t.memoizedState;var n=(a=oi()).queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Ii(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Fi(){return oi().memoizedState}function Mi(e,t,a,n){var r=li();qs.flags|=e,r.memoizedState=Ii(1|t,{destroy:void 0},a,void 0===n?null:n)}function zi(e,t,a,n){var r=oi();n=void 0===n?null:n;var s=r.memoizedState.inst;null!==Hs&&null!==n&&Zs(n,Hs.memoizedState.deps)?r.memoizedState=Ii(t,s,a,n):(qs.flags|=e,r.memoizedState=Ii(1|t,s,a,n))}function Ui(e,t){Mi(8390656,8,e,t)}function Bi(e,t){zi(2048,8,e,t)}function qi(e){var t=oi().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var a=t.events;null===a?t.events=[e]:a.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return zi(4,2,e,t)}function Wi(e,t){return zi(4,4,e,t)}function Vi(e,t){if("function"===typeof t){e=e();var a=t(e);return function(){"function"===typeof a?a():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ki(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,zi(4,4,Vi.bind(null,t,e),a)}function $i(){}function Yi(e,t){var a=oi();t=void 0===t?null:t;var n=a.memoizedState;return null!==t&&Zs(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Gi(e,t){var a=oi();t=void 0===t?null:t;var n=a.memoizedState;if(null!==t&&Zs(t,n[1]))return n[0];if(n=e(),$s){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[n,t],n}function Qi(e,t,a){return void 0===a||0!==(1073741824&Bs)&&0===(261930&xc)?e.memoizedState=t:(e.memoizedState=a,e=$c(),qs.lanes|=e,kc|=e,a)}function Xi(e,t,a,n){return Xa(a,t)?a:null!==Cs.current?(e=Qi(e,a,n),Xa(e,t)||(Rl=!0),e):0===(42&Bs)||0!==(1073741824&Bs)&&0===(261930&xc)?(Rl=!0,e.memoizedState=a):(e=$c(),qs.lanes|=e,kc|=e,t)}function Ji(e,t,a,n,r){var s=D.p;D.p=0!==s&&8>s?s:8;var i=L.T,l={};L.T=l,dl(e,!1,t,a);try{var o=r(),c=L.S;if(null!==c&&c(l,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)cl(e,t,function(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),n}(o,n),Kc());else cl(e,t,n,Kc())}catch(d){cl(e,t,{then:function(){},status:"rejected",reason:d},Kc())}finally{D.p=s,null!==i&&null!==l.types&&(i.types=l.types),L.T=i}}function Zi(){}function el(e,t,a,n){if(5!==e.tag)throw Error(i(476));var r=tl(e).queue;Ji(e,r,t,I,null===a?Zi:function(){return al(e),a(n)})}function tl(e){var t=e.memoizedState;if(null!==t)return t;var a={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:I},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:a},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function al(e){var t=tl(e);null===t.next&&(t=e.alternate.memoizedState),cl(e,t.next.queue,{},Kc())}function nl(){return Rr(dm)}function rl(){return oi().memoizedState}function sl(){return oi().memoizedState}function il(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var a=Kc(),n=bs(t,e=ys(a),a);return null!==n&&(Yc(n,t,a),vs(n,t,a)),t={cache:zr()},void(e.payload=t)}t=t.return}}function ll(e,t,a){var n=Kc();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ul(e)?ml(t,a):null!==(a=Rn(e,t,a,n))&&(Yc(a,e,n),pl(a,t,n))}function ol(e,t,a){cl(e,t,a,Kc())}function cl(e,t,a,n){var r={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ul(e))ml(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,a);if(r.hasEagerState=!0,r.eagerState=l,Xa(l,i))return An(e,t,r,0),null===hc&&Pn(),!1}catch(o){}if(null!==(a=Rn(e,t,r,n)))return Yc(a,e,n),pl(a,t,n),!0}return!1}function dl(e,t,a,n){if(n={lane:2,revertLane:qd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(t)throw Error(i(479))}else null!==(t=Rn(e,a,n,2))&&Yc(t,e,2)}function ul(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function ml(e,t){Ks=Vs=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function pl(e,t,a){if(0!==(4194048&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,Le(e,a)}}var hl={readContext:Rr,use:di,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};hl.useEffectEvent=Js;var fl={readContext:Rr,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Rr,useEffect:Ui,useImperativeHandle:function(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Mi(4194308,4,Vi.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){Mi(4,2,e,t)},useMemo:function(e,t){var a=li();t=void 0===t?null:t;var n=e();if($s){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=li();if(void 0!==a){var r=a(t);if($s){be(!0);try{a(t)}finally{be(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=ll.bind(null,qs,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=ji(e)).queue,a=ol.bind(null,qs,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:$i,useDeferredValue:function(e,t){return Qi(li(),e,t)},useTransition:function(){var e=ji(!1);return e=Ji.bind(null,qs,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=qs,r=li();if(ur){if(void 0===a)throw Error(i(407));a=a()}else{if(a=t(),null===hc)throw Error(i(349));0!==(127&xc)||gi(n,t,a)}r.memoizedState=a;var s={value:a,getSnapshot:t};return r.queue=s,Ui(bi.bind(null,n,s,e),[e]),n.flags|=2048,Ii(9,{destroy:void 0},yi.bind(null,n,s,a,t),null),a},useId:function(){var e=li(),t=hc.identifierPrefix;if(ur){var a=nr;t="_"+t+"R_"+(a=(ar&~(1<<32-ve(ar)-1)).toString(32)+a),0<(a=Ys++)&&(t+="H"+a.toString(32)),t+="_"}else t="_"+t+"r_"+(a=Xs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nl,useFormState:Ai,useActionState:Ai,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=dl.bind(null,qs,!0,a),a.dispatch=t,[e,t]},useMemoCache:ui,useCacheRefresh:function(){return li().memoizedState=il.bind(null,qs)},useEffectEvent:function(e){var t=li(),a={impl:e};return t.memoizedState=a,function(){if(0!==(2&pc))throw Error(i(440));return a.impl.apply(void 0,arguments)}}},xl={readContext:Rr,use:di,useCallback:Yi,useContext:Rr,useEffect:Bi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Wi,useMemo:Gi,useReducer:pi,useRef:Fi,useState:function(){return pi(mi)},useDebugValue:$i,useDeferredValue:function(e,t){return Xi(oi(),Hs.memoizedState,e,t)},useTransition:function(){var e=pi(mi)[0],t=oi().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:xi,useId:rl,useHostTransitionStatus:nl,useFormState:Ri,useActionState:Ri,useOptimistic:function(e,t){return Ni(oi(),0,e,t)},useMemoCache:ui,useCacheRefresh:sl};xl.useEffectEvent=qi;var gl={readContext:Rr,use:di,useCallback:Yi,useContext:Rr,useEffect:Bi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Wi,useMemo:Gi,useReducer:fi,useRef:Fi,useState:function(){return fi(mi)},useDebugValue:$i,useDeferredValue:function(e,t){var a=oi();return null===Hs?Qi(a,e,t):Xi(a,Hs.memoizedState,e,t)},useTransition:function(){var e=fi(mi)[0],t=oi().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:xi,useId:rl,useHostTransitionStatus:nl,useFormState:Di,useActionState:Di,useOptimistic:function(e,t){var a=oi();return null!==Hs?Ni(a,0,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ui,useCacheRefresh:sl};function yl(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:p({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}gl.useEffectEvent=qi;var bl={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Kc(),r=ys(n);r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=bs(e,r,n))&&(Yc(t,e,n),vs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Kc(),r=ys(n);r.tag=1,r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=bs(e,r,n))&&(Yc(t,e,n),vs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Kc(),n=ys(a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=bs(e,n,a))&&(Yc(t,e,a),vs(t,e,a))}};function vl(e,t,a,n,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Ja(a,n)||!Ja(r,s))}function wl(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&bl.enqueueReplaceState(t,t.state,null)}function jl(e,t){var a=t;if("ref"in t)for(var n in a={},t)"ref"!==n&&(a[n]=t[n]);if(e=e.defaultProps)for(var r in a===t&&(a=p({},a)),e)void 0===a[r]&&(a[r]=e[r]);return a}function Nl(e){_n(e)}function kl(e){console.error(e)}function Sl(e){_n(e)}function _l(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Cl(e,t,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function El(e,t,a){return(a=ys(a)).tag=3,a.payload={element:null},a.callback=function(){_l(e,t)},a}function Tl(e){return(e=ys(e)).tag=3,e}function Pl(e,t,a,n){var r=a.type.getDerivedStateFromError;if("function"===typeof r){var s=n.value;e.payload=function(){return r(s)},e.callback=function(){Cl(t,a,n)}}var i=a.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Cl(t,a,n),"function"!==typeof r&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Al=Error(i(461)),Rl=!1;function Ol(e,t,a,n){t.child=null===e?hs(t,null,a,n):ps(t,e.child,a,n)}function Ll(e,t,a,n,r){a=a.render;var s=t.ref;if("ref"in n){var i={};for(var l in n)"ref"!==l&&(i[l]=n[l])}else i=n;return Ar(t),n=ei(e,t,a,i,s,r),l=ri(),null===e||Rl?(ur&&l&&ir(t),t.flags|=1,Ol(e,t,n,r),t.child):(si(e,t,r),no(e,t,r))}function Dl(e,t,a,n,r){if(null===e){var s=a.type;return"function"!==typeof s||zn(s)||void 0!==s.defaultProps||null!==a.compare?((e=qn(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Il(e,t,s,n,r))}if(s=e.child,!ro(e,r)){var i=s.memoizedProps;if((a=null!==(a=a.compare)?a:Ja)(i,n)&&e.ref===t.ref)return no(e,t,r)}return t.flags|=1,(e=Un(s,n)).ref=t.ref,e.return=t,t.child=e}function Il(e,t,a,n,r){if(null!==e){var s=e.memoizedProps;if(Ja(s,n)&&e.ref===t.ref){if(Rl=!1,t.pendingProps=n=s,!ro(e,r))return t.lanes=e.lanes,no(e,t,r);0!==(131072&e.flags)&&(Rl=!0)}}return Hl(e,t,a,n,r)}function Fl(e,t,a,n){var r=n.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|a:a,null!==e){for(n=t.child=e.child,r=0;null!==n;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~s}else n=0,t.child=null;return zl(e,t,s,a,n)}if(0===(536870912&a))return n=t.lanes=536870912,zl(e,t,null!==s?s.baseLanes|a:a,a,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gr(0,null!==s?s.cachePool:null),null!==s?Ts(t,s):Ps(),Is(t)}else null!==s?(Gr(0,s.cachePool),Ts(t,s),Fs(),t.memoizedState=null):(null!==e&&Gr(0,null),Ps(),Fs());return Ol(e,t,r,a),t.child}function Ml(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zl(e,t,a,n,r){var s=Yr();return s=null===s?null:{parent:Mr._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},null!==e&&Gr(0,null),Ps(),Is(t),null!==e&&Tr(e,t,n,!0),t.childLanes=r,null}function Ul(e,t){return(t=Jl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bl(e,t,a){return ps(t,e.child,null,a),(e=Ul(t,t.pendingProps)).flags|=2,Ms(t),t.memoizedState=null,e}function ql(e,t){var a=t.ref;if(null===a)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(i(284));null!==e&&e.ref===a||(t.flags|=4194816)}}function Hl(e,t,a,n,r){return Ar(t),a=ei(e,t,a,n,void 0,r),n=ri(),null===e||Rl?(ur&&n&&ir(t),t.flags|=1,Ol(e,t,a,r),t.child):(si(e,t,r),no(e,t,r))}function Wl(e,t,a,n,r,s){return Ar(t),t.updateQueue=null,a=ai(t,n,a,r),ti(e),n=ri(),null===e||Rl?(ur&&n&&ir(t),t.flags|=1,Ol(e,t,a,s),t.child):(si(e,t,s),no(e,t,s))}function Vl(e,t,a,n,r){if(Ar(t),null===t.stateNode){var s=In,i=a.contextType;"object"===typeof i&&null!==i&&(s=Rr(i)),s=new a(n,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=bl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=n,s.state=t.memoizedState,s.refs={},xs(t),i=a.contextType,s.context="object"===typeof i&&null!==i?Rr(i):In,s.state=t.memoizedState,"function"===typeof(i=a.getDerivedStateFromProps)&&(yl(t,a,i,n),s.state=t.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&bl.enqueueReplaceState(s,s.state,null),ks(t,n,s,r),Ns(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=jl(a,l);s.props=o;var c=s.context,d=a.contextType;i=In,"object"===typeof d&&null!==d&&(i=Rr(d));var u=a.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l||c!==i)&&wl(t,s,n,i),fs=!1;var m=t.memoizedState;s.state=m,ks(t,n,s,r),Ns(),c=t.memoizedState,l||m!==c||fs?("function"===typeof u&&(yl(t,a,u,n),c=t.memoizedState),(o=fs||vl(t,a,o,n,m,c,i))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=i,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,gs(e,t),d=jl(a,i=t.memoizedProps),s.props=d,u=t.pendingProps,m=s.context,c=a.contextType,o=In,"object"===typeof c&&null!==c&&(o=Rr(c)),(c="function"===typeof(l=a.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||m!==o)&&wl(t,s,n,o),fs=!1,m=t.memoizedState,s.state=m,ks(t,n,s,r),Ns();var p=t.memoizedState;i!==u||m!==p||fs||null!==e&&null!==e.dependencies&&Pr(e.dependencies)?("function"===typeof l&&(yl(t,a,l,n),p=t.memoizedState),(d=fs||vl(t,a,d,n,m,p,o)||null!==e&&null!==e.dependencies&&Pr(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=o,n=d):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,ql(e,t),n=0!==(128&t.flags),s||n?(s=t.stateNode,a=n&&"function"!==typeof a.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&n?(t.child=ps(t,e.child,null,r),t.child=ps(t,null,a,r)):Ol(e,t,a,r),t.memoizedState=s.state,e=t.child):e=no(e,t,r),e}function Kl(e,t,a,n){return br(),t.flags|=256,Ol(e,t,a,n),t.child}var $l={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yl(e){return{baseLanes:e,cachePool:Qr()}}function Gl(e,t,a){return e=null!==e?e.childLanes&~a:0,t&&(e|=Cc),e}function Ql(e,t,a){var n,r=t.pendingProps,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&zs.current)),n&&(s=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ur){if(s?Ls(t):Fs(),(e=dr)?null!==(e=null!==(e=Pu(e,pr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:ar,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},(a=Vn(e)).return=t,t.child=a,cr=t,dr=null):e=null,null===e)throw fr(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,s?(Fs(),o=Jl({mode:"hidden",children:o},s=t.mode),r=Hn(r,s,a,null),o.return=t,r.return=t,o.sibling=r,t.child=o,(r=t.child).memoizedState=Yl(a),r.childLanes=Gl(e,n,a),t.memoizedState=$l,Ml(null,r)):(Ls(t),Xl(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(l)256&t.flags?(Ls(t),t.flags&=-257,t=Zl(e,t,a)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),o=r.fallback,s=t.mode,r=Jl({mode:"visible",children:r.children},s),(o=Hn(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,ps(t,e.child,null,a),(r=t.child).memoizedState=Yl(a),r.childLanes=Gl(e,n,a),t.memoizedState=$l,t=Ml(null,r));else if(Ls(t),Ru(o)){if(n=o.nextSibling&&o.nextSibling.dataset)var d=n.dgst;n=d,(r=Error(i(419))).stack="",r.digest=n,wr({value:r,source:null,stack:null}),t=Zl(e,t,a)}else if(Rl||Tr(e,t,a,!1),n=0!==(a&e.childLanes),Rl||n){if(null!==(n=hc)&&(0!==(r=De(n,a))&&r!==c.retryLane))throw c.retryLane=r,On(e,r),Yc(n,e,r),Al;Au(o)||id(),t=Zl(e,t,a)}else Au(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,dr=Ou(o.nextSibling),cr=t,ur=!0,mr=null,pr=!1,null!==e&&or(t,e),(t=Xl(t,r.children)).flags|=4096);return t}return s?(Fs(),o=r.fallback,s=t.mode,d=(c=e.child).sibling,(r=Un(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=Un(d,o):(o=Hn(o,s,a,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,Ml(null,r),r=t.child,null===(o=e.child.memoizedState)?o=Yl(a):(null!==(s=o.cachePool)?(c=Mr._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Qr(),o={baseLanes:o.baseLanes|a,cachePool:s}),r.memoizedState=o,r.childLanes=Gl(e,n,a),t.memoizedState=$l,Ml(e.child,r)):(Ls(t),e=(a=e.child).sibling,(a=Un(a,{mode:"visible",children:r.children})).return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a)}function Xl(e,t){return(t=Jl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Jl(e,t){return(e=Mn(22,e,null,t)).lanes=0,e}function Zl(e,t,a){return ps(t,e.child,null,a),(e=Xl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Cr(e.return,t,a)}function to(e,t,a,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=a,i.tailMode=r,i.treeForkCount=s)}function ao(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;n=n.children;var i=zs.current,l=0!==(2&i);if(l?(i=1&i|2,t.flags|=128):i&=1,B(zs,i),Ol(e,t,n,a),n=ur?Jn:0,!l&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,a,t);else if(19===e.tag)eo(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===Us(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),to(t,!1,r,a,s,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Us(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}to(t,!0,a,null,s,n);break;case"together":to(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function no(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(a&t.childLanes)){if(null===e)return null;if(Tr(e,t,a,!1),0===(a&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(a=Un(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Un(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function ro(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pr(e))}function so(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps)Rl=!0;else{if(!ro(e,a)&&0===(128&t.flags))return Rl=!1,function(e,t,a){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Sr(0,Mr,e.memoizedState.cache),br();break;case 27:case 5:Q(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Sr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ds(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Ls(t),t.flags|=128,null):0!==(a&t.child.childLanes)?Ql(e,t,a):(Ls(t),null!==(e=no(e,t,a))?e.sibling:null);Ls(t);break;case 19:var r=0!==(128&e.flags);if((n=0!==(a&t.childLanes))||(Tr(e,t,a,!1),n=0!==(a&t.childLanes)),r){if(n)return ao(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),B(zs,zs.current),n)break;return null;case 22:return t.lanes=0,Fl(e,t,a,t.pendingProps);case 24:Sr(0,Mr,e.memoizedState.cache)}return no(e,t,a)}(e,t,a);Rl=0!==(131072&e.flags)}else Rl=!1,ur&&0!==(1048576&t.flags)&&sr(t,Jn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ns(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===j){t.tag=11,t=Ll(null,t,e,n,a);break e}if(r===S){t.tag=14,t=Dl(null,t,e,n,a);break e}}throw t=R(e)||e,Error(i(306,t,""))}zn(e)?(n=jl(e,n),t.tag=1,t=Vl(null,t,e,n,a)):(t.tag=0,t=Hl(null,t,e,n,a))}return t;case 0:return Hl(e,t,t.type,t.pendingProps,a);case 1:return Vl(e,t,n=t.type,r=jl(n,t.pendingProps),a);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var s=t.memoizedState;r=s.element,gs(e,t),ks(t,n,null,a);var l=t.memoizedState;if(n=l.cache,Sr(0,Mr,n),n!==s.cache&&Er(t,[Mr],a,!0),Ns(),n=l.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Kl(e,t,n,a);break e}if(n!==r){wr(r=Yn(Error(i(424)),t)),t=Kl(e,t,n,a);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(dr=Ou(e.firstChild),cr=t,ur=!0,mr=null,pr=!0,a=hs(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(br(),n===r){t=no(e,t,a);break e}Ol(e,t,n,a)}t=t.child}return t;case 26:return ql(e,t),null===e?(a=Vu(t.type,null,t.pendingProps,null))?t.memoizedState=a:ur||(a=t.type,e=t.pendingProps,(n=xu(K.current).createElement(a))[Be]=t,n[qe]=e,mu(n,a,e),et(n),t.stateNode=n):t.memoizedState=Vu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ur&&(n=t.stateNode=Fu(t.type,t.pendingProps,K.current),cr=t,pr=!0,r=dr,_u(t.type)?(Lu=r,dr=Ou(n.firstChild)):dr=r),Ol(e,t,t.pendingProps.children,a),ql(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ur&&((r=n=dr)&&(null!==(n=function(e,t,a,n){for(;1===e.nodeType;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=Ou(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,pr))?(t.stateNode=n,cr=t,dr=Ou(n.firstChild),pr=!1,r=!0):r=!1),r||fr(t)),Q(t),r=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,n=s.children,bu(r,s)?n=null:null!==l&&bu(r,l)&&(t.flags|=32),null!==t.memoizedState&&(r=ei(e,t,ni,null,null,a),dm._currentValue=r),ql(e,t),Ol(e,t,n,a),t.child;case 6:return null===e&&ur&&((e=a=dr)&&(null!==(a=function(e,t,a){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=Ou(e.nextSibling)))return null}return e}(a,t.pendingProps,pr))?(t.stateNode=a,cr=t,dr=null,e=!0):e=!1),e||fr(t)),null;case 13:return Ql(e,t,a);case 4:return Y(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ps(t,null,n,a):Ol(e,t,n,a),t.child;case 11:return Ll(e,t,t.type,t.pendingProps,a);case 7:return Ol(e,t,t.pendingProps,a),t.child;case 8:case 12:return Ol(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Sr(0,t.type,n.value),Ol(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Ar(t),n=n(r=Rr(r)),t.flags|=1,Ol(e,t,n,a),t.child;case 14:return Dl(e,t,t.type,t.pendingProps,a);case 15:return Il(e,t,t.type,t.pendingProps,a);case 19:return ao(e,t,a);case 31:return function(e,t,a){var n=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ur){if("hidden"===n.mode)return e=Ul(t,n),t.lanes=536870912,Ml(null,e);if(Ds(t),(e=dr)?null!==(e=null!==(e=Pu(e,pr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:ar,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},(a=Vn(e)).return=t,t.child=a,cr=t,dr=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return Ul(t,n)}var s=e.memoizedState;if(null!==s){var l=s.dehydrated;if(Ds(t),r)if(256&t.flags)t.flags&=-257,t=Bl(e,t,a);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Rl||Tr(e,t,a,!1),r=0!==(a&e.childLanes),Rl||r){if(null!==(n=hc)&&0!==(l=De(n,a))&&l!==s.retryLane)throw s.retryLane=l,On(e,l),Yc(n,e,l),Al;id(),t=Bl(e,t,a)}else e=s.treeContext,dr=Ou(l.nextSibling),cr=t,ur=!0,mr=null,pr=!1,null!==e&&or(t,e),(t=Ul(t,n)).flags|=4096;return t}return(e=Un(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,a);case 22:return Fl(e,t,a,t.pendingProps);case 24:return Ar(t),n=Rr(Mr),null===e?(null===(r=Yr())&&(r=hc,s=zr(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=a),r=s),t.memoizedState={parent:n,cache:r},xs(t),Sr(0,Mr,r)):(0!==(e.lanes&a)&&(gs(e,t),ks(t,null,null,a),Ns()),r=e.memoizedState,s=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Sr(0,Mr,n)):(n=s.cache,Sr(0,Mr,n),n!==r.cache&&Er(t,[Mr],a,!0))),Ol(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function io(e){e.flags|=4}function lo(e,t,a,n,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!nd())throw rs=es,Jr;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rm(t)){if(!nd())throw rs=es,Jr;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ec|=t)}function uo(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mo(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=65011712&r.subtreeFlags,n|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function po(e,t,a){var n=t.pendingProps;switch(lr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mo(t),null;case 3:return a=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_r(Mr),G(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(yr(t)?io(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vr())),mo(t),null;case 26:var r=t.type,s=t.memoizedState;return null===e?(io(t),null!==s?(mo(t),oo(t,s)):(mo(t),lo(t,r,0,0,a))):s?s!==e.memoizedState?(io(t),mo(t),oo(t,s)):(mo(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&io(t),mo(t),lo(t,r,0,0,a)),null;case 27:if(X(t),a=K.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&io(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return mo(t),null}e=W.current,yr(t)?xr(t):(e=Fu(r,n,a),t.stateNode=e,io(t))}return mo(t),null;case 5:if(X(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&io(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return mo(t),null}if(s=W.current,yr(t))xr(t);else{var l=xu(K.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(s=l.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof n.is?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s="string"===typeof n.is?l.createElement(r,{is:n.is}):l.createElement(r)}}s[Be]=t,s[qe]=n;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)s.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(mu(s,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&io(t)}}return mo(t),lo(t,t.type,null===e||e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&io(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=K.current,yr(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,null!==(r=cr))switch(r.tag){case 27:case 5:n=r.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===a||null!==n&&!0===n.suppressHydrationWarning||cu(e.nodeValue,a)))||fr(t,!0)}else(e=xu(e).createTextNode(n))[Be]=t,t.stateNode=e}return mo(t),null;case 31:if(a=t.memoizedState,null===e||null!==e.memoizedState){if(n=yr(t),null!==a){if(null===e){if(!n)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Be]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),e=!1}else a=vr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return 256&t.flags?(Ms(t),t):(Ms(t),null);if(0!==(128&t.flags))throw Error(i(558))}return mo(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=yr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Be]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),r=!1}else r=vr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Ms(t),t):(Ms(t),null)}return Ms(t),0!==(128&t.flags)?(t.lanes=a,t):(a=null!==n,e=null!==e&&null!==e.memoizedState,a&&(r=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(r=n.alternate.memoizedState.cachePool.pool),s=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(s=n.memoizedState.cachePool.pool),s!==r&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),co(t,t.updateQueue),mo(t),null);case 4:return G(),null===e&&Zd(t.stateNode.containerInfo),mo(t),null;case 10:return _r(t.type),mo(t),null;case 19:if(U(zs),null===(n=t.memoizedState))return mo(t),null;if(r=0!==(128&t.flags),null===(s=n.rendering))if(r)uo(n,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Us(e))){for(t.flags|=128,uo(n,!1),e=s.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=a,a=t.child;null!==a;)Bn(a,e),a=a.sibling;return B(zs,1&zs.current|2),ur&&rr(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&oe()>Lc&&(t.flags|=128,r=!0,uo(n,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Us(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate&&!ur)return mo(t),null}else 2*oe()-n.renderingStartTime>Lc&&536870912!==a&&(t.flags|=128,r=!0,uo(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=n.last)?e.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=oe(),e.sibling=null,a=zs.current,B(zs,r?1&a|2:1&a),ur&&rr(t,n.treeForkCount),e):(mo(t),null);case 22:case 23:return Ms(t),As(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&a)&&0===(128&t.flags)&&(mo(t),6&t.subtreeFlags&&(t.flags|=8192)):mo(t),null!==(a=t.updateQueue)&&co(t,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),null!==e&&U($r),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_r(Mr),mo(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ho(e,t){switch(lr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _r(Mr),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Ms(t),null===t.alternate)throw Error(i(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ms(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(zs),null;case 4:return G(),null;case 10:return _r(t.type),null;case 22:case 23:return Ms(t),As(),null!==e&&U($r),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _r(Mr),null;default:return null}}function fo(e,t){switch(lr(t),t.tag){case 3:_r(Mr),G();break;case 26:case 27:case 5:X(t);break;case 4:G();break;case 31:null!==t.memoizedState&&Ms(t);break;case 13:Ms(t);break;case 19:U(zs);break;case 10:_r(t.type);break;case 22:case 23:Ms(t),As(),null!==e&&U($r);break;case 24:_r(Mr)}}function xo(e,t){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var s=a.create,i=a.inst;n=s(),i.destroy=n}a=a.next}while(a!==r)}}catch(l){Nd(t,t.return,l)}}function go(e,t,a){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){var i=n.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,r=t;var o=a,c=l;try{c()}catch(d){Nd(r,o,d)}}}n=n.next}while(n!==s)}}catch(d){Nd(t,t.return,d)}}function yo(e){var t=e.updateQueue;if(null!==t){var a=e.stateNode;try{_s(t,a)}catch(n){Nd(e,e.return,n)}}}function bo(e,t,a){a.props=jl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Nd(e,t,n)}}function vo(e,t){try{var a=e.ref;if(null!==a){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof a?e.refCleanup=a(n):a.current=n}}catch(r){Nd(e,t,r)}}function wo(e,t){var a=e.ref,n=e.refCleanup;if(null!==a)if("function"===typeof n)try{n()}catch(r){Nd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(s){Nd(e,t,s)}else a.current=null}function jo(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Nd(e,e.return,r)}}function No(e,t,a){try{var n=e.stateNode;!function(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,l=null,o=null,c=null,d=null,u=null;for(h in a){var m=a[h];if(a.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(h)||du(e,t,h,null,n,m)}}for(var p in n){var h=n[p];if(m=a[p],n.hasOwnProperty(p)&&(null!=h||null!=m))switch(p){case"type":s=h;break;case"name":r=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":l=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:h!==m&&du(e,t,p,h,n,m)}}return void yt(e,l,o,c,d,u,s,r);case"select":for(s in h=l=o=p=null,a)if(c=a[s],a.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(s)||du(e,t,s,null,n,c)}for(r in n)if(s=n[r],c=a[r],n.hasOwnProperty(r)&&(null!=s||null!=c))switch(r){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":l=s;default:s!==c&&du(e,t,r,s,n,c)}return t=o,a=l,n=h,void(null!=p?wt(e,!!a,p,!1):!!n!==!!a&&(null!=t?wt(e,!!a,t,!0):wt(e,!!a,a?[]:"",!1)));case"textarea":for(o in h=p=null,a)if(r=a[o],a.hasOwnProperty(o)&&null!=r&&!n.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,n,r)}for(l in n)if(r=n[l],s=a[l],n.hasOwnProperty(l)&&(null!=r||null!=s))switch(l){case"value":p=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==s&&du(e,t,l,r,n,s)}return void jt(e,p,h);case"option":for(var f in a)if(p=a[f],a.hasOwnProperty(f)&&null!=p&&!n.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,n,p);for(c in n)if(p=n[c],h=a[c],n.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else du(e,t,c,p,n,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in a)p=a[x],a.hasOwnProperty(x)&&null!=p&&!n.hasOwnProperty(x)&&du(e,t,x,null,n,p);for(d in n)if(p=n[d],h=a[d],n.hasOwnProperty(d)&&p!==h&&(null!=p||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:du(e,t,d,p,n,h)}return;default:if(Et(t)){for(var g in a)p=a[g],a.hasOwnProperty(g)&&void 0!==p&&!n.hasOwnProperty(g)&&uu(e,t,g,void 0,n,p);for(u in n)p=n[u],h=a[u],!n.hasOwnProperty(u)||p===h||void 0===p&&void 0===h||uu(e,t,u,p,n,h);return}}for(var y in a)p=a[y],a.hasOwnProperty(y)&&null!=p&&!n.hasOwnProperty(y)&&du(e,t,y,null,n,p);for(m in n)p=n[m],h=a[m],!n.hasOwnProperty(m)||p===h||null==p&&null==h||du(e,t,m,p,n,h)}(n,e.type,a,t),n[qe]=t}catch(r){Nd(e,e.return,r)}}function ko(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&_u(e.type)||4===e.tag}function So(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ko(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&_u(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _o(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).insertBefore(e,t):((t=9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Rt));else if(4!==n&&(27===n&&_u(e.type)&&(a=e.stateNode,t=null),null!==(e=e.child)))for(_o(e,t,a),e=e.sibling;null!==e;)_o(e,t,a),e=e.sibling}function Co(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&(27===n&&_u(e.type)&&(a=e.stateNode),null!==(e=e.child)))for(Co(e,t,a),e=e.sibling;null!==e;)Co(e,t,a),e=e.sibling}function Eo(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mu(t,n,a),t[Be]=e,t[qe]=a}catch(s){Nd(e,e.return,s)}}var To=!1,Po=!1,Ao=!1,Ro="function"===typeof WeakSet?WeakSet:Set,Oo=null;function Lo(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Yo(e,a),4&n&&xo(5,a);break;case 1:if(Yo(e,a),4&n)if(e=a.stateNode,null===t)try{e.componentDidMount()}catch(i){Nd(a,a.return,i)}else{var r=jl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Nd(a,a.return,l)}}64&n&&yo(a),512&n&&vo(a,a.return);break;case 3:if(Yo(e,a),64&n&&null!==(e=a.updateQueue)){if(t=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:t=a.child.stateNode}try{_s(e,t)}catch(i){Nd(a,a.return,i)}}break;case 27:null===t&&4&n&&Eo(a);case 26:case 5:Yo(e,a),null===t&&4&n&&jo(a),512&n&&vo(a,a.return);break;case 12:Yo(e,a);break;case 31:Yo(e,a),4&n&&Uo(e,a);break;case 13:Yo(e,a),4&n&&Bo(e,a),64&n&&(null!==(e=a.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var a=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==a.readyState)t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,a=Cd.bind(null,a))));break;case 22:if(!(n=null!==a.memoizedState||To)){t=null!==t&&null!==t.memoizedState||Po,r=To;var s=Po;To=n,(Po=t)&&!s?Qo(e,a,0!==(8772&a.subtreeFlags)):Yo(e,a),To=r,Po=s}break;case 30:break;default:Yo(e,a)}}function Do(e){var t=e.alternate;null!==t&&(e.alternate=null,Do(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Io=null,Fo=!1;function Mo(e,t,a){for(a=a.child;null!==a;)zo(e,t,a),a=a.sibling}function zo(e,t,a){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ge,a)}catch(s){}switch(a.tag){case 26:Po||wo(a,t),Mo(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:Po||wo(a,t);var n=Io,r=Fo;_u(a.type)&&(Io=a.stateNode,Fo=!1),Mo(e,t,a),Mu(a.stateNode),Io=n,Fo=r;break;case 5:Po||wo(a,t);case 6:if(n=Io,r=Fo,Io=null,Mo(e,t,a),Fo=r,null!==(Io=n))if(Fo)try{(9===Io.nodeType?Io.body:"HTML"===Io.nodeName?Io.ownerDocument.body:Io).removeChild(a.stateNode)}catch(i){Nd(a,t,i)}else try{Io.removeChild(a.stateNode)}catch(i){Nd(a,t,i)}break;case 18:null!==Io&&(Fo?(Cu(9===(e=Io).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,a.stateNode),Wm(e)):Cu(Io,a.stateNode));break;case 4:n=Io,r=Fo,Io=a.stateNode.containerInfo,Fo=!0,Mo(e,t,a),Io=n,Fo=r;break;case 0:case 11:case 14:case 15:go(2,a,t),Po||go(4,a,t),Mo(e,t,a);break;case 1:Po||(wo(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount&&bo(a,t,n)),Mo(e,t,a);break;case 21:Mo(e,t,a);break;case 22:Po=(n=Po)||null!==a.memoizedState,Mo(e,t,a),Po=n;break;default:Mo(e,t,a)}}function Uo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wm(e)}catch(a){Nd(t,t.return,a)}}}function Bo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wm(e)}catch(a){Nd(t,t.return,a)}}function qo(e,t){var a=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ro),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ro),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!a.has(t)){a.add(t);var n=Ed.bind(null,e,t);t.then(n,n)}})}function Ho(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n],s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(_u(o.type)){Io=o.stateNode,Fo=!1;break e}break;case 5:Io=o.stateNode,Fo=!1;break e;case 3:case 4:Io=o.stateNode.containerInfo,Fo=!0;break e}o=o.return}if(null===Io)throw Error(i(160));zo(s,l,r),Io=null,Fo=!1,null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vo(t,e),t=t.sibling}var Wo=null;function Vo(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ho(t,e),Ko(e),4&n&&(go(3,e,e.return),xo(3,e),go(5,e,e.return));break;case 1:Ho(t,e),Ko(e),512&n&&(Po||null===a||wo(a,a.return)),64&n&&To&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?n:a.concat(n))));break;case 26:var r=Wo;if(Ho(t,e),Ko(e),512&n&&(Po||null===a||wo(a,a.return)),4&n){var s=null!==a?a.memoizedState:null;if(n=e.memoizedState,null===a)if(null===n)if(null===e.stateNode){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":(!(s=r.getElementsByTagName("title")[0])||s[Ye]||s[Be]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=r.createElement(n),r.head.insertBefore(s,r.querySelector("head > title"))),mu(s,n,a),s[Be]=e,et(s),n=s;break e;case"link":var l=am("link","href",r).get(n+(a.href||""));if(l)for(var o=0;o<l.length;o++)if((s=l[o]).getAttribute("href")===(null==a.href||""===a.href?null:a.href)&&s.getAttribute("rel")===(null==a.rel?null:a.rel)&&s.getAttribute("title")===(null==a.title?null:a.title)&&s.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){l.splice(o,1);break t}mu(s=r.createElement(n),n,a),r.head.appendChild(s);break;case"meta":if(l=am("meta","content",r).get(n+(a.content||"")))for(o=0;o<l.length;o++)if((s=l[o]).getAttribute("content")===(null==a.content?null:""+a.content)&&s.getAttribute("name")===(null==a.name?null:a.name)&&s.getAttribute("property")===(null==a.property?null:a.property)&&s.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&s.getAttribute("charset")===(null==a.charSet?null:a.charSet)){l.splice(o,1);break t}mu(s=r.createElement(n),n,a),r.head.appendChild(s);break;default:throw Error(i(468,n))}s[Be]=e,et(s),n=s}e.stateNode=n}else nm(r,e.type,e.stateNode);else e.stateNode=Xu(r,n,e.memoizedProps);else s!==n?(null===s?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):s.count--,null===n?nm(r,e.type,e.stateNode):Xu(r,n,e.memoizedProps)):null===n&&null!==e.stateNode&&No(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ho(t,e),Ko(e),512&n&&(Po||null===a||wo(a,a.return)),null!==a&&4&n&&No(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ho(t,e),Ko(e),512&n&&(Po||null===a||wo(a,a.return)),32&e.flags){r=e.stateNode;try{kt(r,"")}catch(f){Nd(e,e.return,f)}}4&n&&null!=e.stateNode&&No(e,r=e.memoizedProps,null!==a?a.memoizedProps:r),1024&n&&(Ao=!0);break;case 6:if(Ho(t,e),Ko(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(f){Nd(e,e.return,f)}}break;case 3:if(tm=null,r=Wo,Wo=Bu(t.containerInfo),Ho(t,e),Wo=r,Ko(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Wm(t.containerInfo)}catch(f){Nd(e,e.return,f)}Ao&&(Ao=!1,$o(e));break;case 4:n=Wo,Wo=Bu(e.stateNode.containerInfo),Ho(t,e),Ko(e),Wo=n;break;case 12:default:Ho(t,e),Ko(e);break;case 31:case 19:Ho(t,e),Ko(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,qo(e,n)));break;case 13:Ho(t,e),Ko(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(Rc=oe()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,qo(e,n)));break;case 22:r=null!==e.memoizedState;var c=null!==a&&null!==a.memoizedState,d=To,u=Po;if(To=d||r,Po=u||c,Ho(t,e),Po=u,To=d,Ko(e),8192&n)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===a||c||To||Po||Go(e)),a=null,t=e;;){if(5===t.tag||26===t.tag){if(null===a){c=a=t;try{if(s=c.stateNode,r)"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,p=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){Nd(c,c.return,f)}}}else if(6===t.tag){if(null===a){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){Nd(c,c.return,f)}}}else if(18===t.tag){if(null===a){c=t;try{var h=c.stateNode;r?Eu(h,!0):Eu(c.stateNode,!1)}catch(f){Nd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(a=n.retryQueue)&&(n.retryQueue=null,qo(e,a))));case 30:case 21:}}function Ko(e){var t=e.flags;if(2&t){try{for(var a,n=e.return;null!==n;){if(ko(n)){a=n;break}n=n.return}if(null==a)throw Error(i(160));switch(a.tag){case 27:var r=a.stateNode;Co(e,So(e),r);break;case 5:var s=a.stateNode;32&a.flags&&(kt(s,""),a.flags&=-33),Co(e,So(e),s);break;case 3:case 4:var l=a.stateNode.containerInfo;_o(e,So(e),l);break;default:throw Error(i(161))}}catch(o){Nd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $o(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$o(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Lo(e,t.alternate,t),t=t.sibling}function Go(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:go(4,t,t.return),Go(t);break;case 1:wo(t,t.return);var a=t.stateNode;"function"===typeof a.componentWillUnmount&&bo(t,t.return,a),Go(t);break;case 27:Mu(t.stateNode);case 26:case 5:wo(t,t.return),Go(t);break;case 22:null===t.memoizedState&&Go(t);break;default:Go(t)}e=e.sibling}}function Qo(e,t,a){for(a=a&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,r=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Qo(r,s,a),xo(4,s);break;case 1:if(Qo(r,s,a),"function"===typeof(r=(n=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Nd(n,n.return,c)}if(null!==(r=(n=s).updateQueue)){var l=n.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Ss(o[r],l)}catch(c){Nd(n,n.return,c)}}a&&64&i&&yo(s),vo(s,s.return);break;case 27:Eo(s);case 26:case 5:Qo(r,s,a),a&&null===n&&4&i&&jo(s),vo(s,s.return);break;case 12:Qo(r,s,a);break;case 31:Qo(r,s,a),a&&4&i&&Uo(r,s);break;case 13:Qo(r,s,a),a&&4&i&&Bo(r,s);break;case 22:null===s.memoizedState&&Qo(r,s,a),vo(s,s.return);break;case 30:break;default:Qo(r,s,a)}t=t.sibling}}function Xo(e,t){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&Ur(a))}function Jo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ur(e))}function Zo(e,t,a,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,a,n),t=t.sibling}function ec(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zo(e,t,a,n),2048&r&&xo(9,t);break;case 1:case 31:case 13:default:Zo(e,t,a,n);break;case 3:Zo(e,t,a,n),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ur(e)));break;case 12:if(2048&r){Zo(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"===typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Nd(t,t.return,o)}}else Zo(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Zo(e,t,a,n):ac(e,t):2&s._visibility?Zo(e,t,a,n):(s._visibility|=2,tc(e,t,a,n,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Xo(i,t);break;case 24:Zo(e,t,a,n),2048&r&&Jo(t.alternate,t)}}function tc(e,t,a,n,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,l=a,o=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(s,i,l,o,r),xo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?tc(s,i,l,o,r):ac(s,i):(d._visibility|=2,tc(s,i,l,o,r)),r&&2048&c&&Xo(i.alternate,i);break;case 24:tc(s,i,l,o,r),r&&2048&c&&Jo(i.alternate,i);break;default:tc(s,i,l,o,r)}t=t.sibling}}function ac(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:ac(a,n),2048&r&&Xo(n.alternate,n);break;case 24:ac(a,n),2048&r&&Jo(n.alternate,n);break;default:ac(a,n)}t=t.sibling}}var nc=8192;function rc(e,t,a){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)sc(e,t,a),e=e.sibling}function sc(e,t,a){switch(e.tag){case 26:rc(e,t,a),e.flags&nc&&null!==e.memoizedState&&function(e,t,a,n){if("stylesheet"===a.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&a.state.loading)){if(null===a.instance){var r=Ku(n.href),s=t.querySelector($u(r));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=im.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,void et(s);s=t.ownerDocument||t,n=Yu(n),(r=zu.get(r))&&Zu(n,r),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),mu(s,"link",n),a.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&0===(3&a.state.loading)&&(e.count++,a=im.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}(a,Wo,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,a);break;case 3:case 4:var n=Wo;Wo=Bu(e.stateNode.containerInfo),rc(e,t,a),Wo=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,rc(e,t,a),nc=n):rc(e,t,a))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var n=t[a];Oo=n,dc(n,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&go(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):lc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var n=t[a];Oo=n,dc(n,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:go(8,t,t.return),cc(t);break;case 22:2&(a=t.stateNode)._visibility&&(a._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Oo;){var a=Oo;switch(a.tag){case 0:case 11:case 15:go(8,a,t);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var n=a.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ur(a.memoizedState.cache)}if(null!==(n=a.child))n.return=a,Oo=n;else e:for(a=e;null!==Oo;){var r=(n=Oo).sibling,s=n.return;if(Do(n),n===a){Oo=null;break e}if(null!==r){r.return=s,Oo=r;break e}Oo=s}}}var uc={getCacheForType:function(e){var t=Rr(Mr),a=t.data.get(e);return void 0===a&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Rr(Mr).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,pc=0,hc=null,fc=null,xc=0,gc=0,yc=null,bc=!1,vc=!1,wc=!1,jc=0,Nc=0,kc=0,Sc=0,_c=0,Cc=0,Ec=0,Tc=null,Pc=null,Ac=!1,Rc=0,Oc=0,Lc=1/0,Dc=null,Ic=null,Fc=0,Mc=null,zc=null,Uc=0,Bc=0,qc=null,Hc=null,Wc=0,Vc=null;function Kc(){return 0!==(2&pc)&&0!==xc?xc&-xc:null!==L.T?qd():Me()}function $c(){if(0===Cc)if(0===(536870912&xc)||ur){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Cc=e}else Cc=536870912;return null!==(e=Rs.current)&&(e.flags|=32),Cc}function Yc(e,t,a){(e!==hc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(td(e,0),Jc(e,xc,Cc,!1)),Re(e,a),0!==(2&pc)&&e===hc||(e===hc&&(0===(2&pc)&&(Sc|=a),4===Nc&&Jc(e,xc,Cc,!1)),Dd(e))}function Gc(e,t,a){if(0!==(6&pc))throw Error(i(327));for(var n=!a&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=n?function(e,t){var a=pc;pc|=2;var n=rd(),r=sd();hc!==e||xc!==t?(Dc=null,Lc=oe()+500,td(e,t)):vc=Ee(e,t);e:for(;;)try{if(0!==gc&&null!==fc){t=fc;var s=yc;t:switch(gc){case 1:gc=0,yc=null,md(e,t,s,1);break;case 2:case 9:if(ts(s)){gc=0,yc=null,ud(t);break}t=function(){2!==gc&&9!==gc||hc!==e||(gc=7),Dd(e)},s.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:ts(s)?(gc=0,yc=null,ud(t)):(gc=0,yc=null,md(e,t,s,7));break;case 5:var l=null;switch(fc.tag){case 26:l=fc.memoizedState;case 5:case 27:var o=fc;if(l?rm(l):o.stateNode.complete){gc=0,yc=null;var c=o.sibling;if(null!==c)fc=c;else{var d=o.return;null!==d?(fc=d,pd(d)):fc=null}break t}}gc=0,yc=null,md(e,t,s,5);break;case 6:gc=0,yc=null,md(e,t,s,6);break;case 8:ed(),Nc=6;break e;default:throw Error(i(462))}}cd();break}catch(u){ad(e,u)}return kr=Nr=null,L.H=n,L.A=r,pc=a,null!==fc?0:(hc=null,xc=0,Pn(),Nc)}(e,t):ld(e,t,!0),s=n;;){if(0===r){vc&&!n&&Jc(e,t,0,!1);break}if(a=e.current.alternate,!s||Xc(a)){if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;r=Tc;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,l).flags|=256),2!==(l=ld(o,l,!1))){if(wc&&!c){o.errorRecoveryDisabledLanes|=s,Sc|=s,r=4;break e}s=Pc,Pc=r,null!==s&&(null===Pc?Pc=s:Pc.push.apply(Pc,s))}r=l}if(s=!1,2!==r)continue}}if(1===r){td(e,0),Jc(e,t,0,!0);break}e:{switch(n=e,s=r){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Jc(n,t,Cc,!bc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(r=Rc+300-oe())){if(Jc(n,t,Cc,!bc),0!==Ce(n,0,!0))break e;Uc=t,n.timeoutHandle=wu(Qc.bind(null,n,a,Pc,Dc,Ac,t,Cc,Sc,Ec,bc,s,"Throttled",-0,0),r)}else Qc(n,a,Pc,Dc,Ac,t,Cc,Sc,Ec,bc,s,null,-0,0)}break}r=ld(e,t,!1),s=!1}Dd(e)}function Qc(e,t,a,n,r,s,i,l,o,c,d,u,m,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){sc(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var h=(62914560&s)===s?Rc-oe():(4194048&s)===s?Oc-oe():0;if(h=function(e,t){return e.stylesheets&&0===e.count&&om(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&om(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sm&&(sm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var r=a[n],s=r.transferSize,i=r.initiatorType,l=r.duration;if(s&&l&&pu(i)){for(i=0,l=r.responseEnd,n+=1;n<a.length;n++){var o=a[n],c=o.startTime;if(c>l)break;var d=o.transferSize,u=o.initiatorType;d&&pu(u)&&(i+=d*((o=o.responseEnd)<l?1:(l-c)/(o-c)))}if(--n,t+=8*(s+i)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&om(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sm?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}(u,h),null!==h)return Uc=s,e.cancelPendingCommit=h(fd.bind(null,e,t,s,a,n,r,i,l,o,d,u,null,m,p)),void Jc(e,s,i,!c)}fd(e,t,s,a,n,r,i,l,o)}function Xc(e){for(var t=e;;){var a=t.tag;if((0===a||11===a||15===a)&&16384&t.flags&&(null!==(a=t.updateQueue)&&null!==(a=a.stores)))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!Xa(s(),r))return!1}catch(i){return!1}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,a,n){t&=~_c,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var s=31-ve(r),i=1<<s;n[s]=-1,r&=~i}0!==a&&Oe(e,a,t)}function Zc(){return 0!==(6&pc)||(Id(0,!1),!1)}function ed(){if(null!==fc){if(0===gc)var e=fc.return;else kr=Nr=null,ii(e=fc),ls=null,os=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function td(e,t){var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,ju(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),Uc=0,ed(),hc=e,fc=a=Un(e.current,null),xc=t,gc=0,yc=null,bc=!1,vc=Ee(e,t),wc=!1,Ec=Cc=_c=Sc=kc=Nc=0,Pc=Tc=null,Ac=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var r=31-ve(n),s=1<<r;t|=e[r],n&=~s}return jc=t,Pn(),a}function ad(e,t){qs=null,L.H=hl,t===Xr||t===Zr?(t=ss(),gc=3):t===Jr?(t=ss(),gc=4):gc=t===Al?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===fc&&(Nc=1,_l(e,Yn(t,e.current)))}function nd(){var e=Rs.current;return null===e||((4194048&xc)===xc?null===Os:((62914560&xc)===xc||0!==(536870912&xc))&&e===Os)}function rd(){var e=L.H;return L.H=hl,null===e?hl:e}function sd(){var e=L.A;return L.A=uc,e}function id(){Nc=4,bc||(4194048&xc)!==xc&&null!==Rs.current||(vc=!0),0===(134217727&kc)&&0===(134217727&Sc)||null===hc||Jc(hc,xc,Cc,!1)}function ld(e,t,a){var n=pc;pc|=2;var r=rd(),s=sd();hc===e&&xc===t||(Dc=null,td(e,t)),t=!1;var i=Nc;e:for(;;)try{if(0!==gc&&null!==fc){var l=fc,o=yc;switch(gc){case 8:ed(),i=6;break e;case 3:case 2:case 9:case 6:null===Rs.current&&(t=!0);var c=gc;if(gc=0,yc=null,md(e,l,o,c),a&&vc){i=0;break e}break;default:c=gc,gc=0,yc=null,md(e,l,o,c)}}od(),i=Nc;break}catch(d){ad(e,d)}return t&&e.shellSuspendCounter++,kr=Nr=null,pc=n,L.H=r,L.A=s,null===fc&&(hc=null,xc=0,Pn()),i}function od(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!ie();)dd(fc)}function dd(e){var t=so(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?pd(e):fc=t}function ud(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wl(a,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=Wl(a,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:ii(t);default:fo(a,t),t=so(a,t=fc=Bn(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?pd(e):fc=t}function md(e,t,a,n){kr=Nr=null,ii(t),ls=null,os=0;var r=t.return;try{if(function(e,t,a,n,r){if(a.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=a.alternate)&&Tr(t,a,r,!0),null!==(a=Rs.current)){switch(a.tag){case 31:case 13:return null===Os?id():null===a.alternate&&0===Nc&&(Nc=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===es?a.flags|=16384:(null===(t=a.updateQueue)?a.updateQueue=new Set([n]):t.add(n),kd(e,n,r)),!1;case 22:return a.flags|=65536,n===es?a.flags|=16384:(null===(t=a.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):null===(a=t.retryQueue)?t.retryQueue=new Set([n]):a.add(n),kd(e,n,r)),!1}throw Error(i(435,a.tag))}return kd(e,n,r),id(),!1}if(ur)return null!==(t=Rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==hr&&wr(Yn(e=Error(i(422),{cause:n}),a))):(n!==hr&&wr(Yn(t=Error(i(423),{cause:n}),a)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,n=Yn(n,a),ws(e,r=El(e.stateNode,n,r)),4!==Nc&&(Nc=2)),!1;var s=Error(i(520),{cause:n});if(s=Yn(s,a),null===Tc?Tc=[s]:Tc.push(s),4!==Nc&&(Nc=2),null===t)return!0;n=Yn(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,ws(a,e=El(a.stateNode,n,e)),!1;case 1:if(t=a.type,s=a.stateNode,0===(128&a.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ic||!Ic.has(s))))return a.flags|=65536,r&=-r,a.lanes|=r,Pl(r=Tl(r),e,a,n),ws(a,r),!1}a=a.return}while(null!==a);return!1}(e,r,t,a,xc))return Nc=1,_l(e,Yn(a,e.current)),void(fc=null)}catch(s){if(null!==r)throw fc=r,s;return Nc=1,_l(e,Yn(a,e.current)),void(fc=null)}32768&t.flags?(ur||1===n?e=!0:vc||0!==(536870912&xc)?e=!1:(bc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Rs.current)&&13===n.tag&&(n.flags|=16384))),hd(t,e)):pd(t)}function pd(e){var t=e;do{if(0!==(32768&t.flags))return void hd(t,bc);e=t.return;var a=po(t.alternate,t,jc);if(null!==a)return void(fc=a);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Nc&&(Nc=5)}function hd(e,t){do{var a=ho(e.alternate,e);if(null!==a)return a.flags&=32767,void(fc=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=a}while(null!==e);Nc=6,fc=null}function fd(e,t,a,n,r,s,l,o,c){e.cancelPendingCommit=null;do{vd()}while(0!==Fc);if(0!==(6&pc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,a,n,r,s){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(a=i&~a;0<a;){var d=31-ve(a),u=1<<d;l[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var p=m[d];null!==p&&(p.lane&=-536870913)}a&=~u}0!==n&&Oe(e,n,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,a,s|=Tn,l,o,c),e===hc&&(fc=hc=null,xc=0),zc=t,Mc=e,Uc=a,Bc=s,qc=r,Hc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(me,function(){return wd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null,r=D.p,D.p=2,l=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,hu=bm,nn(e=an(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch(x){a=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==a||0!==r&&3!==m.nodeType||(o=l+r),m!==s||0!==n&&3!==m.nodeType||(c=l+n),3===m.nodeType&&(l+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===a&&++d===r&&(o=l),p===s&&++u===n&&(c=l),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:e,selectionRange:a},bm=!1,Oo=t;null!==Oo;)if(e=(t=Oo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Oo=e;else for(;null!==Oo;){switch(s=(t=Oo).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(a=0;a<e.length;a++)(r=e[a]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,a=t,r=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var f=jl(a.type,r);e=n.getSnapshotBeforeUpdate(f,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){Nd(a,a.return,g)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=t.stateNode.containerInfo).nodeType))Tu(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Oo=e;break}Oo=t.return}}(e,t)}finally{pc=l,D.p=r,L.T=n}}Fc=1,xd(),gd(),yd()}}function xd(){if(1===Fc){Fc=0;var e=Mc,t=zc,a=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||a){a=L.T,L.T=null;var n=D.p;D.p=2;var r=pc;pc|=4;try{Vo(t,e);var s=fu,i=an(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&tn(l.ownerDocument.documentElement,l)){if(null!==o&&nn(l)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var p=m.getSelection(),h=l.textContent.length,f=Math.min(o.start,h),x=void 0===o.end?f:Math.min(o.end,h);!p.extend&&f>x&&(i=x,x=f,f=i);var g=en(l,f),y=en(l,x);if(g&&y&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=u.createRange();b.setStart(g.node,g.offset),p.removeAllRanges(),f>x?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(u=[],p=l;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<u.length;l++){var v=u[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}bm=!!hu,fu=hu=null}finally{pc=r,D.p=n,L.T=a}}e.current=t,Fc=2}}function gd(){if(2===Fc){Fc=0;var e=Mc,t=zc,a=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||a){a=L.T,L.T=null;var n=D.p;D.p=2;var r=pc;pc|=4;try{Lo(e,t.alternate,t)}finally{pc=r,D.p=n,L.T=a}}Fc=3}}function yd(){if(4===Fc||3===Fc){Fc=0,le();var e=Mc,t=zc,a=Uc,n=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,zc=Mc=null,bd(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Ic=null),Fe(a),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==n){t=L.T,r=D.p,D.p=2,L.T=null;try{for(var s=e.onRecoverableError,i=0;i<n.length;i++){var l=n[i];s(l.value,{componentStack:l.stack})}}finally{L.T=t,D.p=r}}0!==(3&Uc)&&vd(),Dd(e),r=e.pendingLanes,0!==(261930&a)&&0!==(42&r)?e===Vc?Wc++:(Wc=0,Vc=e):Wc=0,Id(0,!1)}}function bd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ur(t)))}function vd(){return xd(),gd(),yd(),wd()}function wd(){if(5!==Fc)return!1;var e=Mc,t=Bc;Bc=0;var a=Fe(Uc),n=L.T,r=D.p;try{D.p=32>a?32:a,L.T=null,a=qc,qc=null;var s=Mc,l=Uc;if(Fc=0,zc=Mc=null,Uc=0,0!==(6&pc))throw Error(i(331));var o=pc;if(pc|=4,oc(s.current),ec(s,s.current,l,a),pc=o,Id(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ge,s)}catch(c){}return!0}finally{D.p=r,L.T=n,bd(e,t)}}function jd(e,t,a){t=Yn(a,t),null!==(e=bs(e,t=El(e.stateNode,t,2),2))&&(Re(e,2),Dd(e))}function Nd(e,t,a){if(3===e.tag)jd(e,e,a);else for(;null!==t;){if(3===t.tag){jd(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ic||!Ic.has(n))){e=Yn(a,e),null!==(n=bs(t,a=Tl(2),2))&&(Pl(a,n,t,e),Re(n,2),Dd(n));break}}t=t.return}}function kd(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new mc;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(wc=!0,r.add(a),e=Sd.bind(null,e,t,a),t.then(e,e))}function Sd(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,hc===e&&(xc&a)===a&&(4===Nc||3===Nc&&(62914560&xc)===xc&&300>oe()-Rc?0===(2&pc)&&td(e,0):_c|=a,Ec===xc&&(Ec=0)),Dd(e)}function _d(e,t){0===t&&(t=Pe()),null!==(e=On(e,t))&&(Re(e,t),Dd(e))}function Cd(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),_d(e,a)}function Ed(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),_d(e,a)}var Td=null,Pd=null,Ad=!1,Rd=!1,Od=!1,Ld=0;function Dd(e){e!==Pd&&null===e.next&&(null===Pd?Td=Pd=e:Pd=Pd.next=e),Rd=!0,Ad||(Ad=!0,ku(function(){0!==(6&pc)?re(de,Fd):Md()}))}function Id(e,t){if(!Od&&Rd){Od=!0;do{for(var a=!1,n=Td;null!==n;){if(!t)if(0!==e){var r=n.pendingLanes;if(0===r)var s=0;else{var i=n.suspendedLanes,l=n.pingedLanes;s=(1<<31-ve(42|e)+1)-1,s=201326741&(s&=r&~(i&~l))?201326741&s|1:s?2|s:0}0!==s&&(a=!0,Bd(n,s))}else s=xc,0===(3&(s=Ce(n,n===hc?s:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Ee(n,s)||(a=!0,Bd(n,s));n=n.next}}while(a);Od=!1}}function Fd(){Md()}function Md(){Rd=Ad=!1;var e=0;0!==Ld&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vu&&(vu=e,!0);return vu=null,!1}()&&(e=Ld);for(var t=oe(),a=null,n=Td;null!==n;){var r=n.next,s=zd(n,t);0===s?(n.next=null,null===a?Td=r:a.next=r,null===r&&(Pd=a)):(a=n,(0!==e||0!==(3&s))&&(Rd=!0)),n=r}0!==Fc&&5!==Fc||Id(e,!1),0!==Ld&&(Ld=0)}function zd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-ve(s),l=1<<i,o=r[i];-1===o?0!==(l&a)&&0===(l&n)||(r[i]=Te(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(a=xc,a=Ce(e,e===(t=hc)?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===a||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&se(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||Ee(e,a)){if((t=a&-a)===e.callbackPriority)return t;switch(null!==n&&se(n),Fe(a)){case 2:case 8:a=ue;break;case 32:default:a=me;break;case 268435456:a=he}return n=Ud.bind(null,e),a=re(a,n),e.callbackPriority=t,e.callbackNode=a,t}return null!==n&&null!==n&&se(n),e.callbackPriority=2,e.callbackNode=null,2}function Ud(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vd()&&e.callbackNode!==a)return null;var n=xc;return 0===(n=Ce(e,e===hc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Gc(e,n,t),zd(e,oe()),null!=e.callbackNode&&e.callbackNode===a?Ud.bind(null,e):null)}function Bd(e,t){if(vd())return null;Gc(e,t,!0)}function qd(){if(0===Ld){var e=Hr;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Ld=e}return Ld}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Wd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Vd=0;Vd<kn.length;Vd++){var Kd=kn[Vd];Sn(Kd.toLowerCase(),"on"+(Kd[0].toUpperCase()+Kd.slice(1)))}Sn(xn,"onAnimationEnd"),Sn(gn,"onAnimationIteration"),Sn(yn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(bn,"onTransitionRun"),Sn(vn,"onTransitionStart"),Sn(wn,"onTransitionCancel"),Sn(jn,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function Gd(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(d){_n(d)}r.currentTarget=null,s=o}else for(i=0;i<n.length;i++){if(o=(l=n[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(d){_n(d)}r.currentTarget=null,s=o}}}}function Qd(e,t){var a=t[We];void 0===a&&(a=t[We]=new Set);var n=e+"__bubble";a.has(n)||(eu(t,e,2,!1),a.add(n))}function Xd(e,t,a){var n=0;t&&(n|=4),eu(a,e,n,t)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Jd]){e[Jd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yd.has(t)||Xd(t,!1,e),Xd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jd]||(t[Jd]=!0,Xd("selectionchange",!1,t))}}function eu(e,t,a,n){switch(_m(t)){case 2:var r=vm;break;case 8:r=wm;break;default:r=jm}a=r.bind(null,t,a,e),r=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function tu(e,t,a,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var l=n.stateNode.containerInfo;if(l===r)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==l;){if(null===(i=Qe(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){n=s=i;continue e}l=l.parentNode}}n=n.return}zt(function(){var n=s,r=Lt(a),i=[];e:{var l=Nn.get(e);if(void 0!==l){var c=aa,d=e;switch(e){case"keypress":if(0===Yt(a))break e;case"keydown":case"keyup":c=ga;break;case"focusin":d="focus",c=oa;break;case"focusout":d="blur",c=oa;break;case"beforeblur":case"afterblur":c=oa;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=la;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ba;break;case xn:case gn:case yn:c=ca;break;case jn:c=va;break;case"scroll":case"scrollend":c=ra;break;case"wheel":c=wa;break;case"copy":case"cut":case"paste":c=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=ya;break;case"toggle":case"beforetoggle":c=ja}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),p=u?null!==l?l+"Capture":null:l;u=[];for(var h,f=n;null!==f;){var x=f;if(h=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===h||null===p||null!=(x=Ut(f,p))&&u.push(au(f,x,h)),m)break;f=f.return}0<u.length&&(l=new c(l,d,null,a,r),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||a===Ot||!(d=a.relatedTarget||a.fromElement)||!Qe(d)&&!d[He])&&(c||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=n,null!==(d=(d=a.relatedTarget||a.toElement)?Qe(d):null)&&(m=o(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=ia,x="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=ya,x="onPointerLeave",p="onPointerEnter",f="pointer"),m=null==c?l:Je(c),h=null==d?l:Je(d),(l=new u(x,f+"leave",c,a,r)).target=m,l.relatedTarget=h,x=null,Qe(r)===n&&((u=new u(p,f+"enter",d,a,r)).target=h,u.relatedTarget=m,x=u),m=x,c&&d)e:{for(u=ru,f=d,h=0,x=p=c;x;x=u(x))h++;x=0;for(var g=f;g;g=u(g))x++;for(;0<h-x;)p=u(p),h--;for(;0<x-h;)f=u(f),x--;for(;h--;){if(p===f||null!==f&&p===f.alternate){u=p;break e}p=u(p),f=u(f)}u=null}else u=null;null!==c&&su(i,l,c,u,!1),null!==d&&null!==m&&su(i,m,d,u,!0)}if("select"===(c=(l=n?Je(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=Ua;else if(La(l))if(Ba)y=Qa;else{y=Ya;var b=$a}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?n&&Et(n.elementType)&&(y=Ua):y=Ga;switch(y&&(y=y(e,n))?Da(i,y,a,r):(b&&b(e,l,n),"focusout"===e&&n&&"number"===l.type&&null!=n.memoizedProps.value&&vt(l,"number",l.value)),b=n?Je(n):window,e){case"focusin":(La(b)||"true"===b.contentEditable)&&(sn=b,ln=n,on=null);break;case"focusout":on=ln=sn=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,dn(i,a,r);break;case"selectionchange":if(rn)break;case"keydown":case"keyup":dn(i,a,r)}var v;if(ka)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ra?Pa(e,a)&&(w="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(w="onCompositionStart");w&&(Ca&&"ko"!==a.locale&&(Ra||"onCompositionStart"!==w?"onCompositionEnd"===w&&Ra&&(v=$t()):(Vt="value"in(Wt=r)?Wt.value:Wt.textContent,Ra=!0)),0<(b=nu(n,w)).length&&(w=new ua(w,e,null,a,r),i.push({event:w,listeners:b}),v?w.data=v:null!==(v=Aa(a))&&(w.data=v))),(v=_a?function(e,t){switch(e){case"compositionend":return Aa(t);case"keypress":return 32!==t.which?null:(Ta=!0,Ea);case"textInput":return(e=t.data)===Ea&&Ta?null:e;default:return null}}(e,a):function(e,t){if(Ra)return"compositionend"===e||!ka&&Pa(e,t)?(e=$t(),Kt=Vt=Wt=null,Ra=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ca&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(w=nu(n,"onBeforeInput")).length&&(b=new ua("onBeforeInput","beforeinput",null,a,r),i.push({event:b,listeners:w}),b.data=v)),function(e,t,a,n,r){if("submit"===t&&a&&a.stateNode===r){var s=Hd((r[qe]||null).action),i=n.submitter;i&&null!==(t=(t=i[qe]||null)?Hd(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new aa("action","action",null,n,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Ld){var e=i?Wd(r,i):new FormData(r);el(a,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"===typeof s&&(l.preventDefault(),e=i?Wd(r,i):new FormData(r),el(a,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(i,e,n,a,r)}Gd(i,t)})}function au(e,t,a){return{instance:e,listener:t,currentTarget:a}}function nu(e,t){for(var a=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Ut(e,a))&&n.unshift(au(e,r,s)),null!=(r=Ut(e,t))&&n.push(au(e,r,s))),3===e.tag)return n;e=e.return}return[]}function ru(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function su(e,t,a,n,r){for(var s=t._reactName,i=[];null!==a&&a!==n;){var l=a,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===n)break;5!==l&&26!==l&&27!==l||null===c||(o=c,r?null!=(c=Ut(a,s))&&i.unshift(au(a,c,o)):r||null!=(c=Ut(a,s))&&i.push(au(a,c,o))),a=a.return}0!==i.length&&e.push({event:t,listeners:i})}var iu=/\r\n?/g,lu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(iu,"\n").replace(lu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,a,n,r,s){switch(a){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,a,n);break;case"style":Ct(e,n,s);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==a)){e.removeAttribute(a);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(a);break}n=At(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===a?("input"!==t&&du(e,t,"name",r.name,r,null),du(e,t,"formEncType",r.formEncType,r,null),du(e,t,"formMethod",r.formMethod,r,null),du(e,t,"formTarget",r.formTarget,r,null)):(du(e,t,"encType",r.encType,r,null),du(e,t,"method",r.method,r,null),du(e,t,"target",r.target,r,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(a);break}n=At(""+n),e.setAttribute(a,n);break;case"onClick":null!=n&&(e.onclick=Rt);break;case"onScroll":null!=n&&Qd("scroll",e);break;case"onScrollEnd":null!=n&&Qd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(a=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}a=At(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===n?e.setAttribute(a,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Qd("beforetoggle",e),Qd("toggle",e),ot(e,"popover",n);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ot(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&ot(e,a=Tt.get(a)||a,n)}}function uu(e,t,a,n,r,s){switch(a){case"style":Ct(e,n,s);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(a=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=a}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Qd("scroll",e);break;case"onScrollEnd":null!=n&&Qd("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:at.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),"function"===typeof(s=null!=(s=e[qe]||null)?s[a]:null)&&e.removeEventListener(t,s,r),"function"!==typeof n)?a in e?e[a]=n:!0===n?e.setAttribute(a,""):ot(e,a,n):("function"!==typeof s&&null!==s&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r)))}}function mu(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qd("error",e),Qd("load",e);var n,r=!1,s=!1;for(n in a)if(a.hasOwnProperty(n)){var l=a[n];if(null!=l)switch(n){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,n,l,a,null)}}return s&&du(e,t,"srcSet",a.srcSet,a,null),void(r&&du(e,t,"src",a.src,a,null));case"input":Qd("invalid",e);var o=n=l=s=null,c=null,d=null;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(null!=u)switch(r){case"name":s=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:du(e,t,r,u,a,null)}}return void bt(e,n,o,c,d,l,s,!1);case"select":for(s in Qd("invalid",e),r=l=n=null,a)if(a.hasOwnProperty(s)&&null!=(o=a[s]))switch(s){case"value":n=o;break;case"defaultValue":l=o;break;case"multiple":r=o;default:du(e,t,s,o,a,null)}return t=n,a=l,e.multiple=!!r,void(null!=t?wt(e,!!r,t,!1):null!=a&&wt(e,!!r,a,!0));case"textarea":for(l in Qd("invalid",e),n=s=r=null,a)if(a.hasOwnProperty(l)&&null!=(o=a[l]))switch(l){case"value":r=o;break;case"defaultValue":s=o;break;case"children":n=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:du(e,t,l,o,a,null)}return void Nt(e,r,s,n);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(r=a[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else du(e,t,c,r,a,null);return;case"dialog":Qd("beforetoggle",e),Qd("toggle",e),Qd("cancel",e),Qd("close",e);break;case"iframe":case"object":Qd("load",e);break;case"video":case"audio":for(r=0;r<$d.length;r++)Qd($d[r],e);break;case"image":Qd("error",e),Qd("load",e);break;case"details":Qd("toggle",e);break;case"embed":case"source":case"link":Qd("error",e),Qd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&null!=(r=a[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,d,r,a,null)}return;default:if(Et(t)){for(u in a)a.hasOwnProperty(u)&&(void 0!==(r=a[u])&&uu(e,t,u,r,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(null!=(r=a[o])&&du(e,t,o,r,a,null))}function pu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hu=null,fu=null;function xu(e){return 9===e.nodeType?e:e.ownerDocument}function gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vu=null;var wu="function"===typeof setTimeout?setTimeout:void 0,ju="function"===typeof clearTimeout?clearTimeout:void 0,Nu="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nu?function(e){return Nu.resolve(null).then(e).catch(Su)}:wu;function Su(e){setTimeout(function(){throw e})}function _u(e){return"head"===e}function Cu(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)||"/&"===a){if(0===n)return e.removeChild(r),void Wm(t);n--}else if("$"===a||"$?"===a||"$~"===a||"$!"===a||"&"===a)n++;else if("html"===a)Mu(e.ownerDocument.documentElement);else if("head"===a){Mu(a=e.ownerDocument.head);for(var s=a.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[Ye]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||a.removeChild(s),s=i}}else"body"===a&&Mu(e.ownerDocument.body);a=r}while(a);Wm(t)}function Eu(e,t){var a=e;e=0;do{var n=a.nextSibling;if(1===a.nodeType?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",""===a.getAttribute("style")&&a.removeAttribute("style")):3===a.nodeType&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&8===n.nodeType)if("/$"===(a=n.data)){if(0===e)break;e--}else"$"!==a&&"$?"!==a&&"$~"!==a&&"$!"!==a||e++;a=n}while(a)}function Tu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tu(a),Ge(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function Pu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ou(e.nextSibling)))return null}return e}function Au(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ou(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lu=null;function Du(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a||"/&"===a){if(0===t)return Ou(e.nextSibling);t--}else"$"!==a&&"$!"!==a&&"$?"!==a&&"$~"!==a&&"&"!==a||t++}e=e.nextSibling}return null}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a||"$~"===a||"&"===a){if(0===t)return e;t--}else"/$"!==a&&"/&"!==a||t++}e=e.previousSibling}return null}function Fu(e,t,a){switch(t=xu(a),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Mu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ge(e)}var zu=new Map,Uu=new Set;function Bu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qu=D.d;D.d={f:function(){var e=qu.f(),t=Zc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?al(t):qu.r(e)},D:function(e){qu.D(e),Wu("dns-prefetch",e,null)},C:function(e,t){qu.C(e,t),Wu("preconnect",e,t)},L:function(e,t,a){qu.L(e,t,a);var n=Hu;if(n&&e&&t){var r='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&a&&a.imageSrcSet?(r+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(r+='[imagesizes="'+gt(a.imageSizes)+'"]')):r+='[href="'+gt(e)+'"]';var s=r;switch(t){case"style":s=Ku(e);break;case"script":s=Gu(e)}zu.has(s)||(e=p({rel:"preload",href:"image"===t&&a&&a.imageSrcSet?void 0:e,as:t},a),zu.set(s,e),null!==n.querySelector(r)||"style"===t&&n.querySelector($u(s))||"script"===t&&n.querySelector(Qu(s))||(mu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){qu.m(e,t);var a=Hu;if(a&&e){var n=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',s=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Gu(e)}if(!zu.has(s)&&(e=p({rel:"modulepreload",href:e},t),zu.set(s,e),null===a.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Qu(s)))return}mu(n=a.createElement("link"),"link",e),et(n),a.head.appendChild(n)}}},X:function(e,t){qu.X(e,t);var a=Hu;if(a&&e){var n=Ze(a).hoistableScripts,r=Gu(e),s=n.get(r);s||((s=a.querySelector(Qu(r)))||(e=p({src:e,async:!0},t),(t=zu.get(r))&&em(e,t),et(s=a.createElement("script")),mu(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}},S:function(e,t,a){qu.S(e,t,a);var n=Hu;if(n&&e){var r=Ze(n).hoistableStyles,s=Ku(e);t=t||"default";var i=r.get(s);if(!i){var l={loading:0,preload:null};if(i=n.querySelector($u(s)))l.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=zu.get(s))&&Zu(e,a);var o=i=n.createElement("link");et(o),mu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ju(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:l},r.set(s,i)}}},M:function(e,t){qu.M(e,t);var a=Hu;if(a&&e){var n=Ze(a).hoistableScripts,r=Gu(e),s=n.get(r);s||((s=a.querySelector(Qu(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=zu.get(r))&&em(e,t),et(s=a.createElement("script")),mu(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}}};var Hu="undefined"===typeof document?null:document;function Wu(e,t,a){var n=Hu;if(n&&"string"===typeof t&&t){var r=gt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof a&&(r+='[crossorigin="'+a+'"]'),Uu.has(r)||(Uu.add(r),e={rel:e,crossOrigin:a,href:t},null===n.querySelector(r)&&(mu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Vu(e,t,a,n){var r,s,l,o,c=(c=K.current)?Bu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(t=Ku(a.href),(n=(a=Ze(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=Ku(a.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector($u(e)))&&!d._p&&(u.instance=d,u.state.loading=5),zu.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zu.set(e,a),d||(r=c,s=e,l=a,o=u.state,r.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=r.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),mu(s,"link",l),et(s),r.head.appendChild(s))))),t&&null===n)throw Error(i(528,""));return u}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=a.async,"string"===typeof(a=a.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Gu(a),(n=(a=Ze(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ku(e){return'href="'+gt(e)+'"'}function $u(e){return'link[rel="stylesheet"]['+e+"]"}function Yu(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Gu(e){return'[src="'+gt(e)+'"]'}function Qu(e){return"script[async]"+e}function Xu(e,t,a){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(a.href)+'"]');if(n)return t.instance=n,et(n),n;var r=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),mu(n,"style",r),Ju(n,a.precedence,e),t.instance=n;case"stylesheet":r=Ku(a.href);var s=e.querySelector($u(r));if(s)return t.state.loading|=4,t.instance=s,et(s),s;n=Yu(a),(r=zu.get(r))&&Zu(n,r),et(s=(e.ownerDocument||e).createElement("link"));var l=s;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),mu(s,"link",n),t.state.loading|=4,Ju(s,a.precedence,e),t.instance=s;case"script":return s=Gu(a.src),(r=e.querySelector(Qu(s)))?(t.instance=r,et(r),r):(n=a,(r=zu.get(s))&&em(n=p({},a),r),et(r=(e=e.ownerDocument||e).createElement("script")),mu(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Ju(n,a.precedence,e));return t.instance}function Ju(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,s=r,i=0;i<n.length;i++){var l=n[i];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===a.nodeType?a.head:a).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function am(e,t,a){if(null===tm){var n=new Map,r=tm=new Map;r.set(a,n)}else(n=(r=tm).get(a))||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var s=a[r];if(!(s[Ye]||s[Be]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=n.get(i);l?l.push(s):n.set(i,[s])}}return n}function nm(e,t,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===t?e.querySelector("head > title"):null)}function rm(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sm=0;function im(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lm=null;function om(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lm=new Map,t.forEach(cm,e),lm=null,im.call(e))}function cm(e,t){if(!(4&t.state.loading)){var a=lm.get(e);if(a)var n=a.get(null);else{a=new Map,lm.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var i=r[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(a.set(i.dataset.precedence,i),n=i)}n&&a.set(null,n)}i=(r=t.instance).getAttribute("data-precedence"),(s=a.get(i)||n)===n&&a.set(null,r),a.set(i,r),this.count++,n=im.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var dm={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function um(e,t,a,n,r,s,i,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function mm(e,t,a,n,r,s,i,l,o,c,d,u){return e=new um(e,t,a,i,o,c,d,u,l),t=1,!0===s&&(t|=24),s=Mn(3,null,null,t),e.current=s,s.stateNode=e,(t=zr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},xs(s),e}function pm(e){return e?e=In:In}function hm(e,t,a,n,r,s){r=pm(r),null===n.context?n.context=r:n.pendingContext=r,(n=ys(t)).payload={element:a},null!==(s=void 0===s?null:s)&&(n.callback=s),null!==(a=bs(e,n,t))&&(Yc(a,0,t),vs(a,e,t))}function fm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function xm(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function gm(e){if(13===e.tag||31===e.tag){var t=On(e,67108864);null!==t&&Yc(t,0,67108864),xm(e,67108864)}}function ym(e){if(13===e.tag||31===e.tag){var t=Kc(),a=On(e,t=Ie(t));null!==a&&Yc(a,0,t),xm(e,t)}}var bm=!0;function vm(e,t,a,n){var r=L.T;L.T=null;var s=D.p;try{D.p=2,jm(e,t,a,n)}finally{D.p=s,L.T=r}}function wm(e,t,a,n){var r=L.T;L.T=null;var s=D.p;try{D.p=8,jm(e,t,a,n)}finally{D.p=s,L.T=r}}function jm(e,t,a,n){if(bm){var r=Nm(n);if(null===r)tu(e,t,n,km,a),Dm(e,n);else if(function(e,t,a,n,r){switch(t){case"focusin":return Em=Im(Em,e,t,a,n,r),!0;case"dragenter":return Tm=Im(Tm,e,t,a,n,r),!0;case"mouseover":return Pm=Im(Pm,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return Am.set(s,Im(Am.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Rm.set(s,Im(Rm.get(s)||null,e,t,a,n,r)),!0}return!1}(r,e,t,a,n))n.stopPropagation();else if(Dm(e,n),4&t&&-1<Lm.indexOf(e)){for(;null!==r;){var s=Xe(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=_e(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-ve(i);l.entanglements[1]|=o,i&=~o}Dd(s),0===(6&pc)&&(Lc=oe()+500,Id(0,!1))}}break;case 31:case 13:null!==(l=On(s,2))&&Yc(l,0,2),Zc(),xm(s,2)}if(null===(s=Nm(n))&&tu(e,t,n,km,a),s===r)break;r=s}null!==r&&n.stopPropagation()}else tu(e,t,n,null,a)}}function Nm(e){return Sm(e=Lt(e))}var km=null;function Sm(e){if(km=null,null!==(e=Qe(e))){var t=o(e);if(null===t)e=null;else{var a=t.tag;if(13===a){if(null!==(e=c(t)))return e;e=null}else if(31===a){if(null!==(e=d(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return km=e,null}function _m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case pe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Cm=!1,Em=null,Tm=null,Pm=null,Am=new Map,Rm=new Map,Om=[],Lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":Em=null;break;case"dragenter":case"dragleave":Tm=null;break;case"mouseover":case"mouseout":Pm=null;break;case"pointerover":case"pointerout":Am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rm.delete(t.pointerId)}}function Im(e,t,a,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Xe(t))&&gm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Fm(e){var t=Qe(e.target);if(null!==t){var a=o(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=c(a)))return e.blockedOn=t,void ze(e.priority,function(){ym(a)})}else if(31===t){if(null!==(t=d(a)))return e.blockedOn=t,void ze(e.priority,function(){ym(a)})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Mm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nm(e.nativeEvent);if(null!==a)return null!==(t=Xe(a))&&gm(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);Ot=n,a.target.dispatchEvent(n),Ot=null,t.shift()}return!0}function zm(e,t,a){Mm(e)&&a.delete(t)}function Um(){Cm=!1,null!==Em&&Mm(Em)&&(Em=null),null!==Tm&&Mm(Tm)&&(Tm=null),null!==Pm&&Mm(Pm)&&(Pm=null),Am.forEach(zm),Rm.forEach(zm)}function Bm(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Um)))}var qm=null;function Hm(e){qm!==e&&(qm=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qm===e&&(qm=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if("function"!==typeof n){if(null===Sm(n||a))continue;break}var s=Xe(a);null!==s&&(e.splice(t,3),t-=3,el(s,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Wm(e){function t(t){return Bm(t,e)}null!==Em&&Bm(Em,e),null!==Tm&&Bm(Tm,e),null!==Pm&&Bm(Pm,e),Am.forEach(t),Rm.forEach(t);for(var a=0;a<Om.length;a++){var n=Om[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Om.length&&null===(a=Om[0]).blockedOn;)Fm(a),null===a.blockedOn&&Om.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<a.length;n+=3){var r=a[n],s=a[n+1],i=r[qe]||null;if("function"===typeof s)i||Hm(a);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,i=s[qe]||null)l=i.formAction;else if(null!==Sm(r))continue}else l=i.action;"function"===typeof l?a[n+1]=l:(a.splice(n,3),n-=3),Hm(a)}}}function Vm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Km(e){this._internalRoot=e}function $m(e){this._internalRoot=e}$m.prototype.render=Km.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));hm(t.current,Kc(),e,t,null,null)},$m.prototype.unmount=Km.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),Zc(),t[He]=null}},$m.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Om.length&&0!==t&&t<Om[a].priority;a++);Om.splice(a,0,e),0===a&&Fm(e)}};var Ym=r.version;if("19.2.4"!==Ym)throw Error(i(527,Ym,"19.2.4"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){a=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===a)return u(r),e;if(s===n)return u(r),t;s=s.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=s;else{for(var l=!1,c=r.child;c;){if(c===a){l=!0,a=r,n=s;break}if(c===n){l=!0,n=r,a=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===a){l=!0,a=s,n=r;break}if(c===n){l=!0,n=s,a=r;break}c=c.sibling}if(!l)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(3!==a.tag)throw Error(i(188));return a.stateNode.current===a?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Gm={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{ge=Qm.inject(Gm),ye=Qm}catch(Jm){}}t.createRoot=function(e,t){if(!l(e))throw Error(i(299));var a=!1,n="",r=Nl,s=kl,o=Sl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=mm(e,1,!1,null,0,a,n,null,r,s,o,Vm),e[He]=t.current,Zd(e),new Km(t)},t.hydrateRoot=function(e,t,a){if(!l(e))throw Error(i(299));var n=!1,r="",s=Nl,o=kl,c=Sl,d=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(n=!0),void 0!==a.identifierPrefix&&(r=a.identifierPrefix),void 0!==a.onUncaughtError&&(s=a.onUncaughtError),void 0!==a.onCaughtError&&(o=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.formState&&(d=a.formState)),(t=mm(e,1,!0,t,0,n,r,d,s,o,c,Vm)).context=pm(null),a=t.current,(r=ys(n=Ie(n=Kc()))).callback=null,bs(a,r,n),a=n,t.current.lanes=a,Re(t,a),Dd(t),e[He]=t.current,Zd(e),new $m(t)},t.version="19.2.4"},672(e,t,a){var n=a(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.flushSync=function(e){var t=o.T,a=i.p;try{if(o.T=null,i.p=2,e)return e()}finally{o.T=t,i.p=a,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var a=t.as,n=c(a,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===a?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:s}):"script"===a&&i.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var a=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var a=t.as,n=c(a,t.crossOrigin);i.d.L(e,a,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var a=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,a){return o.H.useFormState(e,t,a)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,a){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(4)},950(e,t,a){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(672)},799(e,t){var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:a,type:e,key:r,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=r,t.jsxs=r},288(e,t){var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}function b(){}function v(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,x(w,y.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function _(e,t,n){var r=n.ref;return{$$typeof:a,type:e,key:t,ref:void 0!==r?r:null,props:n}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(l){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case n:d=!0;break;case m:return P((d=e._init)(e._payload),t,r,s,i)}}if(d)return i=i(e),d=""===s?"."+T(e,0):s,j(i)?(r="",null!=d&&(r=d.replace(E,"$&/")+"/"),P(i,t,r,"",function(e){return e})):null!=i&&(C(i)&&(o=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+d,i=_(o.type,c,o.props)),t.push(i)),1;d=0;var u,p=""===s?".":s+":";if(j(e))for(var f=0;f<e.length;f++)d+=P(s=e[f],t,r,l=p+T(s,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(s=e.next()).done;)d+=P(s=s.value,t,r,l=p+T(s,f++),i);else if("object"===l){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function A(e,t,a){if(null==e)return e;var n=[],r=0;return P(e,n,"","",function(e){return t.call(a,e,r++)}),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:A,forEach:function(e,t,a){A(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=L,t.Component=y,t.Fragment=r,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=x({},e.props),r=e.key;if(null!=t)for(s in void 0!==t.key&&(r=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=a;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];n.children=i}return _(e.type,r,n)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,a){var n,r={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(r[n]=t[n]);var i=arguments.length-2;if(1===i)r.children=a;else if(1<i){for(var l=Array(i),o=0;o<i;o++)l[o]=arguments[o+2];r.children=l}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===r[n]&&(r[n]=i[n]);return _(e,s,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,a={};k.T=a;try{var n=e(),r=k.S;null!==r&&r(a,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,O)}catch(s){O(s)}finally{null!==t&&null!==a.types&&(t.types=a.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,a){return k.H.useActionState(e,t,a)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,a){return k.H.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,a){return k.H.useReducer(e,t,a)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,a){return k.H.useSyncExternalStore(e,t,a)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.4"},43(e,t,a){e.exports=a(288)},579(e,t,a){e.exports=a(799)},896(e,t){function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var l=2*(n+1)-1,o=e[l],c=l+1,d=e[c];if(0>s(o,a))c<r&&0>s(d,o)?(e[n]=d,e[c]=a,n=c):(e[n]=o,e[l]=a,n=l);else{if(!(c<r&&0>s(d,a)))break e;e[n]=d,e[c]=a,n=c}}}return t}function s(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,x=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,a(c,t)}t=n(d)}}function j(e){if(x=!1,w(e),!f)if(null!==n(c))f=!0,k||(k=!0,N());else{var t=n(d);null!==t&&R(j,t.startTime-e)}}var N,k=!1,S=-1,_=5,C=-1;function E(){return!!g||!(t.unstable_now()-C<_)}function T(){if(g=!1,k){var e=t.unstable_now();C=e;var a=!0;try{e:{f=!1,x&&(x=!1,b(S),S=-1),h=!0;var s=p;try{t:{for(w(e),m=n(c);null!==m&&!(m.expirationTime>e&&E());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var l=i(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){m.callback=l,w(e),a=!0;break t}m===n(c)&&r(c),w(e)}else r(c);m=n(c)}if(null!==m)a=!0;else{var o=n(d);null!==o&&R(j,o.startTime-e),a=!1}}break e}finally{m=null,p=s,h=!1}a=void 0}}finally{a?N():k=!1}}}if("function"===typeof v)N=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=T,N=function(){A.postMessage(null)}}else N=function(){y(T,0)};function R(e,a){S=y(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var a=p;p=t;try{return e()}finally{p=a}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=p;p=e;try{return t()}finally{p=a}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,a(d,e),null===n(c)&&e===n(d)&&(x?(b(S),S=-1):x=!0,R(j,s-i))):(e.sortIndex=l,a(c,e),f||h||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var a=p;p=t;try{return e.apply(this,arguments)}finally{p=a}}}},853(e,t,a){e.exports=a(896)}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);a.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&n;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,a.d(s,i),s}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var n={};a.r(n),a.d(n,{hasBrowserEnv:()=>cn,hasStandardBrowserEnv:()=>un,hasStandardBrowserWebWorkerEnv:()=>mn,navigator:()=>dn,origin:()=>pn});var r=a(43),s=a.t(r,2),i=a(391);function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function d(e,t,a){return(t=c(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const p=["sri"],h=["page"],f=["page","matches"],x=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var b="popstate";function v(){return C(function(e,t){let{pathname:a,search:n,hash:r}=e.location;return k("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return m(m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:a,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function _(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function C(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:s=!1}=n,i=r.history,l="POP",o=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){l="POP";let e=d(),t=null==e?null:e-c;c=e,o&&o({action:l,location:h.location,delta:t})}function p(e){return E(e)}null==c&&(c=0,i.replaceState(m(m({},i.state),{},{idx:c}),""));let h={get action(){return l},get location(){return e(r,i)},listen(e){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(b,u),o=e,()=>{r.removeEventListener(b,u),o=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=k(h.location,e,t);a&&a(n,e),c=d()+1;let u=N(n,c),m=h.createHref(n);try{i.pushState(u,"",m)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;r.location.assign(m)}s&&o&&o({action:l,location:h.location,delta:1})},replace:function(e,t){l="REPLACE";let n=k(h.location,e,t);a&&a(n,e),c=d();let r=N(n,c),u=h.createHref(n);i.replaceState(r,"",u),s&&o&&o({action:l,location:h.location,delta:0})},go:e=>i.go(e)};return h}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="http://localhost";"undefined"!==typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href),w(a,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:S(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}new WeakMap;function T(e,t){return P(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function P(e,t,a,n){let r=V(("string"===typeof t?_(t):t).pathname||"/",a);if(null==r)return null;let s=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=W(r);i=B(s[l],e,n)}return i}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,l=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(n)&&i)return;w(o.relativePath.startsWith(n),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(n.length)}let c=J([n,o.relativePath]),d=a.concat(o);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),A(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!==(a=e.path)&&void 0!==a&&a.includes("?"))for(let n of R(e.path))s(e,t,!0,n);else s(e,t)}),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===n.length)return r?[s,""]:[s];let i=R(n.join("/")),l=[];return l.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}var O=/^:[\w-]+$/,L=3,D=2,I=1,F=10,M=-2,z=e=>"*"===e;function U(e,t){let a=e.split("/"),n=a.length;return a.some(z)&&(n+=M),t&&(n+=D),a.filter(e=>!z(e)).reduce((e,t)=>e+(O.test(t)?L:""===t?I:F),n)}function B(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,r={},s="/",i=[];for(let l=0;l<n.length;++l){let e=n[l],o=l===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&a&&!n[n.length-1].route.index&&(d=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:J([s,d.pathname]),pathnameBase:Z(J([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=J([s,d.pathnameBase]))}return i}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=H(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),l=r.slice(1),o=n.reduce((e,t,a)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=l[a]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[a];return e[n]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:s,pathnameBase:i,pattern:e}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}var K=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function Y(e,t,a,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(a,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Q(e){let t=G(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function X(e,t,a){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=_(e):(n=m({},e),w(!n.pathname||!n.pathname.includes("?"),Y("?","pathname","search",n)),w(!n.pathname||!n.pathname.includes("#"),Y("#","pathname","hash",n)),w(!n.search||!n.search.includes("#"),Y("#","search","hash",n)));let s,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)s=a;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let o=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?_(e):e;return n?(n=n.replace(/\/\/+/g,"/"),t=n.startsWith("/")?$(n.substring(1),"/"):$(n,a)):t=a,{pathname:t,search:ee(r),hash:te(s)}}(n,s),c=l&&"/"!==l&&l.endsWith("/"),d=(i||"."===l)&&a.endsWith("/");return o.pathname.endsWith("/")||!c&&!d||(o.pathname+="/"),o}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ae=class{constructor(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function re(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ie(e,t){let a=e;if("string"!==typeof a||!K.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,r=!1;if(se)try{let e=new URL(window.location.href),n=a.startsWith("//")?new URL(e.protocol+a):new URL(a),s=V(n.pathname,t);n.origin===e.origin&&null!=s?a=s+n.search+n.hash:r=!0}catch(s){j(!1,'<Link to="'.concat(a,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:n,isExternal:r,to:a}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var le=["POST","PUT","PATCH","DELETE"],oe=(new Set(le),["GET",...le]);new Set(oe),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var de=r.createContext(null);de.displayName="DataRouterState";var ue=r.createContext(!1);function me(){return r.useContext(ue)}var pe=r.createContext({isTransitioning:!1});pe.displayName="ViewTransition";var he=r.createContext(new Map);he.displayName="Fetchers";var fe=r.createContext(null);fe.displayName="Await";var xe=r.createContext(null);xe.displayName="Navigation";var ge=r.createContext(null);ge.displayName="Location";var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var be=r.createContext(null);be.displayName="RouteError";var ve="REACT_ROUTER_ERROR";function we(){return null!=r.useContext(ge)}function je(){return w(we(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ge).location}var Ne="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ke(e){r.useContext(xe).static||r.useLayoutEffect(e)}function Se(){let{isDataRoute:e}=r.useContext(ye);return e?function(){let{router:e}=Fe("useNavigate"),t=ze("useNavigate"),a=r.useRef(!1);ke(()=>{a.current=!0});let n=r.useCallback(async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(a.current,Ne),a.current&&("number"===typeof n?await e.navigate(n):await e.navigate(n,m({fromRouteId:t},r)))},[e,t]);return n}():function(){w(we(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:a}=r.useContext(xe),{matches:n}=r.useContext(ye),{pathname:s}=je(),i=JSON.stringify(Q(n)),l=r.useRef(!1);ke(()=>{l.current=!0});let o=r.useCallback(function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j(l.current,Ne),!l.current)return;if("number"===typeof n)return void a.go(n);let o=X(n,JSON.parse(i),s,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:J([t,o.pathname])),(r.replace?a.replace:a.push)(o,r.state,r)},[t,a,i,s,e]);return o}()}r.createContext(null);function _e(){let{matches:e}=r.useContext(ye),t=e[e.length-1];return t?t.params:{}}function Ce(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:a}=r.useContext(ye),{pathname:n}=je(),s=JSON.stringify(Q(a));return r.useMemo(()=>X(e,JSON.parse(s),n,"path"===t),[e,s,n,t])}function Ee(e,t,a,n,s){w(we(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(xe),{matches:l}=r.useContext(ye),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",p=o&&o.route;{let e=p&&p.path||"";qe(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,f=je();if(t){var x;let e="string"===typeof t?_(t):t;w("/"===u||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=T(e,{pathname:y});j(p||null!=b,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),j(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let v=De(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([u,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:J([u,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,a,n,s);return t&&v?r.createElement(ge.Provider,{value:{location:m({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},v):v}function Te(){let e=Ue(),t=ne(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:s},a):null,l)}var Pe=r.createElement(Te,null),Ae=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(ve,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ae(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(be.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Oe,{error:e},t):t}};Ae.contextType=ue;var Re=new WeakMap;function Oe(e){let{children:t,error:a}=e,{basename:n}=r.useContext(xe);if("object"===typeof a&&a&&"digest"in a&&"string"===typeof a.digest){let e=function(e){if(e.startsWith("".concat(ve,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(a.digest);if(e){let t=Re.get(a);if(t)throw t;let s=ie(e.location,n);if(se&&!Re.get(a)){if(!s.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw Re.set(a,t),t}window.location.href=s.absoluteURL||s.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(s.absoluteURL||s.to)})}}return t}function Le(e){let{routeContext:t,match:a,children:n}=e,s=r.useContext(ce);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),r.createElement(ye.Provider,{value:t},n)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let s=e,i=null===a||void 0===a?void 0:a.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,o=-1;if(a)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:n}=a,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){l=!0,s=o>=0?s.slice(0,o+1):[s[0]];break}}}let c=a&&n?(e,t)=>{var r,s;n(e,{location:a.location,params:null!==(r=null===(s=a.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==r?r:{},unstable_pattern:re(a.matches),errorInfo:t})}:void 0;return s.reduceRight((e,n,d)=>{let u,m=!1,p=null,h=null;a&&(u=i&&n.route.id?i[n.route.id]:void 0,p=n.route.errorElement||Pe,l&&(o<0&&0===d?(qe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,h=null):o===d&&(m=!0,h=n.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,d+1)),x=()=>{let t;return t=u?p:m?h:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(Le,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===d)?r.createElement(Ae,{location:a.location,revalidation:a.revalidation,component:p,error:u,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):x()},null)}function Ie(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Fe(e){let t=r.useContext(ce);return w(t,Ie(e)),t}function Me(e){let t=r.useContext(de);return w(t,Ie(e)),t}function ze(e){let t=function(e){let t=r.useContext(ye);return w(t,Ie(e)),t}(e),a=t.matches[t.matches.length-1];return w(a.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),a.route.id}function Ue(){var e;let t=r.useContext(be),a=Me("useRouteError"),n=ze("useRouteError");return void 0!==t?t:null===(e=a.errors)||void 0===e?void 0:e[n]}var Be={};function qe(e,t,a){t||Be[e]||(Be[e]=!0,j(!1,a))}var He={};function We(e,t){e||He[t]||(He[t]=!0,console.warn(t))}s.useOptimistic;r.memo(function(e){let{routes:t,future:a,state:n,onError:r}=e;return Ee(t,void 0,n,r,a)});function Ve(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ke(e){let{basename:t="/",children:a=null,location:n,navigationType:s="POP",navigator:i,static:l=!1,unstable_useTransitions:o}=e;w(!we(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:c,navigator:i,static:l,unstable_useTransitions:o,future:{}}),[c,i,l,o]);"string"===typeof n&&(n=_(n));let{pathname:u="/",search:m="",hash:p="",state:h=null,key:f="default"}=n,x=r.useMemo(()=>{let e=V(u,c);return null==e?null:{location:{pathname:e,search:m,hash:p,state:h,key:f},navigationType:s}},[c,u,m,p,h,f,s]);return j(null!=x,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(m).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==x?null:r.createElement(xe.Provider,{value:d},r.createElement(ge.Provider,{children:a,value:x}))}function $e(e){let{children:t,location:a}=e;return Ee(Ye(t),a)}r.Component;function Ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let s=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,Ye(e.props.children,s));w(e.type===Ve,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ye(e.props.children,s)),a.push(i)}),a}var Ge="get",Qe="application/x-www-form-urlencoded";function Xe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}function Je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(e=>[a,e]):[[a,n]])},[]))}var Ze=null;var et=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tt(e){return null==e||et.has(e)?e:(j(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Qe,'"')),null)}function at(e,t){let a,n,r,s,i;if(Xe(l=e)&&"form"===l.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?V(i,t):null,a=e.getAttribute("method")||Ge,r=tt(e.getAttribute("enctype"))||Qe,s=new FormData(e)}else if(function(e){return Xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(n=l?V(l,t):null,a=e.getAttribute("formmethod")||i.getAttribute("method")||Ge,r=tt(e.getAttribute("formenctype"))||tt(i.getAttribute("enctype"))||Qe,s=new FormData(i,e),!function(){if(null===Ze)try{new FormData(document.createElement("form"),0),Ze=!1}catch(e){Ze=!0}return Ze}()){let{name:t,type:a,value:n}=e;if("image"===a){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,n)}}else{if(Xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ge,n=null,r=Qe,i=e}var l;return s&&"text/plain"===r&&(i=s,s=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function nt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function rt(e,t,a,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return a?r.pathname.endsWith("/")?r.pathname="".concat(r.pathname,"_.").concat(n):r.pathname="".concat(r.pathname,".").concat(n):"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===V(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function st(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function it(e){return null!=e&&"string"===typeof e.page}function lt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ot(e,t,a,n,r,s){let i=(e,t)=>!a[t]||e.route.id!==a[t].route.id,l=(e,t)=>{var n;return a[t].pathname!==e.pathname||(null===(n=a[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&a[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||l(e,t)):"data"===s?t.filter((t,s)=>{let o=n.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(i(t,s)||l(t,s))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=a[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function ct(e,t){let{includeHydrateFallback:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1),[...new Set(n)];var n}function dt(e,t){let a=new Set,n=new Set(t);return e.reduce((e,r)=>{if(t&&!it(r)&&"script"===r.as&&r.href&&n.has(r.href))return e;let s=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}(r));return a.has(s)||(a.add(s),e.push({key:s,link:r})),e},[])}function ut(e,t){return"lazy"===e.mode&&!0===t}function mt(){let e=r.useContext(ce);return nt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pt(){let e=r.useContext(de);return nt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ht=r.createContext(void 0);function ft(){let e=r.useContext(ht);return nt(e,"You must render this element inside a <HydratedRouter> element"),e}function xt(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function gt(e,t,a){if(a&&!wt)return[e[0]];if(t){let a=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,a+1)}return e}ht.displayName="FrameworkContext";function yt(e){let{page:t}=e,a=l(e,h),{router:n}=mt(),s=r.useMemo(()=>T(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?r.createElement(vt,m({page:t,matches:s},a)):null}function bt(e){let{manifest:t,routeModules:a}=ft(),[n,s]=r.useState([]);return r.useEffect(()=>{let n=!1;return async function(e,t,a){return dt((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await st(n,a);return e.links?e.links():[]}return[]}))).flat(1).filter(lt).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?m(m({},e),{},{rel:"prefetch",as:"style"}):m(m({},e),{},{rel:"prefetch"})))}(e,t,a).then(e=>{n||s(e)}),()=>{n=!0}},[e,t,a]),n}function vt(e){let{page:t,matches:a}=e,n=l(e,f),s=je(),{future:i,manifest:o,routeModules:c}=ft(),{basename:d}=mt(),{loaderData:u,matches:p}=pt(),h=r.useMemo(()=>ot(t,a,p,o,s,"data"),[t,a,p,o,s]),x=r.useMemo(()=>ot(t,a,p,o,s,"assets"),[t,a,p,o,s]),g=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,n=!1;if(a.forEach(t=>{var a;let r=o.routes[t.route.id];r&&r.hasLoader&&(!h.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(a=c[t.route.id])&&void 0!==a&&a.shouldRevalidate||r.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let r=rt(t,d,i.unstable_trailingSlashAwareDataRequests,"data");return n&&e.size>0&&r.searchParams.set("_routes",a.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[d,i.unstable_trailingSlashAwareDataRequests,u,s,o,h,a,t,c]),y=r.useMemo(()=>ct(x,o),[x,o]),b=bt(x);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",m({key:e,rel:"prefetch",as:"fetch",href:e},n))),y.map(e=>r.createElement("link",m({key:e,rel:"modulepreload",href:e},n))),b.map(e=>{var t;let{key:a,link:s}=e;return r.createElement("link",m(m({key:a,nonce:n.nonce},s),{},{crossOrigin:null!==(t=s.crossOrigin)&&void 0!==t?t:n.crossOrigin}))}))}var wt=!1;function jt(e){let{manifest:t,serverHandoffString:a,isSpaMode:n,renderMeta:s,routeDiscovery:i,ssr:o}=ft(),{router:c,static:d,staticContext:u}=mt(),{matches:h}=pt(),f=me(),x=ut(i,o);s&&(s.didRenderScripts=!0);let g=gt(h,null,n);r.useEffect(()=>{wt=!0},[]);let y=r.useMemo(()=>{var n;if(f)return null;let s=u?"window.__reactRouterContext = ".concat(a,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=d?"".concat(null!==(n=t.hmr)&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(x?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,a)=>{let n="route".concat(a),r=t.routes[e.route.id];nt(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:l,hydrateFallbackModule:o,module:c}=r,d=[...s?[{module:s,varName:"".concat(n,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(n,"_clientLoader")}]:[],...l?[{module:l,varName:"".concat(n,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===d.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(x?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:a}=e,n=l(e,p),r=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(s.pop();s.length>0;)i.push("/".concat(s.join("/"))),s.pop();i.forEach(e=>{let a=T(t.routes,e,t.basename);a&&a.forEach(e=>r.add(e.route.id))});let o=[...r].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return m(m({},n),{},{routes:o,sri:!!a||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",m(m({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",m(m({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),b=wt||f?[]:(v=t.entry.imports.concat(ct(g,t,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let w="object"===typeof t.sri?t.sri:{};return We(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),wt||f?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",m(m({},e),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}})):null,x?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function Nt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function kt(e){let{error:t,isOutsideRemixApp:a}=e;console.error(t);let n,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ne(t))return r.createElement(St,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return r.createElement(St,{title:"Application Error!",isOutsideRemixApp:a},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),s)}function St(e){var t;let{title:a,renderScripts:n,isOutsideRemixApp:s,children:i}=e,{routeModules:l}=ft();return null!==(t=l.root)&&void 0!==t&&t.Layout&&!s?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,a)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?r.createElement(jt,null):null)))}var _t="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{_t&&(window.__reactRouterVersion="7.13.0")}catch(kx){}function Ct(e){let{basename:t,children:a,unstable_useTransitions:n,window:s}=e,i=r.useRef();null==i.current&&(i.current=v({window:s,v5Compat:!0}));let l=i.current,[o,c]=r.useState({action:l.action,location:l.location}),d=r.useCallback(e=>{!1===n?c(e):r.startTransition(()=>c(e))},[n]);return r.useLayoutEffect(()=>l.listen(d),[l,d]),r.createElement(Ke,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:l,unstable_useTransitions:n})}var Et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=r.forwardRef(function(e,t){let{onClick:a,discover:n="render",prefetch:s="none",relative:i,reloadDocument:o,replace:c,state:d,target:u,to:p,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:g}=e,y=l(e,x),{basename:b,unstable_useTransitions:v}=r.useContext(xe),j="string"===typeof p&&Et.test(p),N=ie(p,b);p=N.to;let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(we(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=r.useContext(xe),{hash:s,pathname:i,search:l}=Ce(e,{relative:t}),o=i;return"/"!==a&&(o="/"===i?a:J([a,i])),n.createHref({pathname:o,search:l,hash:s})}(p,{relative:i}),[_,C,E]=function(e,t){let a=r.useContext(ht),[n,s]=r.useState(!1),[i,l]=r.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(n){let e=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(e)}}},[n]);let h=()=>{s(!0)},f=()=>{s(!1),l(!1)};return a?"intent"!==e?[i,p,{}]:[i,p,{onFocus:xt(o,h),onBlur:xt(c,f),onMouseEnter:xt(d,h),onMouseLeave:xt(u,f),onTouchStart:xt(m,h)}]:[!1,p,{}]}(s,y),T=function(e){let{target:t,replace:a,state:n,preventScrollReset:s,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=Se(),u=je(),m=Ce(e,{relative:i});return r.useCallback(p=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(p,t)){p.preventDefault();let t=void 0!==a?a:S(u)===S(m),h=()=>d(e,{replace:t,state:n,preventScrollReset:s,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o});c?r.startTransition(()=>h()):h()}},[u,d,m,a,n,t,e,s,i,l,o,c])}(p,{replace:c,state:d,target:u,preventScrollReset:h,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:v});let P=r.createElement("a",m(m(m({},y),E),{},{href:N.absoluteURL||k,onClick:N.isExternal||o?a:function(e){a&&a(e),e.defaultPrevented||T(e)},ref:Nt(t,C),target:u,"data-discover":j||"render"!==n?void 0:"true"}));return _&&!j?r.createElement(r.Fragment,null,P,r.createElement(yt,{page:k})):P});Tt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":a="page",caseSensitive:n=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:d,children:u}=e,p=l(e,g),h=Ce(c,{relative:p.relative}),f=je(),x=r.useContext(de),{navigator:y,basename:b}=r.useContext(xe),v=null!=x&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.useContext(pe);w(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Rt("useViewTransitionState"),s=Ce(e,{relative:t});if(!a.isTransitioning)return!1;let i=V(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=V(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=q(s.pathname,l)||null!=q(s.pathname,i)}(h)&&!0===d,j=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,N=f.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&b&&(k=V(k,b)||k);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let _,C=N===j||!i&&N.startsWith(j)&&"/"===N.charAt(S),E=null!=k&&(k===j||!i&&k.startsWith(j)&&"/"===k.charAt(j.length)),T={isActive:C,isPending:E,isTransitioning:v},P=C?a:void 0;_="function"===typeof s?s(T):[s,C?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof o?o(T):o;return r.createElement(Tt,m(m({},p),{},{"aria-current":P,className:_,ref:t,style:A,to:c,viewTransition:d}),"function"===typeof u?u(T):u)}).displayName="NavLink";var Pt=r.forwardRef((e,t)=>{let{discover:a="render",fetcherKey:n,navigate:s,reloadDocument:i,replace:o,state:c,method:d=Ge,action:u,onSubmit:p,relative:h,preventScrollReset:f,viewTransition:x,unstable_defaultShouldRevalidate:g}=e,b=l(e,y),{unstable_useTransitions:v}=r.useContext(xe),j=It(),N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:a}=r.useContext(xe),n=r.useContext(ye);w(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i=m({},Ce(e||".",{relative:t})),l=je();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();i.search=a?"?".concat(a):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==a&&(i.pathname="/"===i.pathname?a:J([a,i.pathname]));return S(i)}(u,{relative:h}),k="get"===d.toLowerCase()?"get":"post",_="string"===typeof u&&Et.test(u);return r.createElement("form",m(m({ref:t,method:k,action:N,onSubmit:i?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,a=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d,i=()=>j(t||e.currentTarget,{fetcherKey:n,method:a,navigate:s,replace:o,state:c,relative:h,preventScrollReset:f,viewTransition:x,unstable_defaultShouldRevalidate:g});v&&!1!==s?r.startTransition(()=>i()):i()}},b),{},{"data-discover":_||"render"!==a?void 0:"true"}))});function At(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Rt(e){let t=r.useContext(ce);return w(t,At(e)),t}function Ot(e){j("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=r.useRef(Je(e)),a=r.useRef(!1),n=je(),s=r.useMemo(()=>function(e,t){let a=Je(e);return t&&t.forEach((e,n)=>{a.has(n)||t.getAll(n).forEach(e=>{a.append(n,e)})}),a}(n.search,a.current?null:t.current),[n.search]),i=Se(),l=r.useCallback((e,t)=>{const n=Je("function"===typeof e?e(new URLSearchParams(s)):e);a.current=!0,i("?"+n,t)},[i,s]);return[s,l]}Pt.displayName="Form";var Lt=0,Dt=()=>"__".concat(String(++Lt),"__");function It(){let{router:e}=Rt("useSubmit"),{basename:t}=r.useContext(xe),a=ze("useRouteId"),n=e.fetch,s=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:l,encType:o,formData:c,body:d}=at(e,t);if(!1===r.navigate){let e=r.fetcherKey||Dt();await n(e,a,r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||l,formEncType:r.encType||o,flushSync:r.flushSync})}else await s(r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||l,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,s,t,a])}var Ft=a(950);const Mt=["message"];const zt=Array(12).fill(0),Ut=e=>{let{visible:t,className:a}=e;return r.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":t},r.createElement("div",{className:"sonner-spinner"},zt.map((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},Bt=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qt=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ht=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Wt=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Vt=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Kt=1;const $t=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:a}=e,n=l(e,Mt),r="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Kt++,s=this.toasts.find(e=>e.id===r),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(t=>t.id===r?(this.publish(m(m(m({},t),e),{},{id:r,title:a})),m(m(m({},t),e),{},{id:r,dismissible:i,title:a})):t):this.addToast(m(m({title:a},n),{},{dismissible:i,id:r})),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(m(m({},t),{},{message:e})),this.error=(e,t)=>this.create(m(m({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(m(m({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(m(m({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(m(m({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(m(m({},t),{},{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create(m(m({},t),{},{promise:e,type:"loading",message:t.loading,description:"function"!==typeof t.description?t.description:void 0})));const n=Promise.resolve(e instanceof Function?e():e);let s,i=void 0!==a;const l=n.then(async e=>{s=["resolve",e];if(r.isValidElement(e))i=!1,this.create({id:a,type:"default",message:e});else if(Yt(e)&&!e.ok){i=!1;const n="function"===typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,s="function"===typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description,l="object"===typeof n&&!r.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"error",description:s},l))}else if(e instanceof Error){i=!1;const n="function"===typeof t.error?await t.error(e):t.error,s="function"===typeof t.description?await t.description(e):t.description,l="object"===typeof n&&!r.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"error",description:s},l))}else if(void 0!==t.success){i=!1;const n="function"===typeof t.success?await t.success(e):t.success,s="function"===typeof t.description?await t.description(e):t.description,l="object"===typeof n&&!r.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"success",description:s},l))}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){i=!1;const n="function"===typeof t.error?await t.error(e):t.error,s="function"===typeof t.description?await t.description(e):t.description,l="object"===typeof n&&!r.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"error",description:s},l))}}).finally(()=>{i&&(this.dismiss(a),a=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>l.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!==typeof a&&"number"!==typeof a?{unwrap:o}:Object.assign(a,{unwrap:o})},this.custom=(e,t)=>{const a=(null==t?void 0:t.id)||Kt++;return this.create(m({jsx:e(a),id:a},t)),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yt=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,Gt=(e,t)=>{const a=(null==t?void 0:t.id)||Kt++;return $t.addToast(m(m({title:e},t),{},{id:a})),a},Qt=Object.assign(Gt,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:()=>$t.toasts,getToasts:()=>$t.getActiveToasts()});function Xt(e){return void 0!==e.label}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Jt=3,Zt=14;function ea(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const ta=e=>{var t,a,n,s,i,l,o,c,d;const{invert:u,toast:p,unstyled:h,interacting:f,setHeights:x,visibleToasts:g,heights:y,index:b,toasts:v,expanded:w,removeToast:j,defaultRichColors:N,closeButton:k,style:S,cancelButtonStyle:_,actionButtonStyle:C,className:E="",descriptionClassName:T="",duration:P,position:A,gap:R,expandByDefault:O,classNames:L,icons:D,closeButtonAriaLabel:I="Close toast"}=e,[F,M]=r.useState(null),[z,U]=r.useState(null),[B,q]=r.useState(!1),[H,W]=r.useState(!1),[V,K]=r.useState(!1),[$,Y]=r.useState(!1),[G,Q]=r.useState(!1),[X,J]=r.useState(0),[Z,ee]=r.useState(0),te=r.useRef(p.duration||P||4e3),ae=r.useRef(null),ne=r.useRef(null),re=0===b,se=b+1<=g,ie=p.type,le=!1!==p.dismissible,oe=p.className||"",ce=p.descriptionClassName||"",de=r.useMemo(()=>y.findIndex(e=>e.toastId===p.id)||0,[y,p.id]),ue=r.useMemo(()=>{var e;return null!=(e=p.closeButton)?e:k},[p.closeButton,k]),me=r.useMemo(()=>p.duration||P||4e3,[p.duration,P]),pe=r.useRef(0),he=r.useRef(0),fe=r.useRef(0),xe=r.useRef(null),[ge,ye]=A.split("-"),be=r.useMemo(()=>y.reduce((e,t,a)=>a>=de?e:e+t.height,0),[y,de]),ve=(()=>{const[e,t]=r.useState(document.hidden);return r.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),we=p.invert||u,je="loading"===ie;he.current=r.useMemo(()=>de*R+be,[de,be]),r.useEffect(()=>{te.current=me},[me]),r.useEffect(()=>{q(!0)},[]),r.useEffect(()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return ee(t),x(e=>[{toastId:p.id,height:t,position:p.position},...e]),()=>x(e=>e.filter(e=>e.toastId!==p.id))}},[x,p.id]),r.useLayoutEffect(()=>{if(!B)return;const e=ne.current,t=e.style.height;e.style.height="auto";const a=e.getBoundingClientRect().height;e.style.height=t,ee(a),x(e=>e.find(e=>e.toastId===p.id)?e.map(e=>e.toastId===p.id?m(m({},e),{},{height:a}):e):[{toastId:p.id,height:a,position:p.position},...e])},[B,p.title,p.description,x,p.id,p.jsx,p.action,p.cancel]);const Ne=r.useCallback(()=>{W(!0),J(he.current),x(e=>e.filter(e=>e.toastId!==p.id)),setTimeout(()=>{j(p)},200)},[p,j,x,he]);r.useEffect(()=>{if(p.promise&&"loading"===ie||p.duration===1/0||"loading"===p.type)return;let e;return w||f||ve?(()=>{if(fe.current<pe.current){const e=(new Date).getTime()-pe.current;te.current=te.current-e}fe.current=(new Date).getTime()})():te.current!==1/0&&(pe.current=(new Date).getTime(),e=setTimeout(()=>{null==p.onAutoClose||p.onAutoClose.call(p,p),Ne()},te.current)),()=>clearTimeout(e)},[w,f,p,ie,ve,Ne]),r.useEffect(()=>{p.delete&&(Ne(),null==p.onDismiss||p.onDismiss.call(p,p))},[Ne,p.delete]);const ke=p.icon||(null==D?void 0:D[ie])||(e=>{switch(e){case"success":return Bt;case"info":return Ht;case"warning":return qt;case"error":return Wt;default:return null}})(ie);var Se,_e;return r.createElement("li",{tabIndex:0,ref:ne,className:ea(E,oe,null==L?void 0:L.toast,null==p||null==(t=p.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[ie],null==p||null==(a=p.classNames)?void 0:a[ie]),"data-sonner-toast":"","data-rich-colors":null!=(Se=p.richColors)?Se:N,"data-styled":!Boolean(p.jsx||p.unstyled||h),"data-mounted":B,"data-promise":Boolean(p.promise),"data-swiped":G,"data-removed":H,"data-visible":se,"data-y-position":ge,"data-x-position":ye,"data-index":b,"data-front":re,"data-swiping":V,"data-dismissible":le,"data-type":ie,"data-invert":we,"data-swipe-out":$,"data-swipe-direction":z,"data-expanded":Boolean(w||O&&B),"data-testid":p.testId,style:m(m({"--index":b,"--toasts-before":b,"--z-index":v.length-b,"--offset":"".concat(H?X:he.current,"px"),"--initial-height":O?"auto":"".concat(Z,"px")},S),p.style),onDragEnd:()=>{K(!1),M(null),xe.current=null},onPointerDown:e=>{2!==e.button&&!je&&le&&(ae.current=new Date,J(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(K(!0),xe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,a;if($||!le)return;xe.current=null;const n=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),r=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),s=(new Date).getTime()-(null==(a=ae.current)?void 0:a.getTime()),i="x"===F?n:r,l=Math.abs(i)/s;if(Math.abs(i)>=45||l>.11)return J(he.current),null==p.onDismiss||p.onDismiss.call(p,p),U("x"===F?n>0?"right":"left":r>0?"down":"up"),Ne(),void Y(!0);var o,c;null==(o=ne.current)||o.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),Q(!1),K(!1),M(null)},onPointerMove:t=>{var a,n,r;if(!xe.current||!le)return;if((null==(a=window.getSelection())?void 0:a.toString().length)>0)return;const s=t.clientY-xe.current.y,i=t.clientX-xe.current.x;var l;const o=null!=(l=e.swipeDirections)?l:function(e){const[t,a]=e.split("-"),n=[];return t&&n.push(t),a&&n.push(a),n}(A);!F&&(Math.abs(i)>1||Math.abs(s)>1)&&M(Math.abs(i)>Math.abs(s)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===F){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&s<0||o.includes("bottom")&&s>0)c.y=s;else{const e=s*d(s);c.y=Math.abs(e)<Math.abs(s)?e:s}}else if("x"===F&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&i<0||o.includes("right")&&i>0)c.x=i;else{const e=i*d(i);c.x=Math.abs(e)<Math.abs(i)?e:i}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Q(!0),null==(n=ne.current)||n.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(r=ne.current)||r.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ue&&!p.jsx&&"loading"!==ie?r.createElement("button",{"aria-label":I,"data-disabled":je,"data-close-button":!0,onClick:je||!le?()=>{}:()=>{Ne(),null==p.onDismiss||p.onDismiss.call(p,p)},className:ea(null==L?void 0:L.closeButton,null==p||null==(n=p.classNames)?void 0:n.closeButton)},null!=(_e=null==D?void 0:D.close)?_e:Vt):null,(ie||p.icon||p.promise)&&null!==p.icon&&(null!==(null==D?void 0:D[ie])||p.icon)?r.createElement("div",{"data-icon":"",className:ea(null==L?void 0:L.icon,null==p||null==(s=p.classNames)?void 0:s.icon)},p.promise||"loading"===p.type&&!p.icon?p.icon||function(){var e,t;return(null==D?void 0:D.loading)?r.createElement("div",{className:ea(null==L?void 0:L.loader,null==p||null==(t=p.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ie},D.loading):r.createElement(Ut,{className:ea(null==L?void 0:L.loader,null==p||null==(e=p.classNames)?void 0:e.loader),visible:"loading"===ie})}():null,"loading"!==p.type?ke:null):null,r.createElement("div",{"data-content":"",className:ea(null==L?void 0:L.content,null==p||null==(i=p.classNames)?void 0:i.content)},r.createElement("div",{"data-title":"",className:ea(null==L?void 0:L.title,null==p||null==(l=p.classNames)?void 0:l.title)},p.jsx?p.jsx:"function"===typeof p.title?p.title():p.title),p.description?r.createElement("div",{"data-description":"",className:ea(T,ce,null==L?void 0:L.description,null==p||null==(o=p.classNames)?void 0:o.description)},"function"===typeof p.description?p.description():p.description):null),r.isValidElement(p.cancel)?p.cancel:p.cancel&&Xt(p.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||_,onClick:e=>{Xt(p.cancel)&&le&&(null==p.cancel.onClick||p.cancel.onClick.call(p.cancel,e),Ne())},className:ea(null==L?void 0:L.cancelButton,null==p||null==(c=p.classNames)?void 0:c.cancelButton)},p.cancel.label):null,r.isValidElement(p.action)?p.action:p.action&&Xt(p.action)?r.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||C,onClick:e=>{Xt(p.action)&&(null==p.action.onClick||p.action.onClick.call(p.action,e),e.defaultPrevented||Ne())},className:ea(null==L?void 0:L.actionButton,null==p||null==(d=p.classNames)?void 0:d.actionButton)},p.action.label):null)};function aa(){if("undefined"===typeof window)return"ltr";if("undefined"===typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function na(e,t){const a={};return[e,t].forEach((e,t)=>{const n=1===t,r=n?"--mobile-offset":"--offset",s=n?"16px":"24px";function i(e){["top","right","bottom","left"].forEach(t=>{a["".concat(r,"-").concat(t)]="number"===typeof e?"".concat(e,"px"):e})}"number"===typeof e||"string"===typeof e?i(e):"object"===typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a["".concat(r,"-").concat(t)]=s:a["".concat(r,"-").concat(t)]="number"===typeof e[t]?"".concat(e[t],"px"):e[t]}):i(s)}),a}const ra=r.forwardRef(function(e,t){const{id:a,invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:o,className:c,offset:d,mobileOffset:u,theme:p="light",richColors:h,duration:f,style:x,visibleToasts:g=Jt,toastOptions:y,dir:b=aa(),gap:v=Zt,icons:w,containerAriaLabel:j="Notifications"}=e,[N,k]=r.useState([]),S=r.useMemo(()=>a?N.filter(e=>e.toasterId===a):N.filter(e=>!e.toasterId),[N,a]),_=r.useMemo(()=>Array.from(new Set([s].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,s]),[C,E]=r.useState([]),[T,P]=r.useState(!1),[A,R]=r.useState(!1),[O,L]=r.useState("system"!==p?p:"undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=r.useRef(null),I=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=r.useRef(null),M=r.useRef(!1),z=r.useCallback(e=>{k(t=>{var a;return(null==(a=t.find(t=>t.id===e.id))?void 0:a.delete)||$t.dismiss(e.id),t.filter(t=>{let{id:a}=t;return a!==e.id})})},[]);return r.useEffect(()=>$t.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?m(m({},t),{},{delete:!0}):t))}):setTimeout(()=>{Ft.flushSync(()=>{k(t=>{const a=t.findIndex(t=>t.id===e.id);return-1!==a?[...t.slice(0,a),m(m({},t[a]),e),...t.slice(a+1)]:[e,...t]})})})}),[N]),r.useEffect(()=>{if("system"!==p)return void L(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),"undefined"===typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;L(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{L(t?"dark":"light")}catch(kx){console.error(kx)}})}},[p]),r.useEffect(()=>{N.length<=1&&P(!1)},[N]),r.useEffect(()=>{const e=e=>{var t;var a;i.every(t=>e[t]||e.code===t)&&(P(!0),null==(a=D.current)||a.focus());"Escape"!==e.code||document.activeElement!==D.current&&!(null==(t=D.current)?void 0:t.contains(document.activeElement))||P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),r.useEffect(()=>{if(D.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,M.current=!1)}},[D.current]),r.createElement("section",{ref:t,"aria-label":"".concat(j," ").concat(I),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((t,a)=>{var s;const[i,p]=t.split("-");return S.length?r.createElement("ol",{key:t,dir:"auto"===b?aa():b,tabIndex:-1,ref:D,className:c,"data-sonner-toaster":!0,"data-sonner-theme":O,"data-y-position":i,"data-x-position":p,style:m(m({"--front-toast-height":"".concat((null==(s=C[0])?void 0:s.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(v,"px")},x),na(d,u)),onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M.current||(M.current=!0,F.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{A||P(!1)},onDragEnd:()=>P(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},S.filter(e=>!e.position&&0===a||e.position===t).map((a,s)=>{var i,c;return r.createElement(ta,{key:a.id,icons:w,index:s,toast:a,defaultRichColors:h,duration:null!=(i=null==y?void 0:y.duration)?i:f,className:null==y?void 0:y.className,descriptionClassName:null==y?void 0:y.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==y?void 0:y.closeButton)?c:o,interacting:A,position:t,style:null==y?void 0:y.style,unstyled:null==y?void 0:y.unstyled,classNames:null==y?void 0:y.classNames,cancelButtonStyle:null==y?void 0:y.cancelButtonStyle,actionButtonStyle:null==y?void 0:y.actionButtonStyle,closeButtonAriaLabel:null==y?void 0:y.closeButtonAriaLabel,removeToast:z,toasts:S.filter(e=>e.position==a.position),heights:C.filter(e=>e.position==a.position),setHeights:E,expandByDefault:l,gap:v,expanded:T,swipeDirections:e.swipeDirections})})):null}))});function sa(e,t){return function(){return e.apply(t,arguments)}}const{toString:ia}=Object.prototype,{getPrototypeOf:la}=Object,{iterator:oa,toStringTag:ca}=Symbol,da=(ua=Object.create(null),e=>{const t=ia.call(e);return ua[t]||(ua[t]=t.slice(8,-1).toLowerCase())});var ua;const ma=e=>(e=e.toLowerCase(),t=>da(t)===e),pa=e=>t=>typeof t===e,{isArray:ha}=Array,fa=pa("undefined");function xa(e){return null!==e&&!fa(e)&&null!==e.constructor&&!fa(e.constructor)&&ba(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ga=ma("ArrayBuffer");const ya=pa("string"),ba=pa("function"),va=pa("number"),wa=e=>null!==e&&"object"===typeof e,ja=e=>{if("object"!==da(e))return!1;const t=la(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ca in e)&&!(oa in e)},Na=ma("Date"),ka=ma("File"),Sa=ma("Blob"),_a=ma("FileList"),Ca=ma("URLSearchParams"),[Ea,Ta,Pa,Aa]=["ReadableStream","Request","Response","Headers"].map(ma);function Ra(e,t){let a,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ha(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(xa(e))return;const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(a=0;a<s;a++)i=n[a],t.call(null,e[i],i,e)}}function Oa(e,t){if(xa(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n,r=a.length;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const La="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:a.g,Da=e=>!fa(e)&&e!==La;const Ia=(Fa="undefined"!==typeof Uint8Array&&la(Uint8Array),e=>Fa&&e instanceof Fa);var Fa;const Ma=ma("HTMLFormElement"),za=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),Ua=ma("RegExp"),Ba=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};Ra(a,(a,r)=>{let s;!1!==(s=t(a,r,e))&&(n[r]=s||a)}),Object.defineProperties(e,n)};const qa=ma("AsyncFunction"),Ha=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),n=[],La.addEventListener("message",e=>{let{source:t,data:r}=e;t===La&&r===a&&n.length&&n.shift()()},!1),e=>{n.push(e),La.postMessage(a,"*")}):e=>setTimeout(e);var a,n})("function"===typeof setImmediate,ba(La.postMessage)),Wa="undefined"!==typeof queueMicrotask?queueMicrotask.bind(La):"undefined"!==typeof process&&process.nextTick||Ha,Va={isArray:ha,isArrayBuffer:ga,isBuffer:xa,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ba(e.append)&&("formdata"===(t=da(e))||"object"===t&&ba(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ga(e.buffer),t},isString:ya,isNumber:va,isBoolean:e=>!0===e||!1===e,isObject:wa,isPlainObject:ja,isEmptyObject:e=>{if(!wa(e)||xa(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(kx){return!1}},isReadableStream:Ea,isRequest:Ta,isResponse:Pa,isHeaders:Aa,isUndefined:fa,isDate:Na,isFile:ka,isBlob:Sa,isRegExp:Ua,isFunction:ba,isStream:e=>wa(e)&&ba(e.pipe),isURLSearchParams:Ca,isTypedArray:Ia,isFileList:_a,forEach:Ra,merge:function e(){const{caseless:t,skipUndefined:a}=Da(this)&&this||{},n={},r=(r,s)=>{if("__proto__"===s||"constructor"===s||"prototype"===s)return;const i=t&&Oa(n,s)||s;ja(n[i])&&ja(r)?n[i]=e(n[i],r):ja(r)?n[i]=e({},r):ha(r)?n[i]=r.slice():a&&fa(r)||(n[i]=r)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ra(arguments[s],r);return n},extend:function(e,t,a){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ra(t,(t,n)=>{a&&ba(t)?Object.defineProperty(e,n,{value:sa(t,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let r,s,i;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],n&&!n(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==a&&la(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:da,kindOfTest:ma,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(ha(e))return e;let t=e.length;if(!va(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[oa]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:Ma,hasOwnProperty:za,hasOwnProp:za,reduceDescriptors:Ba,freezeMethods:e=>{Ba(e,(t,a)=>{if(ba(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];ba(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach(e=>{a[e]=!0})};return ha(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Oa,global:La,isContextDefined:Da,isSpecCompliantForm:function(e){return!!(e&&ba(e.append)&&"FormData"===e[ca]&&e[oa])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(wa(e)){if(t.indexOf(e)>=0)return;if(xa(e))return e;if(!("toJSON"in e)){t[n]=e;const r=ha(e)?[]:{};return Ra(e,(e,t)=>{const s=a(e,n+1);!fa(s)&&(r[t]=s)}),t[n]=void 0,r}}return e};return a(e,0)},isAsyncFn:qa,isThenable:e=>e&&(wa(e)||ba(e))&&ba(e.then)&&ba(e.catch),setImmediate:Ha,asap:Wa,isIterable:e=>null!=e&&ba(e[oa])};class Ka extends Error{static from(e,t,a,n,r,s){const i=new Ka(e.message,t||e.code,a,n,r);return i.cause=e,i.name=e.name,s&&Object.assign(i,s),i}constructor(e,t,a,n,r){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Va.toJSONObject(this.config),code:this.code,status:this.status}}}Ka.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",Ka.ERR_BAD_OPTION="ERR_BAD_OPTION",Ka.ECONNABORTED="ECONNABORTED",Ka.ETIMEDOUT="ETIMEDOUT",Ka.ERR_NETWORK="ERR_NETWORK",Ka.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",Ka.ERR_DEPRECATED="ERR_DEPRECATED",Ka.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",Ka.ERR_BAD_REQUEST="ERR_BAD_REQUEST",Ka.ERR_CANCELED="ERR_CANCELED",Ka.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",Ka.ERR_INVALID_URL="ERR_INVALID_URL";const $a=Ka;function Ya(e){return Va.isPlainObject(e)||Va.isArray(e)}function Ga(e){return Va.endsWith(e,"[]")?e.slice(0,-2):e}function Qa(e,t,a){return e?e.concat(t).map(function(e,t){return e=Ga(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}const Xa=Va.toFlatObject(Va,{},null,function(e){return/^is[A-Z]/.test(e)});const Ja=function(e,t,a){if(!Va.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=Va.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Va.isUndefined(t[e])})).metaTokens,r=a.visitor||c,s=a.dots,i=a.indexes,l=(a.Blob||"undefined"!==typeof Blob&&Blob)&&Va.isSpecCompliantForm(t);if(!Va.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Va.isDate(e))return e.toISOString();if(Va.isBoolean(e))return e.toString();if(!l&&Va.isBlob(e))throw new $a("Blob is not supported. Use a Buffer instead.");return Va.isArrayBuffer(e)||Va.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let l=e;if(e&&!r&&"object"===typeof e)if(Va.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(Va.isArray(e)&&function(e){return Va.isArray(e)&&!e.some(Ya)}(e)||(Va.isFileList(e)||Va.endsWith(a,"[]"))&&(l=Va.toArray(e)))return a=Ga(a),l.forEach(function(e,n){!Va.isUndefined(e)&&null!==e&&t.append(!0===i?Qa([a],n,s):null===i?a:a+"[]",o(e))}),!1;return!!Ya(e)||(t.append(Qa(r,a,s),o(e)),!1)}const d=[],u=Object.assign(Xa,{defaultVisitor:c,convertValue:o,isVisitable:Ya});if(!Va.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!Va.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+n.join("."));d.push(a),Va.forEach(a,function(a,s){!0===(!(Va.isUndefined(a)||null===a)&&r.call(t,a,Va.isString(s)?s.trim():s,n,u))&&e(a,n?n.concat(s):[s])}),d.pop()}}(e),t};function Za(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function en(e,t){this._pairs=[],e&&Ja(e,this,t)}const tn=en.prototype;tn.append=function(e,t){this._pairs.push([e,t])},tn.toString=function(e){const t=e?function(t){return e.call(this,t,Za)}:Za;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const an=en;function nn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rn(e,t,a){if(!t)return e;const n=a&&a.encode||nn,r=Va.isFunction(a)?{serialize:a}:a,s=r&&r.serialize;let i;if(i=s?s(t,r):Va.isURLSearchParams(t)?t.toString():new an(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const sn=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Va.forEach(this.handlers,function(t){null!==t&&e(t)})}},ln={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},on={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:an,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},cn="undefined"!==typeof window&&"undefined"!==typeof document,dn="object"===typeof navigator&&navigator||void 0,un=cn&&(!dn||["ReactNative","NativeScript","NS"].indexOf(dn.product)<0),mn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pn=cn&&window.location.href||"http://localhost",hn=m(m({},n),on);const fn=function(e){function t(e,a,n,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),l=r>=e.length;if(s=!s&&Va.isArray(n)?n.length:s,l)return Va.hasOwnProp(n,s)?n[s]=[n[s],a]:n[s]=a,!i;n[s]&&Va.isObject(n[s])||(n[s]=[]);return t(e,a,n[s],r)&&Va.isArray(n[s])&&(n[s]=function(e){const t={},a=Object.keys(e);let n;const r=a.length;let s;for(n=0;n<r;n++)s=a[n],t[s]=e[s];return t}(n[s])),!i}if(Va.isFormData(e)&&Va.isFunction(e.entries)){const a={};return Va.forEachEntry(e,(e,n)=>{t(function(e){return Va.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,a,0)}),a}return null};const xn={transitional:ln,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,r=Va.isObject(e);r&&Va.isHTMLForm(e)&&(e=new FormData(e));if(Va.isFormData(e))return n?JSON.stringify(fn(e)):e;if(Va.isArrayBuffer(e)||Va.isBuffer(e)||Va.isStream(e)||Va.isFile(e)||Va.isBlob(e)||Va.isReadableStream(e))return e;if(Va.isArrayBufferView(e))return e.buffer;if(Va.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ja(e,new hn.classes.URLSearchParams,m({visitor:function(e,t,a,n){return hn.isNode&&Va.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Va.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ja(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,a){if(Va.isString(e))try{return(t||JSON.parse)(e),Va.trim(e)}catch(kx){if("SyntaxError"!==kx.name)throw kx}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xn.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Va.isResponse(e)||Va.isReadableStream(e))return e;if(e&&Va.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(kx){if(a){if("SyntaxError"===kx.name)throw $a.from(kx,$a.ERR_BAD_RESPONSE,this,null,this.response);throw kx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Va.forEach(["delete","get","head","post","put","patch"],e=>{xn.headers[e]={}});const gn=xn,yn=Va.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bn=Symbol("internals");function vn(e){return e&&String(e).trim().toLowerCase()}function wn(e){return!1===e||null==e?e:Va.isArray(e)?e.map(wn):String(e)}function jn(e,t,a,n,r){return Va.isFunction(n)?n.call(this,t,a):(r&&(t=a),Va.isString(t)?Va.isString(n)?-1!==t.indexOf(n):Va.isRegExp(n)?n.test(t):void 0:void 0)}class Nn{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function r(e,t,a){const r=vn(t);if(!r)throw new Error("header name must be a non-empty string");const s=Va.findKey(n,r);(!s||void 0===n[s]||!0===a||void 0===a&&!1!==n[s])&&(n[s||t]=wn(e))}const s=(e,t)=>Va.forEach(e,(e,a)=>r(e,a,t));if(Va.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Va.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let a,n,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!a||t[a]&&yn[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t})(e),t);else if(Va.isObject(e)&&Va.isIterable(e)){let a,n,r={};for(const t of e){if(!Va.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[n=t[0]]=(a=r[n])?Va.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,a);return this}get(e,t){if(e=vn(e)){const a=Va.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(Va.isFunction(t))return t.call(this,e,a);if(Va.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vn(e)){const a=Va.findKey(this,e);return!(!a||void 0===this[a]||t&&!jn(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function r(e){if(e=vn(e)){const r=Va.findKey(a,e);!r||t&&!jn(0,a[r],r,t)||(delete a[r],n=!0)}}return Va.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const r=t[a];e&&!jn(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,a={};return Va.forEach(this,(n,r)=>{const s=Va.findKey(a,r);if(s)return t[s]=wn(n),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}(r):String(r).trim();i!==r&&delete t[r],t[i]=wn(n),a[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Va.forEach(this,(a,n)=>{null!=a&&!1!==a&&(t[n]=e&&Va.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,a]=e;return t+": "+a}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[bn]=this[bn]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=vn(e);t[n]||(!function(e,t){const a=Va.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(e,a,r){return this[n].call(this,t,e,a,r)},configurable:!0})})}(a,e),t[n]=!0)}return Va.isArray(e)?e.forEach(n):n(e),this}}Nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Va.reduceDescriptors(Nn.prototype,(e,t)=>{let{value:a}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[n]=e}}}),Va.freezeMethods(Nn);const kn=Nn;function Sn(e,t){const a=this||gn,n=t||a,r=kn.from(n.headers);let s=n.data;return Va.forEach(e,function(e){s=e.call(a,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function _n(e){return!(!e||!e.__CANCEL__)}const Cn=class extends $a{constructor(e,t,a){super(null==e?"canceled":e,$a.ERR_CANCELED,t,a),this.name="CanceledError",this.__CANCEL__=!0}};function En(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new $a("Request failed with status code "+a.status,[$a.ERR_BAD_REQUEST,$a.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const Tn=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=n[i];r||(r=o),a[s]=l,n[s]=o;let d=i,u=0;for(;d!==s;)u+=a[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Pn=function(e,t){let a,n,r=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,a=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=s?i(o,e):(a=o,n||(n=setTimeout(()=>{n=null,i(a)},s-t)))},()=>a&&i(a)]},An=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=Tn(50,250);return Pn(a=>{const s=a.loaded,i=a.lengthComputable?a.total:void 0,l=s-n,o=r(l);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&s<=i?(i-s)/o:void 0,event:a,lengthComputable:null!=i,[t?"download":"upload"]:!0})},a)},Rn=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},On=e=>function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Va.asap(()=>e(...a))},Ln=hn.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,hn.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,Dn=hn.hasStandardBrowserEnv?{write(e,t,a,n,r,s,i){if("undefined"===typeof document)return;const l=["".concat(e,"=").concat(encodeURIComponent(t))];Va.isNumber(a)&&l.push("expires=".concat(new Date(a).toUTCString())),Va.isString(n)&&l.push("path=".concat(n)),Va.isString(r)&&l.push("domain=".concat(r)),!0===s&&l.push("secure"),Va.isString(i)&&l.push("SameSite=".concat(i)),document.cookie=l.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function In(e,t,a){let n=!("string"===typeof(r=t)&&/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r));var r;return e&&(n||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Fn=e=>e instanceof kn?m({},e):e;function Mn(e,t){t=t||{};const a={};function n(e,t,a,n){return Va.isPlainObject(e)&&Va.isPlainObject(t)?Va.merge.call({caseless:n},e,t):Va.isPlainObject(t)?Va.merge({},t):Va.isArray(t)?t.slice():t}function r(e,t,a,r){return Va.isUndefined(t)?Va.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function s(e,t){if(!Va.isUndefined(t))return n(void 0,t)}function i(e,t){return Va.isUndefined(t)?Va.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(a,r,s){return s in t?n(a,r):s in e?n(void 0,a):void 0}const o={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,a)=>r(Fn(e),Fn(t),0,!0)};return Va.forEach(Object.keys(m(m({},e),t)),function(n){if("__proto__"===n||"constructor"===n||"prototype"===n)return;const s=Va.hasOwnProp(o,n)?o[n]:r,i=s(e[n],t[n],n);Va.isUndefined(i)&&s!==l||(a[n]=i)}),a}const zn=e=>{const t=Mn({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=kn.from(i),t.url=rn(In(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Va.isFormData(a))if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Va.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[a,n]=e;t.includes(a.toLowerCase())&&i.set(a,n)})}if(hn.hasStandardBrowserEnv&&(n&&Va.isFunction(n)&&(n=n(t)),n||!1!==n&&Ln(t.url))){const e=r&&s&&Dn.read(s);e&&i.set(r,e)}return t},Un="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,a){const n=zn(e);let r=n.data;const s=kn.from(n.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=n;function h(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function x(){if(!f)return;const n=kn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());En(function(e){t(e),h()},function(e){a(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(a(new $a("Request aborted",$a.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const n=t&&t.message?t.message:"Network Error",r=new $a(n,$a.ERR_NETWORK,e,f);r.event=t||null,a(r),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||ln;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new $a(t,r.clarifyTimeoutError?$a.ETIMEDOUT:$a.ECONNABORTED,e,f)),f=null},void 0===r&&s.setContentType(null),"setRequestHeader"in f&&Va.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Va.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),p&&([o,d]=An(p,!0),f.addEventListener("progress",o)),m&&f.upload&&([l,c]=An(m),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{f&&(a(!t||t.type?new Cn(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===hn.protocols.indexOf(g)?a(new $a("Unsupported protocol "+g+":",$a.ERR_BAD_REQUEST,e)):f.send(r||null)})},Bn=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const r=function(e){if(!a){a=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof $a?t:new Cn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,r(new $a("timeout of ".concat(t,"ms exceeded"),$a.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>Va.asap(i),l}};function qn(e,t){this.v=e,this.k=t}function Hn(e){return function(){return new Wn(e.apply(this,arguments))}}function Wn(e){var t,a;function n(t,a){try{var s=e[t](a),i=s.value,l=i instanceof qn;Promise.resolve(l?i.v:i).then(function(a){if(l){var o="return"===t?"return":"next";if(!i.k||a.done)return n(o,a);a=e[o](a).value}r(s.done?"return":"normal",a)},function(e){n("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):a=null}this._invoke=function(e,r){return new Promise(function(s,i){var l={key:e,arg:r,resolve:s,reject:i,next:null};a?a=a.next=l:(t=a=l,n(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Vn(e){return new qn(e,0)}function Kn(e){var t={},a=!1;function n(t,n){return a=!0,n=new Promise(function(a){a(e[t](n))}),{done:!1,value:new qn(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):n("return",e)}),t}function $n(e){var t,a,n,r=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(a&&null!=(t=e[a]))return t.call(e);if(n&&null!=(t=e[n]))return new Yn(t.call(e));a="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Yn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Yn=function(e){this.s=e,this.n=e.next},Yn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new Yn(e)}Wn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Wn.prototype.next=function(e){return this._invoke("next",e)},Wn.prototype.throw=function(e){return this._invoke("throw",e)},Wn.prototype.return=function(e){return this._invoke("return",e)};const Gn=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let n,r=0;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},Qn=function(){var e=Hn(function*(e,t){var a,n=!1,r=!1;try{for(var s,i=$n(Xn(e));n=!(s=yield Vn(i.next())).done;n=!1){const e=s.value;yield*Kn($n(Gn(e,t)))}}catch(l){r=!0,a=l}finally{try{n&&null!=i.return&&(yield Vn(i.return()))}finally{if(r)throw a}}});return function(t,a){return e.apply(this,arguments)}}(),Xn=function(){var e=Hn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Kn($n(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield Vn(t.read());if(e)break;yield a}}finally{yield Vn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Jn=(e,t,a,n)=>{const r=Qn(e,t);let s,i=0,l=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return l(),void e.close();let s=n.byteLength;if(a){let e=i+=s;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},{isFunction:Zn}=Va,er=(e=>{let{Request:t,Response:a}=e;return{Request:t,Response:a}})(Va.global),{ReadableStream:tr,TextEncoder:ar}=Va.global,nr=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!e(...a)}catch(kx){return!1}},rr=e=>{e=Va.merge.call({skipUndefined:!0},er,e);const{fetch:t,Request:a,Response:n}=e,r=t?Zn(t):"function"===typeof fetch,s=Zn(a),i=Zn(n);if(!r)return!1;const l=r&&Zn(tr),o=r&&("function"===typeof ar?(c=new ar,e=>c.encode(e)):async e=>new Uint8Array(await new a(e).arrayBuffer()));var c;const d=s&&l&&nr(()=>{let e=!1;const t=new a(hn.origin,{body:new tr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&l&&nr(()=>Va.isReadableStream(new n("").body)),p={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,a)=>{let n=t&&t[e];if(n)return n.call(t);throw new $a("Response type '".concat(e,"' is not supported"),$a.ERR_NOT_SUPPORT,a)})});const h=async(e,t)=>{const n=Va.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Va.isBlob(e))return e.size;if(Va.isSpecCompliantForm(e)){const t=new a(hn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Va.isArrayBufferView(e)||Va.isArrayBuffer(e)?e.byteLength:(Va.isURLSearchParams(e)&&(e+=""),Va.isString(e)?(await o(e)).byteLength:void 0)})(t):n};return async e=>{let{url:r,method:i,data:l,signal:o,cancelToken:c,timeout:f,onDownloadProgress:x,onUploadProgress:g,responseType:y,headers:b,withCredentials:v="same-origin",fetchOptions:w}=zn(e),j=t||fetch;y=y?(y+"").toLowerCase():"text";let N=Bn([o,c&&c.toAbortSignal()],f),k=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let _;try{if(g&&d&&"get"!==i&&"head"!==i&&0!==(_=await h(b,l))){let e,t=new a(r,{method:"POST",body:l,duplex:"half"});if(Va.isFormData(l)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,a]=Rn(_,An(On(g)));l=Jn(t.body,65536,e,a)}}Va.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in a.prototype,o=m(m({},w),{},{signal:N,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:l,duplex:"half",credentials:t?v:void 0});k=s&&new a(r,o);let c=await(s?j(k,w):j(r,o));const f=u&&("stream"===y||"response"===y);if(u&&(x||f&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Va.toFiniteNumber(c.headers.get("content-length")),[a,r]=x&&Rn(t,An(On(x),!0))||[];c=new n(Jn(c.body,65536,a,()=>{r&&r(),S&&S()}),e)}y=y||"text";let C=await p[Va.findKey(p,y)||"text"](c,e);return!f&&S&&S(),await new Promise((t,a)=>{En(t,a,{data:C,headers:kn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new $a("Network Error",$a.ERR_NETWORK,e,k,C&&C.response),{cause:C.cause||C});throw $a.from(C,C&&C.code,e,k,C&&C.response)}}},sr=new Map,ir=e=>{let t=e&&e.env||{};const{fetch:a,Request:n,Response:r}=t,s=[n,r,a];let i,l,o=s.length,c=sr;for(;o--;)i=s[o],l=c.get(i),void 0===l&&c.set(i,l=o?new Map:rr(t)),c=l;return l},lr=(ir(),{http:null,xhr:Un,fetch:{get:ir}});Va.forEach(lr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(kx){}Object.defineProperty(e,"adapterName",{value:t})}});const or=e=>"- ".concat(e),cr=e=>Va.isFunction(e)||null===e||!1===e;const dr={getAdapter:function(e,t){e=Va.isArray(e)?e:[e];const{length:a}=e;let n,r;const s={};for(let i=0;i<a;i++){let a;if(n=e[i],r=n,!cr(n)&&(r=lr[(a=String(n)).toLowerCase()],void 0===r))throw new $a("Unknown adapter '".concat(a,"'"));if(r&&(Va.isFunction(r)||(r=r.get(t))))break;s[a||"#"+i]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")});let t=a?e.length>1?"since :\n"+e.map(or).join("\n"):" "+or(e[0]):"as no adapter specified";throw new $a("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:lr};function ur(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cn(null,e)}function mr(e){ur(e),e.headers=kn.from(e.headers),e.data=Sn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return dr.getAdapter(e.adapter||gn.adapter,e)(e).then(function(t){return ur(e),t.data=Sn.call(e,e.transformResponse,t),t.headers=kn.from(t.headers),t},function(t){return _n(t)||(ur(e),t&&t.response&&(t.response.data=Sn.call(e,e.transformResponse,t.response),t.response.headers=kn.from(t.response.headers))),Promise.reject(t)})}const pr="1.13.5",hr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hr[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const fr={};hr.transitional=function(e,t,a){function n(e,t){return"[Axios v"+pr+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,s)=>{if(!1===e)throw new $a(n(r," has been removed"+(t?" in "+t:"")),$a.ERR_DEPRECATED);return t&&!fr[r]&&(fr[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,s)}},hr.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const xr={assertOptions:function(e,t,a){if("object"!==typeof e)throw new $a("options must be an object",$a.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],i=t[s];if(i){const t=e[s],a=void 0===t||i(t,s,e);if(!0!==a)throw new $a("option "+s+" must be "+a,$a.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new $a("Unknown option "+s,$a.ERR_BAD_OPTION)}},validators:hr},gr=xr.validators;class yr{constructor(e){this.defaults=e||{},this.interceptors={request:new sn,response:new sn}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(kx){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Mn(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:r}=t;void 0!==a&&xr.assertOptions(a,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean),legacyInterceptorReqResOrdering:gr.transitional(gr.boolean)},!1),null!=n&&(Va.isFunction(n)?t.paramsSerializer={serialize:n}:xr.assertOptions(n,{encode:gr.function,serialize:gr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xr.assertOptions(t,{baseUrl:gr.spelling("baseURL"),withXsrfToken:gr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&Va.merge(r.common,r[t.method]);r&&Va.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=kn.concat(s,r);const i=[];let l=!0;this.interceptors.request.forEach(function(e){if("function"===typeof e.runWhen&&!1===e.runWhen(t))return;l=l&&e.synchronous;const a=t.transitional||ln;a&&a.legacyInterceptorReqResOrdering?i.unshift(e.fulfilled,e.rejected):i.push(e.fulfilled,e.rejected)});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[mr.bind(this),void 0];for(e.unshift(...i),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=mr.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return rn(In((e=Mn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Va.forEach(["delete","get","head","options"],function(e){yr.prototype[e]=function(t,a){return this.request(Mn(a||{},{method:e,url:t,data:(a||{}).data}))}}),Va.forEach(["post","put","patch"],function(e){function t(t){return function(a,n,r){return this.request(Mn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}yr.prototype[e]=t(),yr.prototype[e+"Form"]=t(!0)});const br=yr;class vr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{a.subscribe(e),t=e}).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e(function(e,n,r){a.reason||(a.reason=new Cn(e,n,r),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vr(function(t){e=t}),cancel:e}}}const wr=vr;const jr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jr).forEach(e=>{let[t,a]=e;jr[a]=t});const Nr=jr;const kr=function e(t){const a=new br(t),n=sa(br.prototype.request,a);return Va.extend(n,br.prototype,a,{allOwnKeys:!0}),Va.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(Mn(t,a))},n}(gn);kr.Axios=br,kr.CanceledError=Cn,kr.CancelToken=wr,kr.isCancel=_n,kr.VERSION=pr,kr.toFormData=Ja,kr.AxiosError=$a,kr.Cancel=kr.CanceledError,kr.all=function(e){return Promise.all(e)},kr.spread=function(e){return function(t){return e.apply(null,t)}},kr.isAxiosError=function(e){return Va.isObject(e)&&!0===e.isAxiosError},kr.mergeConfig=Mn,kr.AxiosHeaders=kn,kr.formToJSON=e=>fn(Va.isHTMLForm(e)?new FormData(e):e),kr.getAdapter=dr.getAdapter,kr.HttpStatusCode=Nr,kr.default=kr;const Sr=kr;var _r=a(579);const Cr=(0,r.createContext)(null),Er={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Tr={total_spend:0,unlocked_nyp:!1,threshold:1e3,spend_to_unlock:1e3,override_enabled:!1},Pr=e=>{let{children:t}=e;const[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(localStorage.getItem("token")),[l,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(Tr),[u,m]=(0,r.useState)(!1),p=(0,r.useCallback)(async()=>{if(s){m(!0);try{const e=await Sr.get("".concat(Er,"/users/me/entitlements"));d(e.data)}catch(e){console.error("Failed to fetch entitlements:",e),d(Tr)}finally{m(!1)}}else d(Tr)},[s]);(0,r.useEffect)(()=>{s?(Sr.defaults.headers.common.Authorization="Bearer ".concat(s),h()):(o(!1),d(Tr))},[s]),(0,r.useEffect)(()=>{a&&p()},[a,p]);const h=async()=>{try{const e=await Sr.get("".concat(Er,"/auth/me"));n(e.data)}catch(e){console.error("Failed to fetch user:",e),f()}finally{o(!1)}},f=()=>{localStorage.removeItem("token"),delete Sr.defaults.headers.common.Authorization,i(null),n(null),d(Tr)};return(0,_r.jsx)(Cr.Provider,{value:{user:a,token:s,loading:l,login:async(e,t)=>{const a=await Sr.post("".concat(Er,"/auth/login"),{email:e,password:t}),{access_token:r,user:s}=a.data;return localStorage.setItem("token",r),Sr.defaults.headers.common.Authorization="Bearer ".concat(r),i(r),n(s),s},register:async(e,t,a,r)=>{const s=await Sr.post("".concat(Er,"/auth/register"),{name:e,email:t,password:a,phone:r}),{access_token:l,user:o}=s.data;return localStorage.setItem("token",l),Sr.defaults.headers.common.Authorization="Bearer ".concat(l),i(l),n(o),o},logout:f,isAuthenticated:!!a,entitlements:c,entitlementsLoading:u,refreshEntitlements:p},children:t})},Ar=()=>{const e=(0,r.useContext)(Cr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Rr=(0,r.createContext)(null),Or={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Lr=e=>{let{children:t}=e;const{isAuthenticated:a,token:n}=Ar(),[s,i]=(0,r.useState)({items:[],total:0}),[l,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(a)c();else{const e=localStorage.getItem("guestCart");e&&i(JSON.parse(e))}},[a]);const c=async()=>{if(a)try{o(!0);const e=await Sr.get("".concat(Or,"/cart"));i(e.data)}catch(e){console.error("Failed to fetch cart:",e)}finally{o(!1)}},d=s.items.reduce((e,t)=>e+t.quantity,0);return(0,_r.jsx)(Rr.Provider,{value:{cart:s,loading:l,addToCart:async e=>{if(a)try{const t=await Sr.post("".concat(Or,"/cart/add"),{product_id:e.id,quantity:1});i(t.data.cart)}catch(t){throw console.error("Failed to add to cart:",t),t}else{const t=m({},s),a=t.items.find(t=>t.product_id===e.id);a?a.quantity+=1:t.items.push({product_id:e.id,title:e.title,price:e.price,image_url:e.image_url,quantity:1}),t.total=t.items.reduce((e,t)=>e+t.price*t.quantity,0),i(t),localStorage.setItem("guestCart",JSON.stringify(t))}},removeFromCart:async e=>{if(a)try{await Sr.delete("".concat(Or,"/cart/").concat(e)),i(t=>m(m({},t),{},{items:t.items.filter(t=>t.product_id!==e),total:t.items.filter(t=>t.product_id!==e).reduce((e,t)=>e+t.price*t.quantity,0)}))}catch(t){console.error("Failed to remove from cart:",t)}else{const t=m({},s);t.items=t.items.filter(t=>t.product_id!==e),t.total=t.items.reduce((e,t)=>e+t.price*t.quantity,0),i(t),localStorage.setItem("guestCart",JSON.stringify(t))}},clearCart:()=>{i({items:[],total:0}),localStorage.removeItem("guestCart")},itemCount:d,fetchCart:c},children:t})},Dr=()=>{const e=(0,r.useContext)(Rr);if(!e)throw new Error("useCart must be used within a CartProvider");return e},Ir=(0,r.createContext)(null),Fr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Mr=e=>{let{children:t}=e;const[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(localStorage.getItem("adminToken")),[l,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{s?c():o(!1)},[s]);const c=async()=>{try{await Sr.get("".concat(Fr,"/admin/verify"),{headers:{Authorization:"Bearer ".concat(s)}}),n(!0)}catch(e){d()}finally{o(!1)}},d=()=>{localStorage.removeItem("adminToken"),i(null),n(!1)};return(0,_r.jsx)(Ir.Provider,{value:{isAdmin:a,loading:l,login:async(e,t)=>{const a=await Sr.post("".concat(Fr,"/admin/login"),{username:e,password:t}),{access_token:r}=a.data;return localStorage.setItem("adminToken",r),i(r),n(!0),!0},logout:d,adminToken:s,getAuthHeaders:()=>({headers:{Authorization:"Bearer ".concat(s)}})},children:t})},zr=()=>{const e=(0,r.useContext)(Ir);if(!e)throw new Error("useAdmin must be used within an AdminProvider");return e},Ur=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Br=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var qr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Wr=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d}=e,u=l(e,Hr);return(0,r.createElement)("svg",m(m(m({ref:t},qr),{},{width:n,height:n,stroke:a,strokeWidth:i?24*Number(s)/Number(n):s,className:Br("lucide",o)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...d.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),Vr=["className"],Kr=(e,t)=>{const a=(0,r.forwardRef)((a,n)=>{let{className:s}=a,i=l(a,Vr);return(0,r.createElement)(Wr,m({ref:n,iconNode:t,className:Br("lucide-".concat((o=Ur(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},i));var o});return a.displayName=Ur(e),a},$r=Kr("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Yr=Kr("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Gr=Kr("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Qr=Kr("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xr=Kr("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Jr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Zr=e=>{let{isOpen:t,onClose:a,mode:n,setMode:s}=e;const{login:i,register:l}=Ar(),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),[g,y]=(0,r.useState)({name:"",email:"",password:"",phone:""});if(!t)return null;const b=e=>{y(t=>m(m({},t),{},{[e.target.name]:e.target.value}))},v=()=>{u(!1),x(!1),h("")};return(0,_r.jsx)("div",{className:"modal-backdrop flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 w-full max-w-md p-8 relative",onClick:e=>e.stopPropagation(),"data-testid":"auth-modal",children:[(0,_r.jsx)("button",{onClick:()=>{a(),v()},className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors","data-testid":"close-auth-modal",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})}),d?f?(0,_r.jsxs)("div",{"data-testid":"forgot-password-sent",children:[(0,_r.jsx)("h2",{className:"title-xl text-3xl mb-2",children:"Check Your Email"}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm mb-6",children:["If an account exists for ",p,", a password reset link has been sent."]}),(0,_r.jsx)("button",{onClick:v,className:"text-gray-500 hover:text-white text-sm transition-colors","data-testid":"back-to-login",children:"Back to Sign In"})]}):(0,_r.jsxs)("div",{"data-testid":"forgot-password-form",children:[(0,_r.jsx)("h2",{className:"title-xl text-3xl mb-2",children:"Reset Password"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:"Enter your email to receive a reset link."}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{await Sr.post("".concat(Jr,"/auth/forgot-password"),{email:p}),x(!0),Qt.success("Reset link sent to your email")}catch(n){var t,a;Qt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to send reset link")}finally{c(!1)}},className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Email"}),(0,_r.jsx)("input",{type:"email",value:p,onChange:e=>h(e.target.value),required:!0,className:"input-dark",placeholder:"your@email.com","data-testid":"forgot-email"})]}),(0,_r.jsx)("button",{type:"submit",disabled:o,className:"btn-primary w-full disabled:opacity-50","data-testid":"forgot-submit",children:o?"Sending...":"Send Reset Link"})]}),(0,_r.jsx)("div",{className:"mt-4 text-center",children:(0,_r.jsx)("button",{onClick:v,className:"text-gray-500 hover:text-white text-sm transition-colors","data-testid":"back-to-login",children:"Back to Sign In"})})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("h2",{className:"title-xl text-3xl mb-2",children:"login"===n?"Welcome Back":"Create Account"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm mb-8",children:"login"===n?"Sign in to access your account":"Join us to start your gemstone journey"}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{"login"===n?(await i(g.email,g.password),Qt.success("Welcome back!")):(await l(g.name,g.email,g.password,g.phone),Qt.success("Account created successfully!")),a(),y({name:"",email:"",password:"",phone:""})}catch(s){var t,r;const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Something went wrong";Qt.error(e)}finally{c(!1)}},className:"space-y-4",children:["register"===n&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Name"}),(0,_r.jsx)("input",{type:"text",name:"name",value:g.name,onChange:b,required:!0,className:"input-dark",placeholder:"Your name","data-testid":"auth-name-input"})]}),"register"===n&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Phone"}),(0,_r.jsx)("input",{type:"tel",name:"phone",value:g.phone,onChange:b,required:!0,className:"input-dark",placeholder:"(555) 123-4567","data-testid":"auth-phone-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Email"}),(0,_r.jsx)("input",{type:"email",name:"email",value:g.email,onChange:b,required:!0,className:"input-dark",placeholder:"your@email.com","data-testid":"auth-email-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Password"}),(0,_r.jsx)("input",{type:"password",name:"password",value:g.password,onChange:b,required:!0,minLength:6,className:"input-dark",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","data-testid":"auth-password-input"})]}),"login"===n&&(0,_r.jsx)("div",{className:"text-right",children:(0,_r.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-gray-500 hover:text-white text-xs transition-colors","data-testid":"forgot-password-link",children:"Forgot password?"})}),(0,_r.jsx)("button",{type:"submit",disabled:o,className:"btn-primary w-full mt-6 disabled:opacity-50","data-testid":"auth-submit-btn",children:o?"Please wait...":"login"===n?"Sign In":"Create Account"})]}),(0,_r.jsx)("div",{className:"mt-6 text-center",children:(0,_r.jsx)("button",{onClick:()=>s("login"===n?"register":"login"),className:"text-gray-500 hover:text-white text-sm transition-colors","data-testid":"auth-switch-mode",children:"login"===n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})},es={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",ts=e=>{let{children:t}=e;const a=je(),{user:n,logout:s,isAuthenticated:i}=Ar(),{itemCount:l}=Dr(),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)("login"),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{const e=await Sr.get("".concat(es,"/content/studio/status"));f(e.data.enabled)}catch(e){f(!1)}})()},[]);const x=[{path:"/gallery",label:"Portfolio"},{path:"/shop",label:"Shop"},{path:"/sell",label:"Sell"},{path:"/booking",label:"Book"}],g=h?[x[0],{path:"/studio",label:"Studio"},...x.slice(1)]:x,y=e=>"/"===e?"/"===a.pathname:a.pathname.startsWith(e),b=e=>{p(e),u(!0)};return(0,_r.jsxs)("div",{className:"min-h-screen bg-[#050505]",children:[(0,_r.jsx)("div",{className:"noise-overlay"}),(0,_r.jsxs)("nav",{className:"fixed top-0 w-full z-50 glass border-b border-white/5",children:[(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center h-20",children:[(0,_r.jsxs)(Tt,{to:"/",className:"font-display text-xl justify-self-start",style:{letterSpacing:"0.04em"},"data-testid":"logo-link",children:[(0,_r.jsx)("span",{className:"hidden sm:inline",children:"Cutting Corners Gems"}),(0,_r.jsx)("span",{className:"sm:hidden text-lg",children:"CC Gems"})]}),(0,_r.jsx)("div",{className:"hidden md:flex items-center gap-10",children:g.map(e=>(0,_r.jsx)(Tt,{to:e.path,className:"nav-link ".concat(y(e.path)?"active":""),"data-testid":"nav-".concat(e.label.toLowerCase()),children:e.label},e.path))}),(0,_r.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6 justify-self-end",children:[(0,_r.jsxs)(Tt,{to:"/cart",className:"relative","data-testid":"cart-link",children:[(0,_r.jsx)($r,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"}),l>0&&(0,_r.jsx)("span",{className:"absolute -top-2 -right-2 w-4 h-4 bg-amber-500 text-black text-[10px] font-bold flex items-center justify-center",children:l})]}),i?(0,_r.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,_r.jsx)(Tt,{to:"/dashboard",className:"text-gray-400 hover:text-white transition-colors","data-testid":"dashboard-link",children:(0,_r.jsx)(Yr,{className:"w-5 h-5"})}),(0,_r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors","data-testid":"logout-btn",children:(0,_r.jsx)(Gr,{className:"w-5 h-5"})})]}):(0,_r.jsx)("button",{onClick:()=>b("login"),className:"hidden md:block btn-ghost","data-testid":"login-btn",children:"Login"}),(0,_r.jsx)("button",{className:"md:hidden text-white",onClick:()=>c(!o),"data-testid":"mobile-menu-btn",children:o?(0,_r.jsx)(Qr,{className:"w-6 h-6"}):(0,_r.jsx)(Xr,{className:"w-6 h-6"})})]})]})}),o&&(0,_r.jsx)("div",{className:"md:hidden glass border-t border-white/5",children:(0,_r.jsxs)("div",{className:"container-custom py-8 px-6",children:[(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:g.map(e=>(0,_r.jsx)(Tt,{to:e.path,className:"block text-center py-4 px-4 border transition-all ".concat(y(e.path)?"border-amber-500 bg-amber-500/10 text-amber-400":"border-white/20 text-gray-300 hover:border-teal-500 hover:bg-teal-500/10 hover:text-teal-400"),onClick:()=>c(!1),children:(0,_r.jsx)("span",{className:"text-sm font-medium tracking-wide",children:e.label})},e.path))}),(0,_r.jsx)("div",{className:"border-t border-white/10 my-6"}),(0,_r.jsx)("div",{className:"space-y-3",children:i?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)(Tt,{to:"/dashboard",className:"flex items-center justify-center gap-3 py-4 px-6 bg-amber-500/20 border border-amber-500/50 text-amber-400 hover:bg-amber-500/30 transition-all",onClick:()=>c(!1),children:[(0,_r.jsx)(Yr,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"font-medium",children:"My Account"})]}),(0,_r.jsxs)("button",{onClick:()=>{s(),c(!1)},className:"w-full flex items-center justify-center gap-3 py-4 px-6 border border-white/20 text-gray-400 hover:border-red-500/50 hover:text-red-400 transition-all",children:[(0,_r.jsx)(Gr,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"font-medium",children:"Logout"})]})]}):(0,_r.jsxs)("button",{onClick:()=>{b("login"),c(!1)},className:"w-full flex items-center justify-center gap-3 py-4 px-6 bg-teal-500/20 border border-teal-500/50 text-teal-400 hover:bg-teal-500/30 transition-all",children:[(0,_r.jsx)(Yr,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"font-medium",children:"Login / Sign Up"})]})})]})})]}),(0,_r.jsx)("main",{className:"pt-20",children:t}),(0,_r.jsx)("footer",{className:"border-t border-white/5 py-12 md:py-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12",children:[(0,_r.jsxs)("div",{className:"col-span-2",children:[(0,_r.jsx)("h3",{className:"title-sm text-xl md:text-2xl mb-4",children:"Cutting Corners"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed max-w-md",children:"Conscious gemstone cutting by Michael Wall. Based in Tempe, Arizona. Specializing in sapphires, tourmalines, emeralds, and more."})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h4",{className:"text-sm uppercase tracking-widest mb-4 text-amber-400 md:text-gray-400",children:"Navigation"}),(0,_r.jsx)("div",{className:"space-y-3 md:space-y-2",children:g.map(e=>(0,_r.jsx)(Tt,{to:e.path,className:"block text-gray-400 hover:text-white text-sm transition-colors",children:e.label},e.path))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h4",{className:"text-sm uppercase tracking-widest mb-4 text-teal-400 md:text-gray-400",children:"Contact"}),(0,_r.jsxs)("div",{className:"space-y-3 md:space-y-2 text-gray-500 text-sm",children:[(0,_r.jsx)("p",{children:"Tempe, Arizona"}),(0,_r.jsx)("p",{children:(0,_r.jsx)("a",{href:"tel:4802854595",className:"hover:text-white transition-colors",children:"480-286-4595"})}),(0,_r.jsx)("p",{children:(0,_r.jsx)("a",{href:"mailto:mwall@cuttingcornersgems.com",className:"hover:text-white transition-colors",children:"mwall@cuttingcornersgems.com"})}),(0,_r.jsx)("p",{className:"text-xs text-gray-600",children:"Texts, Calls & Emails Welcome"}),(0,_r.jsx)(Tt,{to:"/faq",className:"block text-gray-500 hover:text-white transition-colors mt-4","data-testid":"footer-faq-link",children:"FAQ"})]})]})]}),(0,_r.jsxs)("div",{className:"mt-16 pt-8 border-t border-white/5 text-center text-gray-600 text-xs uppercase tracking-widest",children:["\xa9 ",(new Date).getFullYear()," Cutting Corners. All rights reserved."]})]})}),(0,_r.jsx)(Zr,{isOpen:d,onClose:()=>u(!1),mode:m,setMode:p})]})},as=Kr("cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]),ns=Kr("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),rs=Kr("gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),ss=Kr("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),is={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",ls=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{const e=await Sr.get("".concat(is,"/gallery/featured"));t(e.data.slice(0,6))}catch(e){console.error("Failed to fetch featured:",e)}finally{n(!1)}})()},[]),(0,r.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.3});return document.querySelectorAll("[data-scroll-reveal]").forEach(t=>{t.style.transform="translateY(30px)",e.observe(t)}),()=>e.disconnect()},[]);return(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("section",{className:"hero-section","data-testid":"hero-section",children:[(0,_r.jsx)("div",{className:"absolute inset-0 hero-glow"}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:"url(https://customer-assets.emergentagent.com/job_1e0d6e37-2077-4a48-b9fe-d77e61594e60/artifacts/yu1iknms_IMG_3821.jpeg)"}}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent to-[#050505]/50"}),(0,_r.jsxs)("div",{className:"container-custom relative z-10 text-center",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-gray-400 mb-6 opacity-0 animate-fade-in transition-all duration-700","data-scroll-reveal":!0,children:"Tempe, Arizona"}),(0,_r.jsxs)("h1",{className:"hero-title title-xl tracking-tight mb-6 opacity-0 animate-fade-in delay-100",children:[(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Cutting"})," Corners \u2014 Not the ",(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Quality"})]}),(0,_r.jsx)("p",{className:"text-gray-400 text-lg md:text-xl lg:text-2xl max-w-3xl mx-auto mb-10 opacity-0 animate-fade-in delay-200",children:"Professional gemstone cutter focused on color, yield, and stone potential for jewelry professionals nationwide."})]}),(0,_r.jsx)("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 opacity-0 animate-fade-in delay-500",children:(0,_r.jsx)("div",{className:"w-px h-16 bg-gradient-to-b from-white/0 via-white/30 to-white/0"})}),(0,_r.jsxs)("div",{className:"absolute bottom-8 right-8 z-10 w-48 h-48 bg-[#0A0A0A] border border-white/10 p-6 hidden md:flex flex-col justify-center opacity-0 animate-fade-in delay-500",children:[(0,_r.jsx)("p",{className:"spec-text text-gray-500 mb-1",children:"Industry for"}),(0,_r.jsx)("p",{className:"title-sm text-3xl",children:"13 Years"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Cutting for Seven"})]})]}),(0,_r.jsx)("section",{className:"section-spacing py-24","data-testid":"philosophy-section",children:(0,_r.jsxs)("div",{className:"container-custom max-w-6xl",children:[(0,_r.jsxs)("div",{className:"text-center mb-16",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Philosophy"}),(0,_r.jsx)("h2",{className:"title-xl tracking-tight mb-4",children:"My Four C's"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,_r.jsxs)("div",{className:"space-y-6 text-left",children:[(0,_r.jsxs)("p",{className:"text-3xl md:text-4xl opacity-0 transition-all duration-700 delay-100","data-scroll-reveal":!0,children:[(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Color"})," is the goal."]}),(0,_r.jsxs)("p",{className:"text-3xl md:text-4xl opacity-0 transition-all duration-700 delay-200","data-scroll-reveal":!0,children:[(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Conscious"})," of the weight."]}),(0,_r.jsxs)("p",{className:"text-3xl md:text-4xl opacity-0 transition-all duration-700 delay-300","data-scroll-reveal":!0,children:[(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Careful"})," with my approach."]}),(0,_r.jsxs)("p",{className:"text-3xl md:text-4xl opacity-0 transition-all duration-700 delay-400","data-scroll-reveal":!0,children:[(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Cutting"})," is my craft."]})]}),(0,_r.jsx)("div",{className:"opacity-0 transition-all duration-700 delay-200","data-scroll-reveal":!0,children:(0,_r.jsxs)("div",{className:"relative group overflow-hidden rounded",children:[(0,_r.jsx)("img",{src:"https://customer-assets.emergentagent.com/job_41f4dd21-9bc3-4ce6-811a-c8c6525c59b8/artifacts/sqy5b97p_IMG_3573.jpeg",alt:"Workshop",className:"w-full h-auto"}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/0 transition-all duration-500"}),(0,_r.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 60px 20px rgba(0,0,0,0.8)"}}),(0,_r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 transition-opacity duration-500",children:(0,_r.jsx)("p",{className:"text-white title-sm text-sm",children:"Studio"})})]})})]})]})}),(0,_r.jsx)("section",{className:"section-spacing","data-testid":"services-section",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"text-center mb-16",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"What I Do"}),(0,_r.jsx)("h2",{className:"title-xl tracking-tight",children:"Services"})]}),(0,_r.jsx)("div",{className:"hidden md:grid grid-cols-3 gap-8",children:[{icon:as,title:"Custom Cutting",desc:"Receive a tailored cutting experience designed to reveal each gemstone's highest potential."},{icon:ns,title:"Re-Polish & Re-Cut",desc:"Breathe new life into existing gemstones through restoration focused on above-industry-standard weight retention."},{icon:rs,title:"Jeweler Services",desc:"Working directly with jewelers in the industry to deliver quick turn arounds and shorter lead times."},{icon:rs,title:"Sell Gemstones",desc:"An online shop with custom and flexible purchasing features, including pay now, pay later, inquiries and negotiations directly through the site."},{icon:rs,title:"Buy Rough",desc:"Source quality rough gemstones for your cutting projects."},{icon:rs,title:"Buy Gems In Bulk",desc:"Wholesale purchasing from jewelers and dealers."}].map((e,t)=>(0,_r.jsxs)("div",{className:"gem-card p-10 hover-lift opacity-0 transition-all duration-700",style:{animationDelay:"".concat(100*t,"ms")},"data-scroll-reveal":!0,children:[(0,_r.jsx)(e.icon,{className:"w-10 h-10 mb-6 text-[#d4af37] opacity-0 transition-all duration-700","data-scroll-reveal":!0,strokeWidth:1.5}),(0,_r.jsx)("h3",{className:"title-sm text-2xl mb-3",children:e.title}),(0,_r.jsx)("p",{className:"text-gray-500 text-base leading-relaxed",children:e.desc})]},e.title))}),(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-3 md:hidden",children:[{icon:as,title:"Custom Cutting",desc:"Receive a tailored cutting experience designed to reveal each gemstone's highest potential."},{icon:ns,title:"Re-Polish & Re-Cut",desc:"Breathe new life into existing gemstones through restoration focused on above-industry-standard weight retention."},{icon:rs,title:"Jeweler Services",desc:"Working directly with jewelers in the industry to deliver quick turn arounds and shorter lead times."},{icon:rs,title:"Sell Gemstones",desc:"An online shop with custom and flexible purchasing features, including pay now, pay later, inquiries and negotiations directly through the site."},{icon:rs,title:"Buy Rough",desc:"Source quality rough gemstones for your cutting projects."},{icon:rs,title:"Buy Gems In Bulk",desc:"Wholesale purchasing from jewelers and dealers."}].map((e,t)=>(0,_r.jsxs)("div",{className:"gem-card p-5 opacity-0 transition-all duration-700",style:{animationDelay:"".concat(50*t,"ms")},"data-scroll-reveal":!0,children:[(0,_r.jsx)(e.icon,{className:"w-7 h-7 mb-3 text-[#d4af37] opacity-0 transition-all duration-700","data-scroll-reveal":!0,strokeWidth:1.5}),(0,_r.jsx)("h3",{className:"title-sm text-lg mb-2",children:e.title}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:e.desc})]},e.title))})]})}),(0,_r.jsx)("section",{className:"section-spacing","data-testid":"about-section",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"text-center mb-16",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"About"}),(0,_r.jsx)("h2",{className:"title-xl tracking-tight",children:"The Cutter"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[(0,_r.jsx)("div",{className:"relative opacity-0 transition-all duration-700 delay-100","data-scroll-reveal":!0,children:(0,_r.jsxs)("div",{className:"aspect-square overflow-hidden relative",children:[(0,_r.jsx)("div",{className:"absolute inset-0 shadow-[inset_0_0_30px_15px_rgba(0,0,0,0.7)] z-10 pointer-events-none"}),(0,_r.jsx)("img",{src:"https://customer-assets.emergentagent.com/job_41f4dd21-9bc3-4ce6-811a-c8c6525c59b8/artifacts/c2cwyfwb_IMG_5555.jpeg",alt:"Michael Wall at work",className:"w-full h-full object-cover",style:{transform:"scale(1.1)",objectPosition:"center top"}})]})}),(0,_r.jsxs)("div",{className:"opacity-0 transition-all duration-700 delay-200","data-scroll-reveal":!0,children:[(0,_r.jsx)("h2",{className:"page-title title-xl name-title mb-6",children:"Michael Wall"}),(0,_r.jsxs)("div",{className:"space-y-4 text-gray-400 leading-relaxed",children:[(0,_r.jsx)("p",{children:"Based in Tempe, Arizona, I've been part of the gemstone industry since 2013, transitioning from amateur enthusiast to professional cutter in 2021. My focus is on med-high weight retention cuts that maximize both value and beauty."}),(0,_r.jsx)("p",{children:"I work closely with jewelers across the industry, specializing in natural colored gemstones including sapphires, tourmalines, emeralds, tanzanites, and more. Whether you need a custom cut, re-polish, or expert consultation, I'm here to deliver results that exceed expectations."})]}),(0,_r.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[(0,_r.jsx)(Tt,{to:"/gallery",className:"btn-primary","data-testid":"about-portfolio-btn",children:"View Portfolio"}),(0,_r.jsx)("a",{href:"tel:4802854595",className:"btn-secondary","data-testid":"about-call-btn",children:"Call 480-286-4595"})]})]})]})]})}),(0,_r.jsxs)("section",{className:"section-spacing bg-[#0A0A0A] relative overflow-hidden","data-testid":"cta-section",children:[(0,_r.jsx)("div",{className:"absolute inset-0 hero-glow opacity-50"}),(0,_r.jsxs)("div",{className:"container-custom relative z-10 text-center",children:[(0,_r.jsx)("h2",{className:"page-title title-xl mb-6",children:"Ready to Start?"}),(0,_r.jsx)("p",{className:"text-gray-400 text-lg max-w-xl mx-auto mb-10",children:"Whether you have a rough stone waiting to be transformed or need expert advice on your next project, I'm here to help."}),(0,_r.jsxs)(Tt,{to:"/booking",className:"btn-primary inline-flex items-center gap-2","data-testid":"cta-booking-btn",children:["Book Consultation ",(0,_r.jsx)(ss,{className:"w-4 h-4"})]})]})]})]})},os=Kr("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),cs=Kr("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ds=Kr("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),us=Kr("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ms=Kr("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ps={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,hs=e=>{let{journey:t,onClick:a}=e;const[n,s]=(0,r.useState)(50),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),m=r.useRef(null),p=e=>{if(!m.current)return;const t=m.current.getBoundingClientRect(),a=e-t.left,n=Math.max(0,Math.min(100,a/t.width*100));s(n)},h=e=>{i&&p(e.clientX)},f=()=>{i&&(l(!1),setTimeout(()=>{u(!0)},100))};return r.useEffect(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&u(!1)};if(d)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[d]),r.useEffect(()=>{if(i)return window.addEventListener("mousemove",h),window.addEventListener("mouseup",f),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",f)}},[i]),(0,_r.jsxs)("div",{className:"group","data-testid":"journey-card-".concat(t.id),children:[(0,_r.jsxs)("div",{ref:m,className:"relative aspect-square overflow-hidden mb-4 select-none cursor-pointer",onTouchMove:e=>{p(e.touches[0].clientX)},onClick:e=>{if(!o)return d?(a(),void u(!1)):void u(!0);c(!1)},children:[(0,_r.jsx)("img",{src:t.finalImage,alt:"After",className:"absolute inset-0 w-full h-full object-cover"}),(0,_r.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{clipPath:"inset(0 ".concat(100-n,"% 0 0)")},children:(0,_r.jsx)("img",{src:t.coverImage,alt:"Before",className:"absolute inset-0 w-full h-full object-cover"})}),(0,_r.jsx)("div",{className:"absolute top-0 bottom-0 w-1 bg-black cursor-ew-resize z-10",style:{left:"".concat(n,"%"),transform:"translateX(-50%)"},onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),l(!0),c(!0)},onTouchStart:e=>{e.stopPropagation(),l(!0),c(!0)},onTouchEnd:()=>{l(!1),setTimeout(()=>{u(!0)},100)},children:(0,_r.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-black rounded-full flex items-center justify-center shadow-lg border border-white/20",children:(0,_r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,_r.jsx)(cs,{className:"w-3 h-3 text-white"}),(0,_r.jsx)(ds,{className:"w-3 h-3 text-white"})]})})}),d&&(0,_r.jsx)("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center z-20 transition-opacity duration-200",children:(0,_r.jsx)("span",{className:"text-sm uppercase tracking-widest text-white",children:"Click to see timeline"})})]}),(0,_r.jsx)("div",{className:"cursor-pointer",onClick:()=>{u(!0)},children:(0,_r.jsx)("p",{className:"text-sm text-amber-400 uppercase tracking-widest",children:t.subtitle})})]})},fs=e=>{let{image:t,title:a,onClose:n}=e;return(0,_r.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4",onClick:n,"data-testid":"image-popup",children:[(0,_r.jsx)("button",{onClick:n,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors z-10","data-testid":"image-popup-close",children:(0,_r.jsx)(Qr,{className:"w-8 h-8"})}),(0,_r.jsxs)("div",{className:"max-w-5xl max-h-[90vh] w-full",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("img",{src:t,alt:a,className:"w-full h-full max-h-[85vh] object-contain"}),(0,_r.jsx)("p",{className:"text-center text-gray-400 mt-4 text-sm",children:a})]})]})},xs=e=>{let{journey:t,onClose:a}=e;const[n,s]=(0,r.useState)(null),i=t.steps.slice(0,8);return(0,_r.jsxs)("div",{className:"fixed inset-0 z-50 bg-black overflow-y-auto","data-testid":"journey-detail",children:[(0,_r.jsx)("div",{className:"sticky top-0 z-10 bg-black/90 backdrop-blur-sm border-b border-white/10",children:(0,_r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,_r.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors","data-testid":"journey-back-btn",children:[(0,_r.jsx)(us,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm uppercase tracking-widest",children:"Back"})]}),(0,_r.jsx)("button",{onClick:a,className:"w-10 h-10 flex items-center justify-center hover:bg-white/10 transition-colors","data-testid":"journey-close-btn",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})})]})}),(0,_r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,_r.jsx)("div",{className:"flex flex-wrap items-center gap-y-3",children:i.map((e,t)=>(0,_r.jsxs)(r.Fragment,{children:[(0,_r.jsxs)("div",{className:"relative w-[20%] aspect-square overflow-hidden cursor-pointer group rounded",onClick:()=>(e=>{s(e)})(e),"data-testid":"timeline-image-".concat(t),children:[(0,_r.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),(0,_r.jsx)("div",{className:"absolute inset-0 shadow-[inset_0_0_20px_6px_rgba(0,0,0,0.4)] pointer-events-none"}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,_r.jsx)(ms,{className:"w-6 h-6 text-white"})})]}),t<i.length-1&&(0,_r.jsx)("div",{className:"flex items-center justify-center w-[6.66%]",children:(0,_r.jsx)(ss,{className:"w-5 h-5 text-amber-400"})})]},t))}),(0,_r.jsx)("div",{className:"h-8"})]}),n&&(0,_r.jsx)(fs,{image:n.image,title:n.title,onClose:()=>{s(null)}})]})},gs=()=>{const[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{const e=(await Sr.get("".concat(ps,"/api/journeys"))).data.map(e=>({id:e.id,gemName:e.gem_name,subtitle:e.subtitle,coverImage:e.before_image,finalImage:e.after_image,color:e.color,steps:e.timeline_images.map((e,t)=>({image:e,title:"Step ".concat(t+1),description:""}))}));n(e)}catch(e){console.error("Failed to fetch journeys:",e)}finally{i(!1)}})()},[]);return s?(0,_r.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-amber-400 rounded-full animate-spin"})}):(0,_r.jsxs)("div",{"data-testid":"journey-stories-section",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,_r.jsx)(rs,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"text-xl title-sm",children:"The Journey"}),(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:"From rough to radiant - see the transformation"})]})]}),(0,_r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(e=>(0,_r.jsx)(hs,{journey:e,onClick:()=>(e=>{t(e),document.body.style.overflow="hidden"})(e)},e.id))}),0===a.length&&(0,_r.jsxs)("div",{className:"text-center py-16",children:[(0,_r.jsx)(ns,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"Journey stories coming soon..."})]}),e&&(0,_r.jsx)(xs,{journey:e,onClose:()=>{t(null),document.body.style.overflow="auto"}})]})},ys={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,bs=e=>{let{design:t,onClose:a}=e;return(0,_r.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4",onClick:a,"data-testid":"design-popup",children:[(0,_r.jsx)("button",{onClick:a,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors z-10","data-testid":"design-popup-close",children:(0,_r.jsx)(Qr,{className:"w-8 h-8"})}),(0,_r.jsxs)("div",{className:"max-w-4xl w-full",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("img",{src:t.image_url,alt:t.title,className:"w-full max-h-[70vh] object-contain mb-6"}),(0,_r.jsxs)("div",{className:"text-center",children:[t.category&&(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-amber-400 mb-2",children:t.category}),(0,_r.jsx)("h3",{className:"text-2xl title-sm mb-3",children:t.title}),t.description&&(0,_r.jsx)("p",{className:"text-gray-400 max-w-xl mx-auto",children:t.description})]})]})]})},vs=e=>{let{design:t,onClick:a}=e;return(0,_r.jsxs)("div",{className:"group cursor-pointer",onClick:a,"data-testid":"design-card-".concat(t.id),children:[(0,_r.jsxs)("div",{className:"relative aspect-square overflow-hidden mb-4 rounded shadow-[inset_0_0_20px_6px_rgba(0,0,0,0.4)]",children:[(0,_r.jsx)("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),(0,_r.jsx)("div",{className:"absolute inset-0 shadow-[inset_0_0_20px_6px_rgba(0,0,0,0.4)] pointer-events-none"}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,_r.jsx)(ms,{className:"w-8 h-8 text-white"})})]}),(0,_r.jsx)("p",{className:"text-sm text-amber-400 uppercase tracking-widest",children:t.title})]})},ws=()=>{const[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{const e=await Sr.get("".concat(ys,"/api/designs"));n(e.data)}catch(e){console.error("Failed to fetch designs:",e)}finally{i(!1)}})()},[]),s?(0,_r.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-amber-400 rounded-full animate-spin"})}):(0,_r.jsxs)("div",{"data-testid":"design-gallery-section",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,_r.jsx)(os,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"text-xl title-sm",children:"Cutting Designs"}),(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:"Precision diagrams and custom patterns"})]})]}),(0,_r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(e=>(0,_r.jsx)(vs,{design:e,onClick:()=>t(e)},e.id))}),0===a.length&&(0,_r.jsxs)("div",{className:"text-center py-16",children:[(0,_r.jsx)(os,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"Cutting designs coming soon..."})]}),e&&(0,_r.jsx)(bs,{design:e,onClose:()=>t(null)})]})},js={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Ns=[{id:"gallery",name:"Galleries",icon:ns},{id:"journeys",name:"Journeys",icon:rs},{id:"designs",name:"Designs",icon:os}],ks=[{id:"all",name:"All Gemstones"},{id:"sapphire",name:"Sapphire"},{id:"tourmaline",name:"Tourmaline"},{id:"emerald",name:"Emerald"},{id:"aquamarine",name:"Aquamarine"},{id:"garnet",name:"Garnet"},{id:"other",name:"Other"}],Ss=[{id:"all",name:"All Eras"},{id:"PAST",name:"Past"},{id:"PRESENT",name:"Present"}],_s=e=>{let{items:t,entitlements:a,isAuthenticated:n,onItemClick:r}=e;const s=t.filter(e=>e.humble_beginnings);return n&&a.unlocked_nyp&&0!==s.length?(0,_r.jsxs)("div",{className:"mb-12","data-testid":"humble-beginnings-section",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,_r.jsx)(ns,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsx)("h2",{className:"text-xl title-sm text-amber-400",children:"Humble Beginnings"})]}),(0,_r.jsx)("p",{className:"text-amber-400/80 text-sm mb-6","data-testid":"humble-unlocked-msg",children:"A curated look at where it all started."}),(0,_r.jsx)("div",{className:"gallery-grid",children:s.map((e,t)=>(0,_r.jsxs)("div",{onClick:()=>r(t),className:"group relative aspect-square overflow-hidden gem-card cursor-pointer opacity-0 animate-fade-in",style:{animationDelay:"".concat(50*t,"ms")},"data-testid":"humble-item-".concat(t),children:[(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110"}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,_r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:[(0,_r.jsx)("p",{className:"spec-text text-amber-400/80 mb-1",children:"Humble Beginnings"}),(0,_r.jsx)("h3",{className:"title-sm text-base",children:e.title})]})]},e.id))})]}):null},Cs=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)("all"),[l,o]=(0,r.useState)("all"),[c,d]=(0,r.useState)("gallery"),[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(0),[f,x]=(0,r.useState)(null),{isAuthenticated:g,entitlements:y}=Ar();(0,r.useEffect)(()=>{"gallery"===c&&b()},[s,l,c]);const b=async()=>{try{n(!0);let e="".concat(js,"/gallery");const a=[];"all"!==s&&a.push("category=".concat(s)),"all"!==l&&a.push("era=".concat(l)),a.length>0&&(e+="?".concat(a.join("&")));const r=await Sr.get(e);t(r.data)}catch(e){console.error("Failed to fetch gallery:",e)}finally{n(!1)}},v=e.filter(e=>!e.humble_beginnings),w=e.filter(e=>e.humble_beginnings),j=function(t){const a=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?w:v,n=e.findIndex(e=>{var n;return e.id===(null===(n=a[t])||void 0===n?void 0:n.id)});h(n>=0?n:t),m(!0),document.body.style.overflow="hidden"},N=()=>{m(!1),document.body.style.overflow="auto"},k=t=>{h("prev"===t?t=>0===t?e.length-1:t-1:t=>t===e.length-1?0:t+1)};(0,r.useEffect)(()=>{const e=e=>{u&&("Escape"===e.key&&N(),"ArrowLeft"===e.key&&k("prev"),"ArrowRight"===e.key&&k("next"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,e.length]);const S=e[p];return(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"gallery-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Portfolio"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Portfolio"})]})}),(0,_r.jsxs)("div",{className:"md:hidden sticky top-20 z-30 bg-black/95 backdrop-blur-md border-b border-white/10 px-4 py-4",children:[(0,_r.jsx)("div",{className:"flex gap-2",children:Ns.map(e=>{const t=e.icon,a=c===e.id;return(0,_r.jsxs)("button",{onClick:()=>d(e.id),className:"flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium transition-all border ".concat(a?"bg-amber-500/20 border-amber-500 text-amber-400":"border-white/20 text-gray-400 hover:border-teal-500/50 hover:text-teal-400"),"data-testid":"mobile-view-".concat(e.id),children:[(0,_r.jsx)(t,{className:"w-4 h-4 ".concat(a?"text-amber-400":"")}),(0,_r.jsx)("span",{children:e.name})]},e.id)})}),"gallery"===c&&(0,_r.jsxs)("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2 -mx-1 px-1 scrollbar-hide",children:[Ss.filter(e=>"all"!==e.id).map(e=>(0,_r.jsx)("button",{onClick:()=>o(e.id===l?"all":e.id),className:"flex-shrink-0 px-4 py-2 text-xs font-medium border transition-all ".concat(l===e.id?"bg-teal-500/20 border-teal-500 text-teal-400":"border-white/20 text-gray-500 hover:border-teal-500/50"),children:e.name},e.id)),ks.filter(e=>"all"!==e.id).map(e=>(0,_r.jsx)("button",{onClick:()=>i(e.id===s?"all":e.id),className:"flex-shrink-0 px-4 py-2 text-xs font-medium border transition-all ".concat(s===e.id?"bg-amber-500/20 border-amber-500 text-amber-400":"border-white/20 text-gray-500 hover:border-amber-500/50"),children:e.name},e.id))]})]}),(0,_r.jsx)("section",{className:"pb-24 md:hidden",children:(0,_r.jsx)("div",{className:"px-4 pt-4",children:"journeys"===c?(0,_r.jsx)(gs,{}):"designs"===c?(0,_r.jsx)(ws,{}):(0,_r.jsx)(_r.Fragment,{children:a?(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((e,t)=>(0,_r.jsx)("div",{className:"aspect-square bg-white/5 animate-pulse"},t))}):0===e.length?(0,_r.jsx)("div",{className:"text-center py-24",children:(0,_r.jsx)("p",{className:"text-gray-500",children:"No items in gallery."})}):(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.map((e,t)=>(0,_r.jsx)("div",{onClick:()=>{return t=e.id,void x(e=>e===t?null:t);var t},className:"relative aspect-square overflow-hidden cursor-pointer opacity-0 animate-fade-in border border-white/10",style:{animationDelay:"".concat(50*t,"ms")},"data-testid":"mobile-gallery-item-".concat(t),children:f===e.id?(0,_r.jsxs)("div",{className:"absolute inset-0 bg-black/95 flex flex-col items-center justify-center p-4 text-center z-10",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-amber-400 mb-2",children:e.category}),(0,_r.jsx)("h3",{className:"title-sm text-sm mb-3",children:e.title}),(0,_r.jsxs)("div",{className:"space-y-1",children:[e.gemstone_type&&(0,_r.jsxs)("p",{className:"text-xs text-gray-400",children:["Gem Type: ",(0,_r.jsx)("span",{className:"text-teal-400",children:e.gemstone_type})]}),e.color&&(0,_r.jsxs)("p",{className:"text-xs text-gray-400",children:["Color: ",(0,_r.jsx)("span",{className:"text-teal-400",children:e.color})]}),e.carat&&(0,_r.jsxs)("p",{className:"text-xs text-gray-400",children:["Weight: ",(0,_r.jsx)("span",{className:"text-teal-400",children:e.carat})]})]}),(0,_r.jsx)("p",{className:"text-[10px] text-gray-600 mt-4",children:"Tap to close"})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"}),(0,_r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:(0,_r.jsx)("p",{className:"text-[10px] text-amber-400 uppercase tracking-wider",children:e.era})})]})},e.id))})})})}),(0,_r.jsx)("section",{className:"pb-24 hidden md:block",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[240px_1fr] gap-8",children:[(0,_r.jsxs)("aside",{className:"md:sticky md:top-28 md:h-fit","data-testid":"gallery-sidebar",children:[(0,_r.jsx)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"View"}),(0,_r.jsx)("nav",{className:"space-y-1 mb-8",children:Ns.map(e=>{const t=e.icon,a=c===e.id;return(0,_r.jsxs)("button",{onClick:()=>d(e.id),className:"category-item w-full text-left flex items-center gap-2 ".concat(a?"active":""),"data-testid":"view-".concat(e.id),children:[(0,_r.jsx)(t,{className:"w-4 h-4 ".concat(a?"text-amber-400":"")}),e.name]},e.id)})}),"gallery"===c&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Era"}),(0,_r.jsx)("nav",{className:"space-y-1 mb-8",children:Ss.map(e=>{const t=l===e.id;return(0,_r.jsx)("button",{onClick:()=>o(e.id),className:"category-item block w-full text-left ".concat(t?"active !text-amber-400":""),"data-testid":"era-".concat(e.id),children:e.name},e.id)})}),(0,_r.jsx)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Gem Type"}),(0,_r.jsx)("nav",{className:"space-y-1",children:ks.map(e=>{const t=s===e.id;return(0,_r.jsx)("button",{onClick:()=>i(e.id),className:"category-item block w-full text-left ".concat(t?"active !text-amber-400":""),"data-testid":"category-".concat(e.id),children:e.name},e.id)})})]})]}),(0,_r.jsx)("div",{"data-testid":"gallery-content",children:"journeys"===c?(0,_r.jsx)(gs,{}):"designs"===c?(0,_r.jsx)(ws,{}):(0,_r.jsx)("div",{"data-testid":"gallery-grid",children:a?(0,_r.jsx)("div",{className:"gallery-grid",children:[...Array(9)].map((e,t)=>(0,_r.jsx)("div",{className:"aspect-square bg-white/5 animate-pulse"},t))}):0===e.length?(0,_r.jsx)("div",{className:"text-center py-24",children:(0,_r.jsx)("p",{className:"text-gray-500",children:"No items found in this category."})}):(0,_r.jsxs)(_r.Fragment,{children:[w.length>0&&(0,_r.jsx)(_s,{items:e,entitlements:y,isAuthenticated:g,onItemClick:e=>j(e,!0)}),v.length>0&&(0,_r.jsxs)(_r.Fragment,{children:[w.length>0&&(0,_r.jsx)("h2",{className:"text-xl title-sm text-white mb-6",children:"Collection"}),(0,_r.jsx)("div",{className:"gallery-grid",children:v.map((e,t)=>(0,_r.jsxs)("div",{className:"opacity-0 animate-fade-in",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,_r.jsxs)("div",{onClick:()=>j(t),className:"group relative aspect-square overflow-hidden gem-card cursor-pointer mb-4","data-testid":"gallery-item-".concat(t),children:[(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),(0,_r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,_r.jsx)("p",{className:"text-sm text-amber-400 uppercase tracking-widest",children:e.title})]},e.id))})]})]})})})]})})}),u&&S&&(0,_r.jsxs)("div",{className:"fixed inset-0 z-50 lightbox-overlay hidden md:flex items-center justify-center","data-testid":"lightbox",children:[(0,_r.jsx)("button",{onClick:N,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors z-10","data-testid":"lightbox-close",children:(0,_r.jsx)(Qr,{className:"w-8 h-8"})}),(0,_r.jsx)("button",{onClick:()=>k("prev"),className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors","data-testid":"lightbox-prev",children:(0,_r.jsx)(cs,{className:"w-10 h-10"})}),(0,_r.jsx)("button",{onClick:()=>k("next"),className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors","data-testid":"lightbox-next",children:(0,_r.jsx)(ds,{className:"w-10 h-10"})}),(0,_r.jsxs)("div",{className:"max-w-5xl w-full mx-6 flex flex-col md:flex-row gap-8 items-center",children:[(0,_r.jsx)("div",{className:"flex-1 max-h-[70vh]",children:(0,_r.jsx)("img",{src:S.image_url,alt:S.title,className:"max-w-full max-h-[70vh] object-contain mx-auto"})}),(0,_r.jsxs)("div",{className:"w-full md:w-72 text-center md:text-left",children:[(0,_r.jsx)("p",{className:"spec-text text-gray-500 mb-2",children:S.category}),(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-4",children:S.title}),S.description&&(0,_r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:S.description}),(0,_r.jsxs)("div",{className:"space-y-2",children:[S.carat&&(0,_r.jsxs)("div",{className:"flex justify-between md:justify-start md:gap-4 text-sm",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Carat"}),(0,_r.jsx)("span",{className:"font-mono",children:S.carat})]}),S.dimensions&&(0,_r.jsxs)("div",{className:"flex justify-between md:justify-start md:gap-4 text-sm",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Dimensions"}),(0,_r.jsx)("span",{className:"font-mono",children:S.dimensions})]})]}),(0,_r.jsxs)("p",{className:"text-gray-600 text-xs mt-6",children:[p+1," / ",e.length]})]})]})]})]})},Es=Kr("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Ts=Kr("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ps=Kr("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),As=Kr("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rs={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Os=[{id:"all",name:"All"},{id:"sapphire",name:"Sapphire"},{id:"tourmaline",name:"Tourmaline"},{id:"emerald",name:"Emerald"},{id:"aquamarine",name:"Aquamarine"},{id:"garnet",name:"Garnet"}],Ls=e=>{let{product:t,entitlements:a,isAuthenticated:n,onNamePrice:r}=e;const{unlocked_nyp:s,total_spend:i,threshold:l,spend_to_unlock:o}=a;if(!t.name_your_price)return null;const c=Math.min(i/l*100,100);return s&&n?(0,_r.jsxs)("div",{className:"p-4 border border-amber-500/30 bg-amber-500/5 rounded-lg space-y-3","data-testid":"nyp-unlocked-section",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(ns,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsx)("span",{className:"text-amber-400 font-semibold uppercase tracking-wider text-sm",children:"Exclusive Pricing Unlocked"}),(0,_r.jsx)(Es,{className:"w-4 h-4 text-amber-400"})]}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm",children:"You've unlocked exclusive pricing. Make an offer on this gem."}),(0,_r.jsx)("button",{onClick:r,className:"w-full py-3 bg-amber-500/20 border border-amber-500/50 text-amber-400 uppercase tracking-widest text-sm hover:bg-amber-500/30 transition-colors","data-testid":"nyp-name-price-btn",children:"Name Your Price"})]}):(0,_r.jsxs)("div",{className:"p-4 border border-white/10 bg-white/5 rounded-lg space-y-3 opacity-75","data-testid":"nyp-locked-section",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Ts,{className:"w-5 h-5 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500 font-semibold uppercase tracking-wider text-sm",children:"Name Your Price"})]}),n?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Exclusive pricing unlocks after $",l.toLocaleString()," in purchases."]}),(0,_r.jsxs)("div",{className:"space-y-2",children:[(0,_r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,_r.jsx)("span",{children:"Your progress"}),(0,_r.jsxs)("span",{children:["$",i.toLocaleString()," / $",l.toLocaleString()]})]}),(0,_r.jsx)("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,_r.jsx)("div",{className:"h-full bg-gradient-to-r from-gray-600 to-gray-500 transition-all duration-500",style:{width:"".concat(c,"%")}})}),(0,_r.jsxs)("p",{className:"text-xs text-gray-600",children:["$",o.toLocaleString()," more to unlock"]})]})]}):(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Sign in to see feature availability"}),(0,_r.jsx)("button",{disabled:!0,className:"w-full py-3 bg-gray-800 text-gray-600 uppercase tracking-widest text-sm cursor-not-allowed","data-testid":"nyp-locked-btn",children:(0,_r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,_r.jsx)(Ts,{className:"w-4 h-4"}),"Locked"]})})]})},Ds=e=>{var t;let{product:a,onClose:n}=e;const[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),u=Se();return(0,_r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:n,children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 w-full max-w-md p-6 relative",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})}),(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,_r.jsx)(ns,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsx)("h3",{className:"title-sm text-xl",children:"Name Your Price"})]}),(0,_r.jsxs)("div",{className:"mb-6",children:[(0,_r.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:a.title}),(0,_r.jsxs)("p",{className:"text-gray-500 text-xs",children:["Listed Price: ",(0,_r.jsxs)("span",{className:"text-white",children:["$",null===(t=a.price)||void 0===t?void 0:t.toLocaleString()]})]})]}),(0,_r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l)try{i(!0);const e=localStorage.getItem("token");await Sr.post("".concat(Rs,"/negotiations"),{product_id:a.id,offer_amount:parseFloat(l),text:c||null},{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Offer sent! View in your account."),n(),u("/dashboard?tab=nyp")}catch(r){var t;403===(null===(t=r.response)||void 0===t?void 0:t.status)?Qt.error(r.response.data.detail||"You must spend $1,000 to unlock Name Your Price"):Qt.error("Failed to send offer")}finally{i(!1)}else Qt.error("Please enter an offer amount")},className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Your Offer *"}),(0,_r.jsx)("input",{type:"number",value:l,onChange:e=>o(e.target.value),placeholder:"Enter your price",required:!0,className:"input-dark h-10 text-sm","data-testid":"negotiation-amount"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Message (optional)"}),(0,_r.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Add a note about your offer...",className:"input-dark h-24 text-sm resize-none","data-testid":"negotiation-text"})]}),(0,_r.jsx)("button",{type:"submit",disabled:s,className:"w-full py-3 bg-amber-500/20 border border-amber-500/50 text-amber-400 uppercase tracking-widest text-sm hover:bg-amber-500/30 transition-colors","data-testid":"negotiation-submit",children:s?"Sending...":"Send Offer"})]}),(0,_r.jsx)("p",{className:"text-xs text-gray-600 text-center mt-4",children:"Your offer will start a negotiation thread. View and track in your account."})]})})},Is=e=>{let{product:t,onClose:a,isOffer:n=!1}=e;const[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)({name:"",email:"",phone:"",is_offer:n,offer_price:""}),c=e=>{const{name:t,value:a,type:n,checked:r}=e.target;o(e=>m(m({},e),{},{[t]:"checkbox"===n?r:a}))};return(0,_r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:a,children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 w-full max-w-md p-6 relative",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})}),(0,_r.jsxs)("h3",{className:"title-sm text-xl mb-4",children:["Inquire About ",t.title]}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{i(!0),await Sr.post("".concat(Rs,"/product-inquiry"),m(m({},l),{},{product_id:t.id,product_title:t.title})),Qt.success("Inquiry submitted successfully!"),a()}catch(n){Qt.error("Failed to submit inquiry")}finally{i(!1)}},className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name *"}),(0,_r.jsx)("input",{type:"text",name:"name",value:l.name,onChange:c,required:!0,className:"input-dark h-10 text-sm","data-testid":"inquiry-name"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email *"}),(0,_r.jsx)("input",{type:"email",name:"email",value:l.email,onChange:c,required:!0,className:"input-dark h-10 text-sm","data-testid":"inquiry-email"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Phone"}),(0,_r.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:c,className:"input-dark h-10 text-sm","data-testid":"inquiry-phone"})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",name:"is_offer",id:"is_offer",checked:l.is_offer,onChange:c,className:"w-4 h-4 bg-black/50 border border-white/20","data-testid":"inquiry-offer-checkbox"}),(0,_r.jsx)("label",{htmlFor:"is_offer",className:"text-sm text-gray-400",children:"This is an offer"})]}),l.is_offer&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Offer Price (USD)"}),(0,_r.jsxs)("div",{className:"relative",children:[(0,_r.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),(0,_r.jsx)("input",{type:"number",name:"offer_price",value:l.offer_price,onChange:c,className:"input-dark h-10 text-sm pl-7",placeholder:"0.00","data-testid":"inquiry-offer-price"})]})]}),(0,_r.jsx)("button",{type:"submit",disabled:s,className:"btn-primary w-full text-sm py-3",children:s?"Submitting...":"Submit Inquiry"})]})]})})},Fs=e=>{var t;let{product:a,onClose:n,isMobile:s=!1}=e;const[i,l]=(0,r.useState)(0),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),{addToCart:m}=Dr(),{isAuthenticated:p,entitlements:h}=Ar(),f=Se(),x=a.images||[a.image_url],g=a.videos||[],y=(0,_r.jsxs)("div",{className:s?"min-h-screen bg-[#050505]":"",children:[(0,_r.jsxs)("div",{className:"relative aspect-square bg-black",children:[(0,_r.jsx)("img",{src:x[i],alt:a.title,className:"w-full h-full object-contain"}),x.length>1&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("button",{onClick:()=>l(e=>(e-1+x.length)%x.length),className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 flex items-center justify-center text-white",children:(0,_r.jsx)(cs,{className:"w-5 h-5"})}),(0,_r.jsx)("button",{onClick:()=>l(e=>(e+1)%x.length),className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 flex items-center justify-center text-white",children:(0,_r.jsx)(ds,{className:"w-5 h-5"})})]}),x.length>1&&(0,_r.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:x.map((e,t)=>(0,_r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===i?"bg-white":"bg-white/30")},t))})]}),(x.length>1||g.length>0)&&(0,_r.jsxs)("div",{className:"flex gap-2 p-4 overflow-x-auto",children:[x.map((e,t)=>(0,_r.jsx)("button",{onClick:()=>l(t),className:"w-16 h-16 flex-shrink-0 border ".concat(t===i?"border-white":"border-white/10"),children:(0,_r.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover"})},t)),g.map((e,t)=>(0,_r.jsx)("div",{className:"w-16 h-16 flex-shrink-0 border border-white/10 bg-black flex items-center justify-center",children:(0,_r.jsx)(Ps,{className:"w-6 h-6 text-white/50"})},"v-".concat(t)))]}),(0,_r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl",children:a.title}),a.is_sold&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-3 py-1 font-bold tracking-widest border border-red-500/30","data-testid":"product-sold-badge",children:"SOLD"})]}),(0,_r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,_r.jsxs)("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500 uppercase tracking-widest text-xs",children:"Gemstone Type"}),(0,_r.jsx)("span",{className:"capitalize",children:a.gemstone_type||a.category})]}),(0,_r.jsxs)("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500 uppercase tracking-widest text-xs",children:"Color"}),(0,_r.jsx)("span",{children:a.color||"Natural"})]}),(0,_r.jsxs)("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500 uppercase tracking-widest text-xs",children:"Carat Weight"}),(0,_r.jsx)("span",{className:"font-mono",children:a.carat||"N/A"})]}),(0,_r.jsxs)("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500 uppercase tracking-widest text-xs",children:"Measurements"}),(0,_r.jsx)("span",{className:"font-mono",children:a.dimensions||"N/A"})]}),(0,_r.jsxs)("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500 uppercase tracking-widest text-xs",children:"Price Per Carat"}),(0,_r.jsx)("span",{className:"font-mono",children:a.price_per_carat?"$".concat(a.price_per_carat):"N/A"})]}),(0,_r.jsxs)("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500 uppercase tracking-widest text-xs",children:"Out The Door Price"}),(0,_r.jsxs)("span",{className:"font-mono text-lg",children:["$",null===(t=a.price)||void 0===t?void 0:t.toLocaleString()]})]})]}),a.is_sold?(0,_r.jsx)("div",{className:"pt-4",children:(0,_r.jsx)("div",{className:"w-full py-3 bg-red-500/10 border border-red-500/30 text-red-400 text-center uppercase tracking-widest text-sm","data-testid":"sold-notice",children:"This item has been sold"})}):(0,_r.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,_r.jsx)("button",{disabled:!0,className:"w-full py-3 bg-gray-800 text-gray-500 uppercase tracking-widest text-sm cursor-not-allowed opacity-50","data-testid":"get-last-refusal-btn",children:"Get Last Refusal"}),(0,_r.jsx)("button",{onClick:async()=>{if(!p)return Qt.error("Please sign in to purchase"),void f("/dashboard?tab=auth&redirect=shop");try{await m(a),Qt.success("Added to cart!")}catch(e){Qt.error("Failed to add to cart")}},className:"btn-primary w-full","data-testid":"product-buy-btn",children:"Buy Now"}),p?(0,_r.jsx)("button",{onClick:()=>c(!0),className:"btn-secondary w-full","data-testid":"product-inquiry-btn",children:"Inquiry"}):(0,_r.jsx)("button",{disabled:!0,className:"w-full py-3 bg-gray-800 text-gray-500 uppercase tracking-widest text-sm cursor-not-allowed opacity-50","data-testid":"product-inquiry-btn-disabled",children:"Sign In to Inquire"})]}),!a.is_sold&&(0,_r.jsx)(Ls,{product:a,entitlements:h,isAuthenticated:p,onNamePrice:()=>{u(!0)}})]}),o&&(0,_r.jsx)(Is,{product:a,onClose:()=>c(!1)}),d&&(0,_r.jsx)(Ds,{product:a,onClose:()=>u(!1)})]});return s?y:(0,_r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:n,children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("button",{onClick:n,className:"absolute top-4 right-4 z-10 text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-6 h-6"})}),y]})})},Ms=()=>{const{productId:e}=_e(),t=Se(),[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{const t=await Sr.get("".concat(Rs,"/products/").concat(e));n(t.data)}catch(a){Qt.error("Product not found"),t("/shop")}finally{i(!1)}})()},[e,t]),s?(0,_r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):a?(0,_r.jsxs)("div",{children:[(0,_r.jsx)("div",{className:"p-4",children:(0,_r.jsxs)("button",{onClick:()=>t("/shop"),className:"text-gray-500 hover:text-white text-sm flex items-center gap-2",children:[(0,_r.jsx)(cs,{className:"w-4 h-4"})," Back to Shop"]})}),(0,_r.jsx)(Fs,{product:a,isMobile:!0})]}):null},zs=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)("all"),[l,o]=(0,r.useState)(null),c=Se();(0,r.useEffect)(()=>{d()},[s]);const d=async()=>{try{n(!0);const e="all"===s?"".concat(Rs,"/products"):"".concat(Rs,"/products?category=").concat(s),a=await Sr.get(e);t(a.data)}catch(e){console.error("Failed to fetch products:",e)}finally{n(!1)}};return(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"shop-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Available"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Shop"})]}),(0,_r.jsxs)(Tt,{to:"/faq",className:"flex items-center gap-2 text-sm text-gray-500 hover:text-white transition-colors","data-testid":"shop-faq-link",children:[(0,_r.jsx)(As,{className:"w-4 h-4"}),"FAQ"]})]})})}),(0,_r.jsx)("section",{className:"pb-4 md:hidden sticky top-20 z-30 bg-black/95 backdrop-blur-md border-b border-white/10",children:(0,_r.jsx)("div",{className:"px-4 py-4",children:(0,_r.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:Os.map(e=>(0,_r.jsx)("button",{onClick:()=>i(e.id),className:"flex-shrink-0 px-4 py-2 text-xs font-medium border transition-all ".concat(s===e.id?"bg-amber-500/20 border-amber-500 text-amber-400":"border-white/20 text-gray-500 hover:border-amber-500/50"),"data-testid":"mobile-shop-category-".concat(e.id),children:e.name},e.id))})})}),(0,_r.jsx)("section",{className:"pb-8 hidden md:block",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsx)("div",{className:"flex flex-wrap gap-4","data-testid":"shop-categories",children:Os.map(e=>(0,_r.jsx)("button",{onClick:()=>i(e.id),className:"px-4 py-2 text-sm uppercase tracking-widest transition-all duration-300 ".concat(s===e.id?"bg-white text-black":"text-gray-500 hover:text-white border border-white/10 hover:border-white/30"),"data-testid":"shop-category-".concat(e.id),children:e.name},e.id))})})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsx)("div",{className:"container-custom",children:a?(0,_r.jsx)("div",{className:"space-y-6",children:[...Array(4)].map((e,t)=>(0,_r.jsxs)("div",{className:"flex gap-6 p-4 bg-white/5 animate-pulse",children:[(0,_r.jsx)("div",{className:"w-32 h-32 bg-white/10"}),(0,_r.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,_r.jsx)("div",{className:"h-4 bg-white/10 w-1/2"}),(0,_r.jsx)("div",{className:"h-3 bg-white/10 w-1/4"}),(0,_r.jsx)("div",{className:"h-3 bg-white/10 w-1/3"})]})]},t))}):0===e.length?(0,_r.jsxs)("div",{className:"text-center py-24",children:[(0,_r.jsx)($r,{className:"w-12 h-12 mx-auto text-gray-600 mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"No products available."})]}):(0,_r.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>{return(0,_r.jsxs)("div",{onClick:()=>(e=>{window.innerWidth<768?c("/shop/".concat(e.id)):o(e)})(e),className:"gem-card flex gap-4 md:gap-6 p-5 md:p-6 cursor-pointer hover:border-white/30 transition-all opacity-0 animate-fade-in",style:{animationDelay:"".concat(50*t,"ms")},"data-testid":"product-".concat(t),children:[(0,_r.jsx)("div",{className:"w-28 h-28 md:w-40 md:h-40 flex-shrink-0 overflow-hidden",children:(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:e.category}),(0,_r.jsx)("h3",{className:"title-sm text-xl md:text-2xl mb-2 truncate",children:e.title}),(0,_r.jsx)("p",{className:"text-gray-500 text-base mb-3 line-clamp-2 hidden md:block",children:e.description}),(0,_r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,_r.jsx)("span",{className:"font-mono text-xl",children:(a=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a))}),e.carat&&(0,_r.jsx)("span",{className:"text-xs text-gray-500 font-mono",children:e.carat})]})]}),(0,_r.jsx)("div",{className:"flex items-center text-gray-500",children:(0,_r.jsx)(ds,{className:"w-5 h-5"})})]},e.id);var a})})})}),l&&(0,_r.jsx)(Fs,{product:l,onClose:()=>o(null)})]})},Us=Kr("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Bs={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",qs=()=>{const{cart:e,removeFromCart:t,clearCart:a}=Dr(),{isAuthenticated:n}=Ar(),s=Se(),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),m=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return 0!==e.items.length||d?(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"cart-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)(Tt,{to:"/shop",className:"inline-flex items-center gap-2 text-gray-500 hover:text-white transition-colors mb-8",children:[(0,_r.jsx)(us,{className:"w-4 h-4"})," Continue Shopping"]}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Your Cart"})]})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,_r.jsx)("div",{className:"lg:col-span-2 space-y-6","data-testid":"cart-items",children:e.items.map((e,a)=>(0,_r.jsxs)("div",{className:"flex gap-6 p-4 gem-card","data-testid":"cart-item-".concat(a),children:[(0,_r.jsx)("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden",children:(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsx)("h3",{className:"title-sm text-lg",children:e.title}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Qty: ",e.quantity]}),(0,_r.jsx)("p",{className:"price-tag mt-2",children:m(e.price*e.quantity)})]}),(0,_r.jsx)("button",{onClick:()=>(async e=>{try{await t(e),Qt.success("Item removed from cart")}catch(a){Qt.error("Failed to remove item")}})(e.product_id),className:"text-gray-500 hover:text-red-500 transition-colors","data-testid":"remove-item-".concat(a),children:(0,_r.jsx)(Us,{className:"w-5 h-5"})})]},e.product_id))}),(0,_r.jsx)("div",{className:"lg:col-span-1",children:(0,_r.jsxs)("div",{className:"gem-card p-6 sticky top-28","data-testid":"cart-summary",children:[(0,_r.jsx)("h2",{className:"title-sm text-xl mb-6",children:"Order Summary"}),(0,_r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,_r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Subtotal"}),(0,_r.jsx)("span",{children:m(e.total)})]}),(0,_r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Shipping"}),(0,_r.jsx)("span",{children:"Free"})]}),(0,_r.jsxs)("div",{className:"border-t border-white/10 pt-4 flex justify-between",children:[(0,_r.jsx)("span",{className:"font-semibold",children:"Total"}),(0,_r.jsx)("span",{className:"font-mono text-lg",children:m(e.total)})]})]}),(0,_r.jsxs)("div",{className:"mb-6",children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Shipping Address"}),(0,_r.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"Enter your shipping address...",className:"textarea-dark",rows:3,"data-testid":"shipping-address-input"})]}),(0,_r.jsx)("button",{onClick:async()=>{if(n)if(o.trim())try{l(!0),await Sr.post("".concat(Bs,"/orders"),{items:e.items.map(e=>({product_id:e.product_id,quantity:e.quantity})),shipping_address:o,payment_method:"stripe"}),a(),u(!0)}catch(t){Qt.error("Failed to place order")}finally{l(!1)}else Qt.error("Please enter a shipping address");else Qt.error("Please login to checkout")},disabled:i,className:"btn-primary w-full disabled:opacity-50","data-testid":"checkout-btn",children:i?"Processing...":"Checkout"}),!n&&(0,_r.jsx)("p",{className:"text-center text-gray-500 text-xs mt-4",children:"Please login to complete checkout"})]})})]})})}),d&&(0,_r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80","data-testid":"order-confirm-popup",children:(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md text-center mx-4",children:[(0,_r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-green-500/10 flex items-center justify-center",children:(0,_r.jsx)($r,{className:"w-8 h-8 text-green-400"})}),(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-4",children:"Thank you!"}),(0,_r.jsx)("p",{className:"text-gray-400 mb-6",children:"Please finish purchase in account page! Items are still available until you purchase from your account page!"}),(0,_r.jsx)("button",{onClick:()=>s("/dashboard?tab=orders"),className:"btn-primary w-full","data-testid":"go-to-account-btn",children:"Go to My Account"})]})})]}):(0,_r.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"empty-cart",children:(0,_r.jsxs)("div",{className:"text-center",children:[(0,_r.jsx)($r,{className:"w-16 h-16 mx-auto text-gray-600 mb-6"}),(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-4",children:"Your Cart is Empty"}),(0,_r.jsx)("p",{className:"text-gray-500 mb-8",children:"Discover our collection of precision-cut gemstones."}),(0,_r.jsx)(Tt,{to:"/shop",className:"btn-primary","data-testid":"shop-now-btn",children:"Shop Now"})]})})},Hs=Kr("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ws=Kr("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Vs=Kr("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);function Ks(e,t){let[a,n]=t;return Math.min(n,Math.max(a,e))}"undefined"===typeof window||!window.document||window.document.createElement;function $s(e,t){let{checkForDefaultPrevented:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null===e||void 0===e||e(n),!1===a||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}function Ys(e,t,a){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,a)}function Gs(e,t,a){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:a;throw new TypeError("Private element is not present on this object")}function Qs(e,t){return e.get(Gs(e,t))}function Xs(e,t,a){return e.set(Gs(e,t),a),a}const Js=["scope","children"];function Zs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];const n=()=>{const t=a.map(e=>r.createContext(e));return function(a){const n=(null===a||void 0===a?void 0:a[e])||t;return r.useMemo(()=>({["__scope".concat(e)]:m(m({},a),{},{[e]:n})}),[a,n])}};return n.scopeName=e,[function(t,n){const s=r.createContext(n),i=a.length;a=[...a,n];const o=t=>{var a;const{scope:n,children:o}=t,c=l(t,Js),d=(null===n||void 0===n||null===(a=n[e])||void 0===a?void 0:a[i])||s,u=r.useMemo(()=>c,Object.values(c));return(0,_r.jsx)(d.Provider,{value:u,children:o})};return o.displayName=t+"Provider",[o,function(a,l){var o;const c=(null===l||void 0===l||null===(o=l[e])||void 0===o?void 0:o[i])||s,d=r.useContext(c);if(d)return d;if(void 0!==n)return n;throw new Error("`".concat(a,"` must be used within `").concat(t,"`"))}]},ei(n,...t)]}function ei(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const n=t[0];if(1===t.length)return n;const s=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const a=e.reduce((e,a)=>{let{useScope:n,scopeName:r}=a;const s=n(t)["__scope".concat(r)];return m(m({},e),s)},{});return r.useMemo(()=>({["__scope".concat(n.scopeName)]:a}),[a])}};return s.scopeName=n.scopeName,s}function ti(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function ai(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1;const n=t.map(t=>{const n=ti(t,e);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let e=0;e<n.length;e++){const a=n[e];"function"==typeof a?a():ti(t[e],null)}}}}function ni(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r.useCallback(ai(...t),t)}const ri=["children"],si=["children"];function ii(e){const t=li(e),a=r.forwardRef((e,a)=>{const{children:n}=e,s=l(e,ri),i=r.Children.toArray(n),o=i.find(di);if(o){const e=o.props.children,n=i.map(t=>t===o?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,_r.jsx)(t,m(m({},s),{},{ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null}))}return(0,_r.jsx)(t,m(m({},s),{},{ref:a,children:n}))});return a.displayName="".concat(e,".Slot"),a}function li(e){const t=r.forwardRef((e,t)=>{const{children:a}=e,n=l(e,si);if(r.isValidElement(a)){const e=function(e){var t,a;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(a),s=function(e,t){const a=m({},t);for(const n in t){const r=e[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?a[n]=function(){const e=s(...arguments);return r(...arguments),e}:r&&(a[n]=r):"style"===n?a[n]=m(m({},r),s):"className"===n&&(a[n]=[r,s].filter(Boolean).join(" "))}return m(m({},e),a)}(n,a.props);return a.type!==r.Fragment&&(s.ref=t?ai(t,e):e),r.cloneElement(a,s)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var oi=Symbol("radix.slottable");var ci;function di(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===oi}const ui=["scope","children"];var mi=new WeakMap;ci=new WeakMap,Map;function pi(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const a=function(e,t){const a=e.length,n=hi(t),r=n>=0?n:a+n;return r<0||r>=a?-1:r}(e,t);return-1===a?void 0:e[a]}function hi(e){return e!==e||0===e?0:Math.trunc(e)}var fi=r.createContext(void 0);const xi=["children"],gi=["children"];function yi(e){const t=bi(e),a=r.forwardRef((e,a)=>{const{children:n}=e,s=l(e,xi),i=r.Children.toArray(n),o=i.find(wi);if(o){const e=o.props.children,n=i.map(t=>t===o?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,_r.jsx)(t,m(m({},s),{},{ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null}))}return(0,_r.jsx)(t,m(m({},s),{},{ref:a,children:n}))});return a.displayName="".concat(e,".Slot"),a}function bi(e){const t=r.forwardRef((e,t)=>{const{children:a}=e,n=l(e,gi);if(r.isValidElement(a)){const e=function(e){var t,a;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(a),s=function(e,t){const a=m({},t);for(const n in t){const r=e[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?a[n]=function(){const e=s(...arguments);return r(...arguments),e}:r&&(a[n]=r):"style"===n?a[n]=m(m({},r),s):"className"===n&&(a[n]=[r,s].filter(Boolean).join(" "))}return m(m({},e),a)}(n,a.props);return a.type!==r.Fragment&&(s.ref=t?ai(t,e):e),r.cloneElement(a,s)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var vi=Symbol("radix.slottable");function wi(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===vi}const ji=["asChild"];var Ni=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=yi("Primitive.".concat(t)),n=r.forwardRef((e,n)=>{const{asChild:r}=e,s=l(e,ji),i=r?a:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,_r.jsx)(i,m(m({},s),{},{ref:n}))});return n.displayName="Primitive.".concat(t),m(m({},e),{},{[t]:n})},{});function ki(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>function(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)},[])}const Si=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var _i,Ci="dismissableLayer.update",Ei="dismissableLayer.pointerDownOutside",Ti="dismissableLayer.focusOutside",Pi=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ai=r.forwardRef((e,t)=>{var a;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d}=e,u=l(e,Si),p=r.useContext(Pi),[h,f]=r.useState(null),x=null!==(a=null===h||void 0===h?void 0:h.ownerDocument)&&void 0!==a?a:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=r.useState({}),y=ni(t,e=>f(e)),b=Array.from(p.layers),[v]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(v),j=h?b.indexOf(h):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,k=j>=w,S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const a=ki(e),n=r.useRef(!1),s=r.useRef(()=>{});return r.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){Li(Ei,a,r,{discrete:!0})};const r={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);n.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,a]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,a=[...p.branches].some(e=>e.contains(t));k&&!a&&(null===i||void 0===i||i(e),null===c||void 0===c||c(e),e.defaultPrevented||null===d||void 0===d||d())},x),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const a=ki(e),n=r.useRef(!1);return r.useEffect(()=>{const e=e=>{if(e.target&&!n.current){Li(Ti,a,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...p.branches].some(e=>e.contains(t))||(null===o||void 0===o||o(e),null===c||void 0===c||c(e),e.defaultPrevented||null===d||void 0===d||d())},x);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const a=ki(e);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&a(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[a,t])}(e=>{j===p.layers.size-1&&(null===s||void 0===s||s(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},x),r.useEffect(()=>{if(h)return n&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(_i=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(h)),p.layers.add(h),Oi(),()=>{n&&1===p.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=_i)}},[h,x,n,p]),r.useEffect(()=>()=>{h&&(p.layers.delete(h),p.layersWithOutsidePointerEventsDisabled.delete(h),Oi())},[h,p]),r.useEffect(()=>{const e=()=>g({});return document.addEventListener(Ci,e),()=>document.removeEventListener(Ci,e)},[]),(0,_r.jsx)(Ni.div,m(m({},u),{},{ref:y,style:m({pointerEvents:N?k?"auto":"none":void 0},e.style),onFocusCapture:$s(e.onFocusCapture,_.onFocusCapture),onBlurCapture:$s(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:$s(e.onPointerDownCapture,S.onPointerDownCapture)}))});Ai.displayName="DismissableLayer";var Ri=r.forwardRef((e,t)=>{const a=r.useContext(Pi),n=r.useRef(null),s=ni(t,n);return r.useEffect(()=>{const e=n.current;if(e)return a.branches.add(e),()=>{a.branches.delete(e)}},[a.branches]),(0,_r.jsx)(Ni.div,m(m({},e),{},{ref:s}))});function Oi(){const e=new CustomEvent(Ci);document.dispatchEvent(e)}function Li(e,t,a,n){let{discrete:r}=n;const s=a.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&s.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Ft.flushSync(()=>e.dispatchEvent(t))}(s,i):s.dispatchEvent(i)}Ri.displayName="DismissableLayerBranch";var Di=0;function Ii(){r.useEffect(()=>{var e,t;const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=a[0])&&void 0!==e?e:Fi()),document.body.insertAdjacentElement("beforeend",null!==(t=a[1])&&void 0!==t?t:Fi()),Di++,()=>{1===Di&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Di--}},[])}function Fi(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const Mi=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var zi="focusScope.autoFocusOnMount",Ui="focusScope.autoFocusOnUnmount",Bi={bubbles:!1,cancelable:!0},qi=r.forwardRef((e,t)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i}=e,o=l(e,Mi),[c,d]=r.useState(null),u=ki(s),p=ki(i),h=r.useRef(null),f=ni(t,e=>d(e)),x=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(n){let e=function(e){if(x.paused||!c)return;const t=e.target;c.contains(t)?h.current=t:Ki(h.current,{select:!0})},t=function(e){if(x.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||Ki(h.current,{select:!0}))},a=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Ki(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(a);return c&&n.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[n,c,x.paused]),r.useEffect(()=>{if(c){$i.add(x);const t=document.activeElement;if(!c.contains(t)){const a=new CustomEvent(zi,Bi);c.addEventListener(zi,u),c.dispatchEvent(a),a.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=document.activeElement;for(const n of e)if(Ki(n,{select:t}),document.activeElement!==a)return}((e=Hi(c),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Ki(c))}return()=>{c.removeEventListener(zi,u),setTimeout(()=>{const e=new CustomEvent(Ui,Bi);c.addEventListener(Ui,p),c.dispatchEvent(e),e.defaultPrevented||Ki(null!==t&&void 0!==t?t:document.body,{select:!0}),c.removeEventListener(Ui,p),$i.remove(x)},0)}}var e},[c,u,p,x]);const g=r.useCallback(e=>{if(!a&&!n)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[n,s]=function(e){const t=Hi(e),a=Wi(t,e),n=Wi(t.reverse(),e);return[a,n]}(t);n&&s?e.shiftKey||r!==s?e.shiftKey&&r===n&&(e.preventDefault(),a&&Ki(s,{select:!0})):(e.preventDefault(),a&&Ki(n,{select:!0})):r===t&&e.preventDefault()}},[a,n,x.paused]);return(0,_r.jsx)(Ni.div,m(m({tabIndex:-1},o),{},{ref:f,onKeyDown:g}))});function Hi(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function Wi(e,t){for(const a of e)if(!Vi(a,{upTo:t}))return a}function Vi(e,t){let{upTo:a}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==a&&e===a)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ki(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}qi.displayName="FocusScope";var $i=function(){let e=[];return{add(t){const a=e[0];t!==a&&(null===a||void 0===a||a.pause()),e=Yi(e,t),e.unshift(t)},remove(t){var a;e=Yi(e,t),null===(a=e[0])||void 0===a||a.resume()}}}();function Yi(e,t){const a=[...e],n=a.indexOf(t);return-1!==n&&a.splice(n,1),a}var Gi=null!==globalThis&&void 0!==globalThis&&globalThis.document?r.useLayoutEffect:()=>{},Qi=s[" useId ".trim().toString()]||(()=>{}),Xi=0;function Ji(e){const[t,a]=r.useState(Qi());return Gi(()=>{e||a(e=>null!==e&&void 0!==e?e:String(Xi++))},[e]),e||(t?"radix-".concat(t):"")}const Zi=["top","right","bottom","left"],el=Math.min,tl=Math.max,al=Math.round,nl=Math.floor,rl=e=>({x:e,y:e}),sl={left:"right",right:"left",bottom:"top",top:"bottom"},il={start:"end",end:"start"};function ll(e,t,a){return tl(e,el(t,a))}function ol(e,t){return"function"===typeof e?e(t):e}function cl(e){return e.split("-")[0]}function dl(e){return e.split("-")[1]}function ul(e){return"x"===e?"y":"x"}function ml(e){return"y"===e?"height":"width"}const pl=new Set(["top","bottom"]);function hl(e){return pl.has(cl(e))?"y":"x"}function fl(e){return ul(hl(e))}function xl(e){return e.replace(/start|end/g,e=>il[e])}const gl=["left","right"],yl=["right","left"],bl=["top","bottom"],vl=["bottom","top"];function wl(e,t,a,n){const r=dl(e);let s=function(e,t,a){switch(e){case"top":case"bottom":return a?t?yl:gl:t?gl:yl;case"left":case"right":return t?bl:vl;default:return[]}}(cl(e),"start"===a,n);return r&&(s=s.map(e=>e+"-"+r),t&&(s=s.concat(s.map(xl)))),s}function jl(e){return e.replace(/left|right|bottom|top/g,e=>sl[e])}function Nl(e){return"number"!==typeof e?function(e){return m({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function kl(e){const{x:t,y:a,width:n,height:r}=e;return{width:n,height:r,top:a,left:t,right:t+n,bottom:a+r,x:t,y:a}}const Sl=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],_l=["strategy"],Cl=["mainAxis","crossAxis","limiter"],El=["apply"];function Tl(e,t,a){let{reference:n,floating:r}=e;const s=hl(t),i=fl(t),l=ml(i),o=cl(t),c="y"===s,d=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2,m=n[l]/2-r[l]/2;let p;switch(o){case"top":p={x:d,y:n.y-r.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-r.width,y:u};break;default:p={x:n.x,y:n.y}}switch(dl(t)){case"start":p[i]-=m*(a&&c?-1:1);break;case"end":p[i]+=m*(a&&c?-1:1)}return p}async function Pl(e,t){var a;void 0===t&&(t={});const{x:n,y:r,platform:s,rects:i,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=ol(t,e),h=Nl(p),f=l[m?"floating"===u?"reference":"floating":u],x=kl(await s.getClippingRect({element:null==(a=await(null==s.isElement?void 0:s.isElement(f)))||a?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),g="floating"===u?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),b=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},v=kl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:o}):g);return{top:(x.top-v.top+h.top)/b.y,bottom:(v.bottom-x.bottom+h.bottom)/b.y,left:(x.left-v.left+h.left)/b.x,right:(v.right-x.right+h.right)/b.x}}function Al(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rl(e){return Zi.some(t=>e[t]>=0)}const Ol=new Set(["left","top"]);function Ll(){return"undefined"!==typeof window}function Dl(e){return Ml(e)?(e.nodeName||"").toLowerCase():"#document"}function Il(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Fl(e){var t;return null==(t=(Ml(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ml(e){return!!Ll()&&(e instanceof Node||e instanceof Il(e).Node)}function zl(e){return!!Ll()&&(e instanceof Element||e instanceof Il(e).Element)}function Ul(e){return!!Ll()&&(e instanceof HTMLElement||e instanceof Il(e).HTMLElement)}function Bl(e){return!(!Ll()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Il(e).ShadowRoot)}const ql=new Set(["inline","contents"]);function Hl(e){const{overflow:t,overflowX:a,overflowY:n,display:r}=to(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+a)&&!ql.has(r)}const Wl=new Set(["table","td","th"]);function Vl(e){return Wl.has(Dl(e))}const Kl=[":popover-open",":modal"];function $l(e){return Kl.some(t=>{try{return e.matches(t)}catch(a){return!1}})}const Yl=["transform","translate","scale","rotate","perspective"],Gl=["transform","translate","scale","rotate","perspective","filter"],Ql=["paint","layout","strict","content"];function Xl(e){const t=Jl(),a=zl(e)?to(e):e;return Yl.some(e=>!!a[e]&&"none"!==a[e])||!!a.containerType&&"normal"!==a.containerType||!t&&!!a.backdropFilter&&"none"!==a.backdropFilter||!t&&!!a.filter&&"none"!==a.filter||Gl.some(e=>(a.willChange||"").includes(e))||Ql.some(e=>(a.contain||"").includes(e))}function Jl(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Zl=new Set(["html","body","#document"]);function eo(e){return Zl.has(Dl(e))}function to(e){return Il(e).getComputedStyle(e)}function ao(e){return zl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function no(e){if("html"===Dl(e))return e;const t=e.assignedSlot||e.parentNode||Bl(e)&&e.host||Fl(e);return Bl(t)?t.host:t}function ro(e){const t=no(e);return eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ul(t)&&Hl(t)?t:ro(t)}function so(e,t,a){var n;void 0===t&&(t=[]),void 0===a&&(a=!0);const r=ro(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Il(r);if(s){const e=io(i);return t.concat(i,i.visualViewport||[],Hl(r)?r:[],e&&a?so(e):[])}return t.concat(r,so(r,[],a))}function io(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lo(e){const t=to(e);let a=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Ul(e),s=r?e.offsetWidth:a,i=r?e.offsetHeight:n,l=al(a)!==s||al(n)!==i;return l&&(a=s,n=i),{width:a,height:n,$:l}}function oo(e){return zl(e)?e:e.contextElement}function co(e){const t=oo(e);if(!Ul(t))return rl(1);const a=t.getBoundingClientRect(),{width:n,height:r,$:s}=lo(t);let i=(s?al(a.width):a.width)/n,l=(s?al(a.height):a.height)/r;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}const uo=rl(0);function mo(e){const t=Il(e);return Jl()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:uo}function po(e,t,a,n){void 0===t&&(t=!1),void 0===a&&(a=!1);const r=e.getBoundingClientRect(),s=oo(e);let i=rl(1);t&&(n?zl(n)&&(i=co(n)):i=co(e));const l=function(e,t,a){return void 0===t&&(t=!1),!(!a||t&&a!==Il(e))&&t}(s,a,n)?mo(s):rl(0);let o=(r.left+l.x)/i.x,c=(r.top+l.y)/i.y,d=r.width/i.x,u=r.height/i.y;if(s){const e=Il(s),t=n&&zl(n)?Il(n):n;let a=e,r=io(a);for(;r&&n&&t!==a;){const e=co(r),t=r.getBoundingClientRect(),n=to(r),s=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;o*=e.x,c*=e.y,d*=e.x,u*=e.y,o+=s,c+=i,a=Il(r),r=io(a)}}return kl({width:d,height:u,x:o,y:c})}function ho(e,t){const a=ao(e).scrollLeft;return t?t.left+a:po(Fl(e)).left+a}function fo(e,t){const a=e.getBoundingClientRect();return{x:a.left+t.scrollLeft-ho(e,a),y:a.top+t.scrollTop}}const xo=new Set(["absolute","fixed"]);function go(e,t,a){let n;if("viewport"===t)n=function(e,t){const a=Il(e),n=Fl(e),r=a.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,o=0;if(r){s=r.width,i=r.height;const e=Jl();(!e||e&&"fixed"===t)&&(l=r.offsetLeft,o=r.offsetTop)}const c=ho(n);if(c<=0){const e=n.ownerDocument,t=e.body,a=getComputedStyle(t),r="CSS1Compat"===e.compatMode&&parseFloat(a.marginLeft)+parseFloat(a.marginRight)||0,i=Math.abs(n.clientWidth-t.clientWidth-r);i<=25&&(s-=i)}else c<=25&&(s+=c);return{width:s,height:i,x:l,y:o}}(e,a);else if("document"===t)n=function(e){const t=Fl(e),a=ao(e),n=e.ownerDocument.body,r=tl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=tl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-a.scrollLeft+ho(e);const l=-a.scrollTop;return"rtl"===to(n).direction&&(i+=tl(t.clientWidth,n.clientWidth)-r),{width:r,height:s,x:i,y:l}}(Fl(e));else if(zl(t))n=function(e,t){const a=po(e,!0,"fixed"===t),n=a.top+e.clientTop,r=a.left+e.clientLeft,s=Ul(e)?co(e):rl(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:r*s.x,y:n*s.y}}(t,a);else{const a=mo(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return kl(n)}function yo(e,t){const a=no(e);return!(a===t||!zl(a)||eo(a))&&("fixed"===to(a).position||yo(a,t))}function bo(e,t,a){const n=Ul(t),r=Fl(t),s="fixed"===a,i=po(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const o=rl(0);function c(){o.x=ho(r)}if(n||!n&&!s)if(("body"!==Dl(t)||Hl(r))&&(l=ao(t)),n){const e=po(t,!0,s,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else r&&c();s&&!n&&r&&c();const d=!r||n||s?rl(0):fo(r,l);return{x:i.left+l.scrollLeft-o.x-d.x,y:i.top+l.scrollTop-o.y-d.y,width:i.width,height:i.height}}function vo(e){return"static"===to(e).position}function wo(e,t){if(!Ul(e)||"fixed"===to(e).position)return null;if(t)return t(e);let a=e.offsetParent;return Fl(e)===a&&(a=a.ownerDocument.body),a}function jo(e,t){const a=Il(e);if($l(e))return a;if(!Ul(e)){let t=no(e);for(;t&&!eo(t);){if(zl(t)&&!vo(t))return t;t=no(t)}return a}let n=wo(e,t);for(;n&&Vl(n)&&vo(n);)n=wo(n,t);return n&&eo(n)&&vo(n)&&!Xl(n)?a:n||function(e){let t=no(e);for(;Ul(t)&&!eo(t);){if(Xl(t))return t;if($l(t))return null;t=no(t)}return null}(e)||a}const No={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:a,offsetParent:n,strategy:r}=e;const s="fixed"===r,i=Fl(n),l=!!t&&$l(t.floating);if(n===i||l&&s)return a;let o={scrollLeft:0,scrollTop:0},c=rl(1);const d=rl(0),u=Ul(n);if((u||!u&&!s)&&(("body"!==Dl(n)||Hl(i))&&(o=ao(n)),Ul(n))){const e=po(n);c=co(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const m=!i||u||s?rl(0):fo(i,o);return{width:a.width*c.x,height:a.height*c.y,x:a.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:a.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:Fl,getClippingRect:function(e){let{element:t,boundary:a,rootBoundary:n,strategy:r}=e;const s="clippingAncestors"===a?$l(t)?[]:function(e,t){const a=t.get(e);if(a)return a;let n=so(e,[],!1).filter(e=>zl(e)&&"body"!==Dl(e)),r=null;const s="fixed"===to(e).position;let i=s?no(e):e;for(;zl(i)&&!eo(i);){const t=to(i),a=Xl(i);a||"fixed"!==t.position||(r=null),(s?!a&&!r:!a&&"static"===t.position&&r&&xo.has(r.position)||Hl(i)&&!a&&yo(e,i))?n=n.filter(e=>e!==i):r=t,i=no(i)}return t.set(e,n),n}(t,this._c):[].concat(a),i=[...s,n],l=i[0],o=i.reduce((e,a)=>{const n=go(t,a,r);return e.top=tl(n.top,e.top),e.right=el(n.right,e.right),e.bottom=el(n.bottom,e.bottom),e.left=tl(n.left,e.left),e},go(t,l,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:jo,getElementRects:async function(e){const t=this.getOffsetParent||jo,a=this.getDimensions,n=await a(e.floating);return{reference:bo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:a}=lo(e);return{width:t,height:a}},getScale:co,isElement:zl,isRTL:function(e){return"rtl"===to(e).direction}};function ko(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function So(e,t,a,n){void 0===n&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:o=!1}=n,c=oo(e),d=r||s?[...c?so(c):[],...so(t)]:[];d.forEach(e=>{r&&e.addEventListener("scroll",a,{passive:!0}),s&&e.addEventListener("resize",a)});const u=c&&l?function(e,t){let a,n=null;const r=Fl(e);function s(){var e;clearTimeout(a),null==(e=n)||e.disconnect(),n=null}return function i(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=c;if(l||t(),!p||!h)return;const f={rootMargin:-nl(u)+"px "+-nl(r.clientWidth-(d+p))+"px "+-nl(r.clientHeight-(u+h))+"px "+-nl(d)+"px",threshold:tl(0,el(1,o))||1};let x=!0;function g(t){const n=t[0].intersectionRatio;if(n!==o){if(!x)return i();n?i(!1,n):a=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||ko(c,e.getBoundingClientRect())||i(),x=!1}try{n=new IntersectionObserver(g,m(m({},f),{},{root:r.ownerDocument}))}catch(y){n=new IntersectionObserver(g,f)}n.observe(e)}(!0),s}(c,a):null;let p,h=-1,f=null;i&&(f=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),a()}),c&&!o&&f.observe(c),f.observe(t));let x=o?po(e):null;return o&&function t(){const n=po(e);x&&!ko(x,n)&&a();x=n,p=requestAnimationFrame(t)}(),a(),()=>{var e;d.forEach(e=>{r&&e.removeEventListener("scroll",a),s&&e.removeEventListener("resize",a)}),null==u||u(),null==(e=f)||e.disconnect(),f=null,o&&cancelAnimationFrame(p)}}const _o=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var a,n;const{x:r,y:s,placement:i,middlewareData:l}=t,o=await async function(e,t){const{placement:a,platform:n,elements:r}=e,s=await(null==n.isRTL?void 0:n.isRTL(r.floating)),i=cl(a),l=dl(a),o="y"===hl(a),c=Ol.has(i)?-1:1,d=s&&o?-1:1,u=ol(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:h}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"===typeof h&&(p="end"===l?-1*h:h),o?{x:p*d,y:m*c}:{x:m*c,y:p*d}}(t,e);return i===(null==(a=l.offset)?void 0:a.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:r+o.x,y:s+o.y,data:m(m({},o),{},{placement:i})}}}},Co=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:n,placement:r,platform:s}=t,i=ol(e,t),{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:e=>{let{x:t,y:a}=e;return{x:t,y:a}}}}=i,u=l(i,Cl),p={x:a,y:n},h=await s.detectOverflow(t,u),f=hl(cl(r)),x=ul(f);let g=p[x],y=p[f];if(o){const e="y"===x?"bottom":"right";g=ll(g+h["y"===x?"top":"left"],g,g-h[e])}if(c){const e="y"===f?"bottom":"right";y=ll(y+h["y"===f?"top":"left"],y,y-h[e])}const b=d.fn(m(m({},t),{},{[x]:g,[f]:y}));return m(m({},b),{},{data:{x:b.x-a,y:b.y-n,enabled:{[x]:o,[f]:c}}})}}},Eo=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var a,n;const{placement:r,middlewareData:s,rects:i,initialPlacement:o,platform:c,elements:d}=t,u=ol(e,t),{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0}=u,y=l(u,Sl);if(null!=(a=s.arrow)&&a.alignmentOffset)return{};const b=cl(r),v=hl(o),w=cl(o)===o,j=await(null==c.isRTL?void 0:c.isRTL(d.floating)),N=h||(w||!g?[jl(o)]:function(e){const t=jl(e);return[xl(e),t,xl(t)]}(o)),k="none"!==x;!h&&k&&N.push(...wl(o,g,x,j));const S=[o,...N],_=await c.detectOverflow(t,y),C=[];let E=(null==(n=s.flip)?void 0:n.overflows)||[];if(m&&C.push(_[b]),p){const e=function(e,t,a){void 0===a&&(a=!1);const n=dl(e),r=fl(e),s=ml(r);let i="x"===r?n===(a?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=jl(i)),[i,jl(i)]}(r,i,j);C.push(_[e[0]],_[e[1]])}if(E=[...E,{placement:r,overflows:C}],!C.every(e=>e<=0)){var T,P;const e=((null==(T=s.flip)?void 0:T.index)||0)+1,t=S[e];if(t){if(!("alignment"===p&&v!==hl(t))||E.every(e=>hl(e.placement)!==v||e.overflows[0]>0))return{data:{index:e,overflows:E},reset:{placement:t}}}let a=null==(P=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:P.placement;if(!a)switch(f){case"bestFit":{var A;const e=null==(A=E.filter(e=>{if(k){const t=hl(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:A[0];e&&(a=e);break}case"initialPlacement":a=o}if(r!==a)return{reset:{placement:a}}}return{}}}},To=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var a,n;const{placement:r,rects:s,platform:i,elements:o}=t,c=ol(e,t),{apply:d=()=>{}}=c,u=l(c,El),p=await i.detectOverflow(t,u),h=cl(r),f=dl(r),x="y"===hl(r),{width:g,height:y}=s.floating;let b,v;"top"===h||"bottom"===h?(b=h,v=f===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,b="end"===f?"top":"bottom");const w=y-p.top-p.bottom,j=g-p.left-p.right,N=el(y-p[b],w),k=el(g-p[v],j),S=!t.middlewareData.shift;let _=N,C=k;if(null!=(a=t.middlewareData.shift)&&a.enabled.x&&(C=j),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(_=w),S&&!f){const e=tl(p.left,0),t=tl(p.right,0),a=tl(p.top,0),n=tl(p.bottom,0);x?C=g-2*(0!==e||0!==t?e+t:tl(p.left,p.right)):_=y-2*(0!==a||0!==n?a+n:tl(p.top,p.bottom))}await d(m(m({},t),{},{availableWidth:C,availableHeight:_}));const E=await i.getDimensions(o.floating);return g!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}},Po=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a,platform:n}=t,r=ol(e,t),{strategy:s="referenceHidden"}=r,i=l(r,_l);switch(s){case"referenceHidden":{const e=Al(await n.detectOverflow(t,m(m({},i),{},{elementContext:"reference"})),a.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Rl(e)}}}case"escaped":{const e=Al(await n.detectOverflow(t,m(m({},i),{},{altBoundary:!0})),a.floating);return{data:{escapedOffsets:e,escaped:Rl(e)}}}default:return{}}}}},Ao=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:n,placement:r,rects:s,platform:i,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=ol(e,t)||{};if(null==c)return{};const u=Nl(d),p={x:a,y:n},h=fl(r),f=ml(h),x=await i.getDimensions(c),g="y"===h,y=g?"top":"left",b=g?"bottom":"right",v=g?"clientHeight":"clientWidth",w=s.reference[f]+s.reference[h]-p[h]-s.floating[f],j=p[h]-s.reference[h],N=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let k=N?N[v]:0;k&&await(null==i.isElement?void 0:i.isElement(N))||(k=l.floating[v]||s.floating[f]);const S=w/2-j/2,_=k/2-x[f]/2-1,C=el(u[y],_),E=el(u[b],_),T=C,P=k-x[f]-E,A=k/2-x[f]/2+S,R=ll(T,A,P),O=!o.arrow&&null!=dl(r)&&A!==R&&s.reference[f]/2-(A<T?C:E)-x[f]/2<0,L=O?A<T?A-T:A-P:0;return{[h]:p[h]+L,data:m({[h]:R,centerOffset:A-R-L},O&&{alignmentOffset:L}),reset:O}}}),Ro=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:a,y:n,placement:r,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:o=!0,crossAxis:c=!0}=ol(e,t),d={x:a,y:n},u=hl(r),p=ul(u);let h=d[p],f=d[u];const x=ol(l,t),g="number"===typeof x?{mainAxis:x,crossAxis:0}:m({mainAxis:0,crossAxis:0},x);if(o){const e="y"===p?"height":"width",t=s.reference[p]-s.floating[e]+g.mainAxis,a=s.reference[p]+s.reference[e]-g.mainAxis;h<t?h=t:h>a&&(h=a)}if(c){var y,b;const e="y"===p?"width":"height",t=Ol.has(cl(r)),a=s.reference[u]-s.floating[e]+(t&&(null==(y=i.offset)?void 0:y[u])||0)+(t?0:g.crossAxis),n=s.reference[u]+s.reference[e]+(t?0:(null==(b=i.offset)?void 0:b[u])||0)-(t?g.crossAxis:0);f<a?f=a:f>n&&(f=n)}return{[p]:h,[u]:f}}}},Oo=(e,t,a)=>{const n=new Map,r=m({platform:No},a),s=m(m({},r.platform),{},{_c:n});return(async(e,t,a)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:i}=a,l=s.filter(Boolean),o=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:u}=Tl(c,n,o),p=n,h={},f=0;for(let g=0;g<l.length;g++){var x;const{name:a,fn:s}=l[g],{x:y,y:b,data:v,reset:w}=await s({x:d,y:u,initialPlacement:n,placement:p,strategy:r,middlewareData:h,rects:c,platform:m(m({},i),{},{detectOverflow:null!=(x=i.detectOverflow)?x:Pl}),elements:{reference:e,floating:t}});d=null!=y?y:d,u=null!=b?b:u,h=m(m({},h),{},{[a]:m(m({},h[a]),v)}),w&&f<=50&&(f++,"object"===typeof w&&(w.placement&&(p=w.placement),w.rects&&(c=!0===w.rects?await i.getElementRects({reference:e,floating:t,strategy:r}):w.rects),({x:d,y:u}=Tl(c,p,o))),g=-1)}return{x:d,y:u,placement:p,strategy:r,middlewareData:h}})(e,t,m(m({},r),{},{platform:s}))};var Lo="undefined"!==typeof document?r.useLayoutEffect:function(){};function Do(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let a,n,r;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(n=a;0!==n--;)if(!Do(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),a=r.length,a!==Object.keys(t).length)return!1;for(n=a;0!==n--;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=a;0!==n--;){const a=r[n];if(("_owner"!==a||!e.$$typeof)&&!Do(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Io(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fo(e,t){const a=Io(e);return Math.round(t*a)/a}function Mo(e){const t=r.useRef(e);return Lo(()=>{t.current=e}),t}const zo=(e,t)=>m(m({},_o(e)),{},{options:[e,t]}),Uo=(e,t)=>m(m({},Co(e)),{},{options:[e,t]}),Bo=(e,t)=>m(m({},Ro(e)),{},{options:[e,t]}),qo=(e,t)=>m(m({},Eo(e)),{},{options:[e,t]}),Ho=(e,t)=>m(m({},To(e)),{},{options:[e,t]}),Wo=(e,t)=>m(m({},Po(e)),{},{options:[e,t]}),Vo=(e,t)=>m(m({},(e=>({name:"arrow",options:e,fn(t){const{element:a,padding:n}="function"===typeof e?e(t):e;return a&&(r=a,{}.hasOwnProperty.call(r,"current"))?null!=a.current?Ao({element:a.current,padding:n}).fn(t):{}:a?Ao({element:a,padding:n}).fn(t):{};var r}}))(e)),{},{options:[e,t]}),Ko=["children","width","height"];var $o=r.forwardRef((e,t)=>{const{children:a,width:n=10,height:r=5}=e,s=l(e,Ko);return(0,_r.jsx)(Ni.svg,m(m({},s),{},{ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:(0,_r.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});$o.displayName="Arrow";var Yo=$o;const Go=["__scopePopper","virtualRef"],Qo=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],Xo=["__scopePopper"];var Jo="Popper",[Zo,ec]=Zs(Jo),[tc,ac]=Zo(Jo),nc=e=>{const{__scopePopper:t,children:a}=e,[n,s]=r.useState(null);return(0,_r.jsx)(tc,{scope:t,anchor:n,onAnchorChange:s,children:a})};nc.displayName=Jo;var rc="PopperAnchor",sc=r.forwardRef((e,t)=>{const{__scopePopper:a,virtualRef:n}=e,s=l(e,Go),i=ac(rc,a),o=r.useRef(null),c=ni(t,o),d=r.useRef(null);return r.useEffect(()=>{const e=d.current;d.current=(null===n||void 0===n?void 0:n.current)||o.current,e!==d.current&&i.onAnchorChange(d.current)}),n?null:(0,_r.jsx)(Ni.div,m(m({},s),{},{ref:c}))});sc.displayName=rc;var ic="PopperContent",[lc,oc]=Zo(ic),cc=r.forwardRef((e,t)=>{var a,n,s,i,o,c,d,u;const{__scopePopper:p,side:h="bottom",sideOffset:f=0,align:x="center",alignOffset:g=0,arrowPadding:y=0,avoidCollisions:b=!0,collisionBoundary:v=[],collisionPadding:w=0,sticky:j="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:S}=e,_=l(e,Qo),C=ac(ic,p),[E,T]=r.useState(null),P=ni(t,e=>T(e)),[A,R]=r.useState(null),O=function(e){const[t,a]=r.useState(void 0);return Gi(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let r,s;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;a({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),t}(A),L=null!==(a=null===O||void 0===O?void 0:O.width)&&void 0!==a?a:0,D=null!==(n=null===O||void 0===O?void 0:O.height)&&void 0!==n?n:0,I=h+("center"!==x?"-"+x:""),F="number"===typeof w?w:m({top:0,right:0,bottom:0,left:0},w),M=Array.isArray(v)?v:[v],z=M.length>0,U={padding:F,boundary:M.filter(pc),altBoundary:z},{refs:B,floatingStyles:q,placement:H,isPositioned:W,middlewareData:V}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:a="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,p]=r.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=r.useState(n);Do(h,n)||f(n);const[x,g]=r.useState(null),[y,b]=r.useState(null),v=r.useCallback(e=>{e!==k.current&&(k.current=e,g(e))},[]),w=r.useCallback(e=>{e!==S.current&&(S.current=e,b(e))},[]),j=i||x,N=l||y,k=r.useRef(null),S=r.useRef(null),_=r.useRef(u),C=null!=c,E=Mo(c),T=Mo(s),P=Mo(d),A=r.useCallback(()=>{if(!k.current||!S.current)return;const e={placement:t,strategy:a,middleware:h};T.current&&(e.platform=T.current),Oo(k.current,S.current,e).then(e=>{const t=m(m({},e),{},{isPositioned:!1!==P.current});R.current&&!Do(_.current,t)&&(_.current=t,Ft.flushSync(()=>{p(t)}))})},[h,t,a,T,P]);Lo(()=>{!1===d&&_.current.isPositioned&&(_.current.isPositioned=!1,p(e=>m(m({},e),{},{isPositioned:!1})))},[d]);const R=r.useRef(!1);Lo(()=>(R.current=!0,()=>{R.current=!1}),[]),Lo(()=>{if(j&&(k.current=j),N&&(S.current=N),j&&N){if(E.current)return E.current(j,N,A);A()}},[j,N,A,E,C]);const O=r.useMemo(()=>({reference:k,floating:S,setReference:v,setFloating:w}),[v,w]),L=r.useMemo(()=>({reference:j,floating:N}),[j,N]),D=r.useMemo(()=>{const e={position:a,left:0,top:0};if(!L.floating)return e;const t=Fo(L.floating,u.x),n=Fo(L.floating,u.y);return o?m(m({},e),{},{transform:"translate("+t+"px, "+n+"px)"},Io(L.floating)>=1.5&&{willChange:"transform"}):{position:a,left:t,top:n}},[a,o,L.floating,u.x,u.y]);return r.useMemo(()=>m(m({},u),{},{update:A,refs:O,elements:L,floatingStyles:D}),[u,A,O,L,D])}({strategy:"fixed",placement:I,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return So(...t,{animationFrame:"always"===k})},elements:{reference:C.anchor},middleware:[zo({mainAxis:f+D,alignmentAxis:g}),b&&Uo(m({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?Bo():void 0},U)),b&&qo(m({},U)),Ho(m(m({},U),{},{apply:e=>{let{elements:t,rects:a,availableWidth:n,availableHeight:r}=e;const{width:s,height:i}=a.reference,l=t.floating.style;l.setProperty("--radix-popper-available-width","".concat(n,"px")),l.setProperty("--radix-popper-available-height","".concat(r,"px")),l.setProperty("--radix-popper-anchor-width","".concat(s,"px")),l.setProperty("--radix-popper-anchor-height","".concat(i,"px"))}})),A&&Vo({element:A,padding:y}),hc({arrowWidth:L,arrowHeight:D}),N&&Wo(m({strategy:"referenceHidden"},U))]}),[K,$]=fc(H),Y=ki(S);Gi(()=>{W&&(null===Y||void 0===Y||Y())},[W,Y]);const G=null===(s=V.arrow)||void 0===s?void 0:s.x,Q=null===(i=V.arrow)||void 0===i?void 0:i.y,X=0!==(null===(o=V.arrow)||void 0===o?void 0:o.centerOffset),[J,Z]=r.useState();return Gi(()=>{E&&Z(window.getComputedStyle(E).zIndex)},[E]),(0,_r.jsx)("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:m(m({},q),{},{transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[null===(c=V.transformOrigin)||void 0===c?void 0:c.x,null===(d=V.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(u=V.hide)||void 0===u?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,_r.jsx)(lc,{scope:p,placedSide:K,onArrowChange:R,arrowX:G,arrowY:Q,shouldHideArrow:X,children:(0,_r.jsx)(Ni.div,m(m({"data-side":K,"data-align":$},_),{},{ref:P,style:m(m({},_.style),{},{animation:W?void 0:"none"})}))})})});cc.displayName=ic;var dc="PopperArrow",uc={top:"bottom",right:"left",bottom:"top",left:"right"},mc=r.forwardRef(function(e,t){const{__scopePopper:a}=e,n=l(e,Xo),r=oc(dc,a),s=uc[r.placedSide];return(0,_r.jsx)("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:(0,_r.jsx)(Yo,m(m({},n),{},{ref:t,style:m(m({},n.style),{},{display:"block"})}))})});function pc(e){return null!==e}mc.displayName=dc;var hc=e=>({name:"transformOrigin",options:e,fn(t){var a,n,r,s,i;const{placement:l,rects:o,middlewareData:c}=t,d=0!==(null===(a=c.arrow)||void 0===a?void 0:a.centerOffset),u=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[p,h]=fc(l),f={start:"0%",center:"50%",end:"100%"}[h],x=(null!==(n=null===(r=c.arrow)||void 0===r?void 0:r.x)&&void 0!==n?n:0)+u/2,g=(null!==(s=null===(i=c.arrow)||void 0===i?void 0:i.y)&&void 0!==s?s:0)+m/2;let y="",b="";return"bottom"===p?(y=d?f:"".concat(x,"px"),b="".concat(-m,"px")):"top"===p?(y=d?f:"".concat(x,"px"),b="".concat(o.floating.height+m,"px")):"right"===p?(y="".concat(-m,"px"),b=d?f:"".concat(g,"px")):"left"===p&&(y="".concat(o.floating.width+m,"px"),b=d?f:"".concat(g,"px")),{data:{x:y,y:b}}}});function fc(e){const[t,a="center"]=e.split("-");return[t,a]}var xc=nc,gc=sc,yc=cc,bc=mc;const vc=["container"];var wc=r.forwardRef((e,t)=>{var a;const{container:n}=e,s=l(e,vc),[i,o]=r.useState(!1);Gi(()=>o(!0),[]);const c=n||i&&(null===globalThis||void 0===globalThis||null===(a=globalThis.document)||void 0===a?void 0:a.body);return c?Ft.createPortal((0,_r.jsx)(Ni.div,m(m({},s),{},{ref:t})),c):null});wc.displayName="Portal";const jc=["children"],Nc=["children"];function kc(e){const t=Sc(e),a=r.forwardRef((e,a)=>{const{children:n}=e,s=l(e,jc),i=r.Children.toArray(n),o=i.find(Cc);if(o){const e=o.props.children,n=i.map(t=>t===o?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,_r.jsx)(t,m(m({},s),{},{ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null}))}return(0,_r.jsx)(t,m(m({},s),{},{ref:a,children:n}))});return a.displayName="".concat(e,".Slot"),a}function Sc(e){const t=r.forwardRef((e,t)=>{const{children:a}=e,n=l(e,Nc);if(r.isValidElement(a)){const e=function(e){var t,a;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(a),s=function(e,t){const a=m({},t);for(const n in t){const r=e[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?a[n]=function(){const e=s(...arguments);return r(...arguments),e}:r&&(a[n]=r):"style"===n?a[n]=m(m({},r),s):"className"===n&&(a[n]=[r,s].filter(Boolean).join(" "))}return m(m({},e),a)}(n,a.props);return a.type!==r.Fragment&&(s.ref=t?ai(t,e):e),r.cloneElement(a,s)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var _c=Symbol("radix.slottable");function Cc(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===_c}var Ec=s[" useInsertionEffect ".trim().toString()]||Gi;function Tc(e){let{prop:t,defaultProp:a,onChange:n=()=>{},caller:s}=e;const[i,l,o]=function(e){let{defaultProp:t,onChange:a}=e;const[n,s]=r.useState(t),i=r.useRef(n),l=r.useRef(a);return Ec(()=>{l.current=a},[a]),r.useEffect(()=>{var e;i.current!==n&&(null===(e=l.current)||void 0===e||e.call(l,n),i.current=n)},[n,i]),[n,s,l]}({defaultProp:a,onChange:n}),c=void 0!==t,d=c?t:i;{const e=r.useRef(void 0!==t);r.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",a=c?"controlled":"uncontrolled";console.warn("".concat(s," is changing from ").concat(e," to ").concat(a,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,s])}const u=r.useCallback(e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(t):e;var a;if(n!==t)null===(a=o.current)||void 0===a||a.call(o,n)}else l(e)},[c,t,l,o]);return[d,u]}Symbol("RADIX:SYNC_STATE");var Pc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ac=r.forwardRef((e,t)=>(0,_r.jsx)(Ni.span,m(m({},e),{},{ref:t,style:m(m({},Pc),e.style)})));Ac.displayName="VisuallyHidden";var Rc=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Oc=new WeakMap,Lc=new WeakMap,Dc={},Ic=0,Fc=function(e){return e&&(e.host||Fc(e.parentNode))},Mc=function(e,t,a,n){var r=function(e,t){return t.map(function(t){if(e.contains(t))return t;var a=Fc(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Dc[a]||(Dc[a]=new WeakMap);var s=Dc[a],i=[],l=new Set,o=new Set(r),c=function(e){e&&!l.has(e)&&(l.add(e),c(e.parentNode))};r.forEach(c);var d=function(e){e&&!o.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(n),r=null!==t&&"false"!==t,o=(Oc.get(e)||0)+1,c=(s.get(e)||0)+1;Oc.set(e,o),s.set(e,c),i.push(e),1===o&&r&&Lc.set(e,!0),1===c&&e.setAttribute(a,"true"),r||e.setAttribute(n,"true")}catch(kx){console.error("aria-hidden: cannot operate on ",e,kx)}})};return d(t),l.clear(),Ic++,function(){i.forEach(function(e){var t=Oc.get(e)-1,r=s.get(e)-1;Oc.set(e,t),s.set(e,r),t||(Lc.has(e)||e.removeAttribute(n),Lc.delete(e)),r||e.removeAttribute(a)}),--Ic||(Oc=new WeakMap,Oc=new WeakMap,Lc=new WeakMap,Dc={})}},zc=function(e,t,a){void 0===a&&(a="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),r=t||Rc(e);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),Mc(n,r,a,"aria-hidden")):function(){return null}};var Uc=function(){return Uc=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Uc.apply(this,arguments)};function Bc(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}Object.create;function qc(e,t,a){if(a||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Hc="right-scroll-bar-position",Wc="width-before-scroll-bar";function Vc(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var Kc="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,$c=new WeakMap;function Yc(e,t){var a=function(e,t){var a=(0,r.useState)(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0];return a.callback=t,a.facade}(t||null,function(t){return e.forEach(function(e){return Vc(e,t)})});return Kc(function(){var t=$c.get(a);if(t){var n=new Set(t),r=new Set(e),s=a.current;n.forEach(function(e){r.has(e)||Vc(e,null)}),r.forEach(function(e){n.has(e)||Vc(e,s)})}$c.set(a,e)},[e]),a}function Gc(e){return e}function Qc(e,t){void 0===t&&(t=Gc);var a=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(e){var r=t(e,n);return a.push(r),function(){a=a.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(n=!0;a.length;){var t=a;a=[],t.forEach(e)}a={push:function(t){return e(t)},filter:function(){return a}}},assignMedium:function(e){n=!0;var t=[];if(a.length){var r=a;a=[],r.forEach(e),t=a}var s=function(){var a=t;t=[],a.forEach(e)},i=function(){return Promise.resolve().then(s)};i(),a={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),a}}}};return r}var Xc=function(e){void 0===e&&(e={});var t=Qc(null);return t.options=Uc({async:!0,ssr:!1},e),t}(),Jc=function(){},Zc=r.forwardRef(function(e,t){var a=r.useRef(null),n=r.useState({onScrollCapture:Jc,onWheelCapture:Jc,onTouchMoveCapture:Jc}),s=n[0],i=n[1],l=e.forwardProps,o=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,h=e.noRelative,f=e.noIsolation,x=e.inert,g=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,v=e.gapMode,w=Bc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,N=Yc([a,t]),k=Uc(Uc({},w),s);return r.createElement(r.Fragment,null,u&&r.createElement(j,{sideCar:Xc,removeScrollBar:d,shards:m,noRelative:h,noIsolation:f,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:a,gapMode:v}),l?r.cloneElement(r.Children.only(o),Uc(Uc({},k),{ref:N})):r.createElement(b,Uc({},k,{className:c,ref:N}),o))});Zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Zc.classNames={fullWidth:Wc,zeroRight:Hc};var ed,td=function(e){var t=e.sideCar,a=Bc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return r.createElement(n,Uc({},a))};td.isSideCarExport=!0;function ad(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ed||a.nc;return t&&e.setAttribute("nonce",t),e}var nd=function(){var e=0,t=null;return{add:function(a){var n,r;0==e&&(t=ad())&&(r=a,(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rd=function(){var e=function(){var e=nd();return function(t,a){r.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}}();return function(t){var a=t.styles,n=t.dynamic;return e(a,n),null}},sd={left:0,top:0,right:0,gap:0},id=function(e){return parseInt(e||"",10)||0},ld=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return sd;var t=function(e){var t=window.getComputedStyle(document.body),a=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[id(a),id(n),id(r)]}(e),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-a+t[2]-t[0])}},od=rd(),cd="data-scroll-locked",dd=function(e,t,a,n){var r=e.left,s=e.top,i=e.right,l=e.gap;return void 0===a&&(a="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(cd,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===a&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),"padding"===a&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Hc," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(Wc," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(Hc," .").concat(Hc," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Wc," .").concat(Wc," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(cd,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},ud=function(){var e=parseInt(document.body.getAttribute(cd)||"0",10);return isFinite(e)?e:0},md=function(e){var t=e.noRelative,a=e.noImportant,n=e.gapMode,s=void 0===n?"margin":n;r.useEffect(function(){return document.body.setAttribute(cd,(ud()+1).toString()),function(){var e=ud()-1;e<=0?document.body.removeAttribute(cd):document.body.setAttribute(cd,e.toString())}},[]);var i=r.useMemo(function(){return ld(s)},[s]);return r.createElement(od,{styles:dd(i,!t,s,a?"":"!important")})},pd=!1;if("undefined"!==typeof window)try{var hd=Object.defineProperty({},"passive",{get:function(){return pd=!0,!0}});window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch(Sx){pd=!1}var fd=!!pd&&{passive:!1},xd=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return"hidden"!==a[t]&&!(a.overflowY===a.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===a[t])},gd=function(e,t){var a=t.ownerDocument,n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),yd(e,n)){var r=bd(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==a.body);return!1},yd=function(e,t){return"v"===e?function(e){return xd(e,"overflowY")}(t):function(e){return xd(e,"overflowX")}(t)},bd=function(e,t){return"v"===e?[(a=t).scrollTop,a.scrollHeight,a.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var a},vd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wd=function(e){return[e.deltaX,e.deltaY]},jd=function(e){return e&&"current"in e?e.current:e},Nd=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},kd=0,Sd=[];function _d(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cd=(Ed=function(e){var t=r.useRef([]),a=r.useRef([0,0]),n=r.useRef(),s=r.useState(kd++)[0],i=r.useState(rd)[0],l=r.useRef(e);r.useEffect(function(){l.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=qc([e.lockRef.current],(e.shards||[]).map(jd),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=r.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var r,s=vd(e),i=a.current,o="deltaX"in e?e.deltaX:i[0]-s[0],c="deltaY"in e?e.deltaY:i[1]-s[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=window.getSelection(),p=m&&m.anchorNode;if(p&&(p===d||p.contains(d)))return!1;var h=gd(u,d);if(!h)return!0;if(h?r=u:(r="v"===u?"h":"v",h=gd(u,d)),!h)return!1;if(!n.current&&"changedTouches"in e&&(o||c)&&(n.current=r),!r)return!0;var f=n.current||r;return function(e,t,a,n,r){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=s*n,l=a.target,o=t.contains(l),c=!1,d=i>0,u=0,m=0;do{if(!l)break;var p=bd(e,l),h=p[0],f=p[1]-p[2]-s*h;(h||f)&&yd(e,l)&&(u+=f,m+=h);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!o&&l!==document.body||o&&(t.contains(l)||t===l));return(d&&(r&&Math.abs(u)<1||!r&&i>u)||!d&&(r&&Math.abs(m)<1||!r&&-i>m))&&(c=!0),c}(f,t,e,"h"===f?o:c,!0)},[]),c=r.useCallback(function(e){var a=e;if(Sd.length&&Sd[Sd.length-1]===i){var n="deltaY"in a?wd(a):vd(a),r=t.current.filter(function(e){return e.name===a.type&&(e.target===a.target||a.target===e.shadowParent)&&(t=e.delta,r=n,t[0]===r[0]&&t[1]===r[1]);var t,r})[0];if(r&&r.should)a.cancelable&&a.preventDefault();else if(!r){var s=(l.current.shards||[]).map(jd).filter(Boolean).filter(function(e){return e.contains(a.target)});(s.length>0?o(a,s[0]):!l.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),d=r.useCallback(function(e,a,n,r){var s={name:e,delta:a,target:n,should:r,shadowParent:_d(n)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=r.useCallback(function(e){a.current=vd(e),n.current=void 0},[]),m=r.useCallback(function(t){d(t.type,wd(t),t.target,o(t,e.lockRef.current))},[]),p=r.useCallback(function(t){d(t.type,vd(t),t.target,o(t,e.lockRef.current))},[]);r.useEffect(function(){return Sd.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,fd),document.addEventListener("touchmove",c,fd),document.addEventListener("touchstart",u,fd),function(){Sd=Sd.filter(function(e){return e!==i}),document.removeEventListener("wheel",c,fd),document.removeEventListener("touchmove",c,fd),document.removeEventListener("touchstart",u,fd)}},[]);var h=e.removeScrollBar,f=e.inert;return r.createElement(r.Fragment,null,f?r.createElement(i,{styles:Nd(s)}):null,h?r.createElement(md,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Xc.useMedium(Ed),td);var Ed,Td=r.forwardRef(function(e,t){return r.createElement(Zc,Uc({},e,{ref:t,sideCar:Cd}))});Td.classNames=Zc.classNames;const Pd=Td,Ad=["__scopeSelect","disabled"],Rd=["__scopeSelect","className","style","children","placeholder"],Od=["__scopeSelect","children"],Ld=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],Dd=["__scopeSelect","onPlaced"],Id=["__scopeSelect","align","collisionPadding"],Fd=["__scopeSelect","nonce"],Md=["__scopeSelect"],zd=["__scopeSelect"],Ud=["__scopeSelect","value","disabled","textValue"],Bd=["__scopeSelect","className","style"],qd=["__scopeSelect"],Hd=["__scopeSelect","onAutoScroll"],Wd=["__scopeSelect"],Vd=["__scopeSelect"],Kd=["__scopeSelect","value"];var $d=[" ","Enter","ArrowUp","ArrowDown"],Yd=[" ","Enter"],Gd="Select",[Qd,Xd,Jd]=function(e){const t=e+"CollectionProvider",[a,n]=Zs(t),[s,i]=a(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:a}=e,n=r.useRef(null),i=r.useRef(new Map).current;return(0,_r.jsx)(s,{scope:t,itemMap:i,collectionRef:n,children:a})};o.displayName=t;const c=e+"CollectionSlot",d=ii(c),u=r.forwardRef((e,t)=>{const{scope:a,children:n}=e,r=ni(t,i(c,a).collectionRef);return(0,_r.jsx)(d,{ref:r,children:n})});u.displayName=c;const p=e+"CollectionItemSlot",h="data-radix-collection-item",f=ii(p),x=r.forwardRef((e,t)=>{const{scope:a,children:n}=e,s=l(e,ui),o=r.useRef(null),c=ni(t,o),d=i(p,a);return r.useEffect(()=>(d.itemMap.set(o,m({ref:o},s)),()=>{d.itemMap.delete(o)})),(0,_r.jsx)(f,m(m({},{[h]:""}),{},{ref:c,children:n}))});return x.displayName=p,[{Provider:o,Slot:u,ItemSlot:x},function(t){const a=i(e+"CollectionConsumer",t);return r.useCallback(()=>{const e=a.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(a.itemMap.values()).sort((e,a)=>t.indexOf(e.ref.current)-t.indexOf(a.ref.current))},[a.collectionRef,a.itemMap])},n]}(Gd),[Zd,eu]=Zs(Gd,[Jd,ec]),tu=ec(),[au,nu]=Zd(Gd),[ru,su]=Zd(Gd),iu=e=>{const{__scopeSelect:t,children:a,open:n,defaultOpen:s,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:p,disabled:h,required:f,form:x}=e,g=tu(t),[y,b]=r.useState(null),[v,w]=r.useState(null),[j,N]=r.useState(!1),k=function(e){const t=r.useContext(fi);return e||t||"ltr"}(d),[S,_]=Tc({prop:n,defaultProp:null!==s&&void 0!==s&&s,onChange:i,caller:Gd}),[C,E]=Tc({prop:l,defaultProp:o,onChange:c,caller:Gd}),T=r.useRef(null),P=!y||(x||!!y.closest("form")),[A,R]=r.useState(new Set),O=Array.from(A).map(e=>e.props.value).join(";");return(0,_r.jsx)(xc,m(m({},g),{},{children:(0,_r.jsxs)(au,{required:f,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ji(),value:C,onValueChange:E,open:S,onOpenChange:_,dir:k,triggerPointerDownPosRef:T,disabled:h,children:[(0,_r.jsx)(Qd.Provider,{scope:t,children:(0,_r.jsx)(ru,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(e=>{R(t=>new Set(t).add(e))},[]),onNativeOptionRemove:r.useCallback(e=>{R(t=>{const a=new Set(t);return a.delete(e),a})},[]),children:a})}),P?(0,_r.jsxs)(Yu,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:p,value:C,onChange:e=>E(e.target.value),disabled:h,form:x,children:[void 0===C?(0,_r.jsx)("option",{value:""}):null,Array.from(A)]},O):null]})}))};iu.displayName=Gd;var lu="SelectTrigger",ou=r.forwardRef((e,t)=>{const{__scopeSelect:a,disabled:n=!1}=e,s=l(e,Ad),i=tu(a),o=nu(lu,a),c=o.disabled||n,d=ni(t,o.onTriggerChange),u=Xd(a),p=r.useRef("touch"),[h,f,x]=Qu(e=>{const t=u().filter(e=>!e.disabled),a=t.find(e=>e.value===o.value),n=Xu(t,e,a);void 0!==n&&o.onValueChange(n.value)}),g=e=>{c||(o.onOpenChange(!0),x()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,_r.jsx)(gc,m(m({asChild:!0},i),{},{children:(0,_r.jsx)(Ni.button,m(m({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Gu(o.value)?"":void 0},s),{},{ref:d,onClick:$s(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&g(e)}),onPointerDown:$s(s.onPointerDown,e=>{p.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:$s(s.onKeyDown,e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||$d.includes(e.key)&&(g(),e.preventDefault())})}))}))});ou.displayName=lu;var cu="SelectValue",du=r.forwardRef((e,t)=>{const{__scopeSelect:a,className:n,style:r,children:s,placeholder:i=""}=e,o=l(e,Rd),c=nu(cu,a),{onValueNodeHasChildrenChange:d}=c,u=void 0!==s,p=ni(t,c.onValueNodeChange);return Gi(()=>{d(u)},[d,u]),(0,_r.jsx)(Ni.span,m(m({},o),{},{ref:p,style:{pointerEvents:"none"},children:Gu(c.value)?(0,_r.jsx)(_r.Fragment,{children:i}):s}))});du.displayName=cu;var uu=r.forwardRef((e,t)=>{const{__scopeSelect:a,children:n}=e,r=l(e,Od);return(0,_r.jsx)(Ni.span,m(m({"aria-hidden":!0},r),{},{ref:t,children:n||"\u25bc"}))});uu.displayName="SelectIcon";var mu=e=>(0,_r.jsx)(wc,m({asChild:!0},e));mu.displayName="SelectPortal";var pu="SelectContent",hu=r.forwardRef((e,t)=>{const a=nu(pu,e.__scopeSelect),[n,s]=r.useState();if(Gi(()=>{s(new DocumentFragment)},[]),!a.open){const t=n;return t?Ft.createPortal((0,_r.jsx)(xu,{scope:e.__scopeSelect,children:(0,_r.jsx)(Qd.Slot,{scope:e.__scopeSelect,children:(0,_r.jsx)("div",{children:e.children})})}),t):null}return(0,_r.jsx)(bu,m(m({},e),{},{ref:t}))});hu.displayName=pu;var fu=10,[xu,gu]=Zd(pu),yu=kc("SelectContent.RemoveScroll"),bu=r.forwardRef((e,t)=>{const{__scopeSelect:a,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:y,avoidCollisions:b}=e,v=l(e,Ld),w=nu(pu,a),[j,N]=r.useState(null),[k,S]=r.useState(null),_=ni(t,e=>N(e)),[C,E]=r.useState(null),[T,P]=r.useState(null),A=Xd(a),[R,O]=r.useState(!1),L=r.useRef(!1);r.useEffect(()=>{if(j)return zc(j)},[j]),Ii();const D=r.useCallback(e=>{const[t,...a]=A().map(e=>e.ref.current),[n]=a.slice(-1),r=document.activeElement;for(const s of e){if(s===r)return;if(null===s||void 0===s||s.scrollIntoView({block:"nearest"}),s===t&&k&&(k.scrollTop=0),s===n&&k&&(k.scrollTop=k.scrollHeight),null===s||void 0===s||s.focus(),document.activeElement!==r)return}},[A,k]),I=r.useCallback(()=>D([C,j]),[D,C,j]);r.useEffect(()=>{R&&I()},[R,I]);const{onOpenChange:F,triggerPointerDownPosRef:M}=w;r.useEffect(()=>{if(j){let e={x:0,y:0};const t=t=>{var a,n,r,s;e={x:Math.abs(Math.round(t.pageX)-(null!==(a=null===(n=M.current)||void 0===n?void 0:n.x)&&void 0!==a?a:0)),y:Math.abs(Math.round(t.pageY)-(null!==(r=null===(s=M.current)||void 0===s?void 0:s.y)&&void 0!==r?r:0))}},a=a=>{e.x<=10&&e.y<=10?a.preventDefault():j.contains(a.target)||F(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",a,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",a,{capture:!0})}}},[j,F,M]),r.useEffect(()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);const[z,U]=Qu(e=>{const t=A().filter(e=>!e.disabled),a=t.find(e=>e.ref.current===document.activeElement),n=Xu(t,e,a);n&&setTimeout(()=>n.ref.current.focus())}),B=r.useCallback((e,t,a)=>{const n=!L.current&&!a;(void 0!==w.value&&w.value===t||n)&&(E(e),n&&(L.current=!0))},[w.value]),q=r.useCallback(()=>null===j||void 0===j?void 0:j.focus(),[j]),H=r.useCallback((e,t,a)=>{const n=!L.current&&!a;(void 0!==w.value&&w.value===t||n)&&P(e)},[w.value]),W="popper"===n?wu:vu,V=W===wu?{side:c,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:y,avoidCollisions:b}:{};return(0,_r.jsx)(xu,{scope:a,content:j,viewport:k,onViewportChange:S,itemRefCallback:B,selectedItem:C,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:I,selectedItemText:T,position:n,isPositioned:R,searchRef:z,children:(0,_r.jsx)(Pd,{as:yu,allowPinchZoom:!0,children:(0,_r.jsx)(qi,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:$s(s,e=>{var t;null===(t=w.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,_r.jsx)(Ai,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,_r.jsx)(W,m(m(m({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault()},v),V),{},{onPlaced:()=>O(!0),ref:_,style:m({display:"flex",flexDirection:"column",outline:"none"},v.style),onKeyDown:$s(v.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=A().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const a=e.target,n=t.indexOf(a);t=t.slice(n+1)}setTimeout(()=>D(t)),e.preventDefault()}})}))})})})})});bu.displayName="SelectContentImpl";var vu=r.forwardRef((e,t)=>{const{__scopeSelect:a,onPlaced:n}=e,s=l(e,Dd),i=nu(pu,a),o=gu(pu,a),[c,d]=r.useState(null),[u,p]=r.useState(null),h=ni(t,e=>p(e)),f=Xd(a),x=r.useRef(!1),g=r.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:v,focusSelectedItem:w}=o,j=r.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&y&&b&&v){const e=i.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),a=i.valueNode.getBoundingClientRect(),r=v.getBoundingClientRect();if("rtl"!==i.dir){const n=r.left-t.left,s=a.left-n,i=e.left-s,l=e.width+i,o=Math.max(l,t.width),d=window.innerWidth-fu,u=Ks(s,[fu,Math.max(fu,d-o)]);c.style.minWidth=l+"px",c.style.left=u+"px"}else{const n=t.right-r.right,s=window.innerWidth-a.right-n,i=window.innerWidth-e.right-s,l=e.width+i,o=Math.max(l,t.width),d=window.innerWidth-fu,u=Ks(s,[fu,Math.max(fu,d-o)]);c.style.minWidth=l+"px",c.style.right=u+"px"}const s=f(),l=window.innerHeight-2*fu,o=y.scrollHeight,d=window.getComputedStyle(u),m=parseInt(d.borderTopWidth,10),p=parseInt(d.paddingTop,10),h=parseInt(d.borderBottomWidth,10),g=m+p+o+parseInt(d.paddingBottom,10)+h,w=Math.min(5*b.offsetHeight,g),j=window.getComputedStyle(y),N=parseInt(j.paddingTop,10),k=parseInt(j.paddingBottom,10),S=e.top+e.height/2-fu,_=l-S,C=b.offsetHeight/2,E=m+p+(b.offsetTop+C),T=g-E;if(E<=S){const e=s.length>0&&b===s[s.length-1].ref.current;c.style.bottom="0px";const t=u.clientHeight-y.offsetTop-y.offsetHeight,a=E+Math.max(_,C+(e?k:0)+t+h);c.style.height=a+"px"}else{const e=s.length>0&&b===s[0].ref.current;c.style.top="0px";const t=Math.max(S,m+y.offsetTop+(e?N:0)+C)+T;c.style.height=t+"px",y.scrollTop=E-S+y.offsetTop}c.style.margin="".concat(fu,"px 0"),c.style.minHeight=w+"px",c.style.maxHeight=l+"px",null===n||void 0===n||n(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,c,u,y,b,v,i.dir,n]);Gi(()=>j(),[j]);const[N,k]=r.useState();Gi(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const S=r.useCallback(e=>{e&&!0===g.current&&(j(),null===w||void 0===w||w(),g.current=!1)},[j,w]);return(0,_r.jsx)(ju,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:S,children:(0,_r.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,_r.jsx)(Ni.div,m(m({},s),{},{ref:h,style:m({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});vu.displayName="SelectItemAlignedPosition";var wu=r.forwardRef((e,t)=>{const{__scopeSelect:a,align:n="start",collisionPadding:r=fu}=e,s=l(e,Id),i=tu(a);return(0,_r.jsx)(yc,m(m(m({},i),s),{},{ref:t,align:n,collisionPadding:r,style:m(m({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});wu.displayName="SelectPopperPosition";var[ju,Nu]=Zd(pu,{}),ku="SelectViewport",Su=r.forwardRef((e,t)=>{const{__scopeSelect:a,nonce:n}=e,s=l(e,Fd),i=gu(ku,a),o=Nu(ku,a),c=ni(t,i.onViewportChange),d=r.useRef(0);return(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,_r.jsx)(Qd.Slot,{scope:a,children:(0,_r.jsx)(Ni.div,m(m({"data-radix-select-viewport":"",role:"presentation"},s),{},{ref:c,style:m({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:$s(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:n}=o;if(null!==n&&void 0!==n&&n.current&&a){const e=Math.abs(d.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*fu,r=parseFloat(a.style.minHeight),s=parseFloat(a.style.height),i=Math.max(r,s);if(i<n){const r=i+e,s=Math.min(n,r),l=r-s;a.style.height=s+"px","0px"===a.style.bottom&&(t.scrollTop=l>0?l:0,a.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});Su.displayName=ku;var _u="SelectGroup",[Cu,Eu]=Zd(_u),Tu=r.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,Md),r=Ji();return(0,_r.jsx)(Cu,{scope:a,id:r,children:(0,_r.jsx)(Ni.div,m(m({role:"group","aria-labelledby":r},n),{},{ref:t}))})});Tu.displayName=_u;var Pu="SelectLabel",Au=r.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,zd),r=Eu(Pu,a);return(0,_r.jsx)(Ni.div,m(m({id:r.id},n),{},{ref:t}))});Au.displayName=Pu;var Ru="SelectItem",[Ou,Lu]=Zd(Ru),Du=r.forwardRef((e,t)=>{const{__scopeSelect:a,value:n,disabled:s=!1,textValue:i}=e,o=l(e,Ud),c=nu(Ru,a),d=gu(Ru,a),u=c.value===n,[p,h]=r.useState(null!==i&&void 0!==i?i:""),[f,x]=r.useState(!1),g=ni(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,n,s)}),y=Ji(),b=r.useRef("touch"),v=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,_r.jsx)(Ou,{scope:a,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:r.useCallback(e=>{h(t=>{var a;return t||(null!==(a=null===e||void 0===e?void 0:e.textContent)&&void 0!==a?a:"").trim()})},[]),children:(0,_r.jsx)(Qd.ItemSlot,{scope:a,value:n,disabled:s,textValue:p,children:(0,_r.jsx)(Ni.div,m(m({role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o),{},{ref:g,onFocus:$s(o.onFocus,()=>x(!0)),onBlur:$s(o.onBlur,()=>x(!1)),onClick:$s(o.onClick,()=>{"mouse"!==b.current&&v()}),onPointerUp:$s(o.onPointerUp,()=>{"mouse"===b.current&&v()}),onPointerDown:$s(o.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:$s(o.onPointerMove,e=>{var t;(b.current=e.pointerType,s)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$s(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:$s(o.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Yd.includes(e.key)&&v()," "===e.key&&e.preventDefault())})}))})})});Du.displayName=Ru;var Iu="SelectItemText",Fu=r.forwardRef((e,t)=>{const{__scopeSelect:a,className:n,style:s}=e,i=l(e,Bd),o=nu(Iu,a),c=gu(Iu,a),d=Lu(Iu,a),u=su(Iu,a),[p,h]=r.useState(null),f=ni(t,e=>h(e),d.onItemTextChange,e=>{var t;return null===(t=c.itemTextRefCallback)||void 0===t?void 0:t.call(c,e,d.value,d.disabled)}),x=null===p||void 0===p?void 0:p.textContent,g=r.useMemo(()=>(0,_r.jsx)("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Gi(()=>(y(g),()=>b(g)),[y,b,g]),(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Ni.span,m(m({id:d.textId},i),{},{ref:f})),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ft.createPortal(i.children,o.valueNode):null]})});Fu.displayName=Iu;var Mu="SelectItemIndicator",zu=r.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,qd);return Lu(Mu,a).isSelected?(0,_r.jsx)(Ni.span,m(m({"aria-hidden":!0},n),{},{ref:t})):null});zu.displayName=Mu;var Uu="SelectScrollUpButton",Bu=r.forwardRef((e,t)=>{const a=gu(Uu,e.__scopeSelect),n=Nu(Uu,e.__scopeSelect),[s,i]=r.useState(!1),l=ni(t,n.onScrollButtonChange);return Gi(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),s?(0,_r.jsx)(Wu,m(m({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Bu.displayName=Uu;var qu="SelectScrollDownButton",Hu=r.forwardRef((e,t)=>{const a=gu(qu,e.__scopeSelect),n=Nu(qu,e.__scopeSelect),[s,i]=r.useState(!1),l=ni(t,n.onScrollButtonChange);return Gi(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,a=Math.ceil(t.scrollTop)<e;i(a)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),s?(0,_r.jsx)(Wu,m(m({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Hu.displayName=qu;var Wu=r.forwardRef((e,t)=>{const{__scopeSelect:a,onAutoScroll:n}=e,s=l(e,Hd),i=gu("SelectScrollButton",a),o=r.useRef(null),c=Xd(a),d=r.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),Gi(()=>{var e;const t=c().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[c]),(0,_r.jsx)(Ni.div,m(m({"aria-hidden":!0},s),{},{ref:t,style:m({flexShrink:0},s.style),onPointerDown:$s(s.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(n,50))}),onPointerMove:$s(s.onPointerMove,()=>{var e;null===(e=i.onItemLeave)||void 0===e||e.call(i),null===o.current&&(o.current=window.setInterval(n,50))}),onPointerLeave:$s(s.onPointerLeave,()=>{d()})}))}),Vu=r.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,Wd);return(0,_r.jsx)(Ni.div,m(m({"aria-hidden":!0},n),{},{ref:t}))});Vu.displayName="SelectSeparator";var Ku="SelectArrow",$u=r.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,Vd),r=tu(a),s=nu(Ku,a),i=gu(Ku,a);return s.open&&"popper"===i.position?(0,_r.jsx)(bc,m(m(m({},r),n),{},{ref:t})):null});$u.displayName=Ku;var Yu=r.forwardRef((e,t)=>{let{__scopeSelect:a,value:n}=e,s=l(e,Kd);const i=r.useRef(null),o=ni(t,i),c=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n);return r.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==n&&a){const t=new Event("change",{bubbles:!0});a.call(e,n),e.dispatchEvent(t)}},[c,n]),(0,_r.jsx)(Ni.select,m(m({},s),{},{style:m(m({},Pc),s.style),ref:o,defaultValue:n}))});function Gu(e){return""===e||void 0===e}function Qu(e){const t=ki(e),a=r.useRef(""),n=r.useRef(0),s=r.useCallback(e=>{const r=a.current+e;t(r),function e(t){a.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),i=r.useCallback(()=>{a.current="",window.clearTimeout(n.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(n.current),[]),[a,s,i]}function Xu(e,t,a){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=a?e.indexOf(a):-1;let s=(i=e,l=Math.max(r,0),i.map((e,t)=>i[(l+t)%i.length]));var i,l;1===n.length&&(s=s.filter(e=>e!==a));const o=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==a?o:void 0}Yu.displayName="SelectBubbleInput";var Ju=iu,Zu=ou,em=du,tm=uu,am=mu,nm=hu,rm=Su,sm=Au,im=Du,lm=Fu,om=zu,cm=Bu,dm=Hu,um=Vu;const mm=Kr("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),pm=Kr("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),hm=Kr("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function fm(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(a=fm(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function xm(){for(var e,t,a=0,n="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=fm(e))&&(n&&(n+=" "),n+=t);return n}const gm=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},ym="-",bm=[],vm=e=>{const t=Nm(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return jm(e);const a=e.split(ym),n=""===a[0]&&a.length>1?1:0;return wm(a,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],r=a[e];return t?r?((e,t)=>{const a=new Array(e.length+t.length);for(let n=0;n<e.length;n++)a[n]=e[n];for(let n=0;n<t.length;n++)a[e.length+n]=t[n];return a})(r,t):t:r||bm}return a[e]||bm}}},wm=(e,t,a)=>{if(0===e.length-t)return a.classGroupId;const n=e[t],r=a.nextPart.get(n);if(r){const a=wm(e,t+1,r);if(a)return a}const s=a.validators;if(null===s)return;const i=0===t?e.join(ym):e.slice(t).join(ym),l=s.length;for(let o=0;o<l;o++){const e=s[o];if(e.validator(i))return e.classGroupId}},jm=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),a=t.indexOf(":"),n=t.slice(0,a);return n?"arbitrary.."+n:void 0})(),Nm=e=>{const{theme:t,classGroups:a}=e;return km(a,t)},km=(e,t)=>{const a=gm();for(const n in e){const r=e[n];Sm(r,a,n,t)}return a},Sm=(e,t,a,n)=>{const r=e.length;for(let s=0;s<r;s++){const r=e[s];_m(r,t,a,n)}},_m=(e,t,a,n)=>{"string"!==typeof e?"function"!==typeof e?Tm(e,t,a,n):Em(e,t,a,n):Cm(e,t,a)},Cm=(e,t,a)=>{(""===e?t:Pm(t,e)).classGroupId=a},Em=(e,t,a,n)=>{Am(e)?Sm(e(n),t,a,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(a,e)))},Tm=(e,t,a,n)=>{const r=Object.entries(e),s=r.length;for(let i=0;i<s;i++){const[e,s]=r[i];Sm(s,Pm(t,e),a,n)}},Pm=(e,t)=>{let a=e;const n=t.split(ym),r=n.length;for(let s=0;s<r;s++){const e=n[s];let t=a.nextPart.get(e);t||(t=gm(),a.nextPart.set(e,t)),a=t}return a},Am=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Rm=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=Object.create(null),n=Object.create(null);const r=(r,s)=>{a[r]=s,t++,t>e&&(t=0,n=a,a=Object.create(null))};return{get(e){let t=a[e];return void 0!==t?t:void 0!==(t=n[e])?(r(e,t),t):void 0},set(e,t){e in a?a[e]=t:r(e,t)}}},Om=[],Lm=(e,t,a,n,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:a,maybePostfixModifierPosition:n,isExternal:r}),Dm=e=>{const{prefix:t,experimentalParseClassName:a}=e;let n=e=>{const t=[];let a,n=0,r=0,s=0;const i=e.length;for(let d=0;d<i;d++){const i=e[d];if(0===n&&0===r){if(":"===i){t.push(e.slice(s,d)),s=d+1;continue}if("/"===i){a=d;continue}}"["===i?n++:"]"===i?n--:"("===i?r++:")"===i&&r--}const l=0===t.length?e:e.slice(s);let o=l,c=!1;l.endsWith("!")?(o=l.slice(0,-1),c=!0):l.startsWith("!")&&(o=l.slice(1),c=!0);return Lm(t,c,o,a&&a>s?a-s:void 0)};if(t){const e=t+":",a=n;n=t=>t.startsWith(e)?a(t.slice(e.length)):Lm(Om,!1,t,void 0,!0)}if(a){const e=n;n=t=>a({className:t,parseClassName:e})}return n},Im=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,a)=>{t.set(e,1e6+a)}),e=>{const a=[];let n=[];for(let r=0;r<e.length;r++){const s=e[r],i="["===s[0],l=t.has(s);i||l?(n.length>0&&(n.sort(),a.push(...n),n=[]),a.push(s)):n.push(s)}return n.length>0&&(n.sort(),a.push(...n)),a}},Fm=/\s+/,Mm=e=>{if("string"===typeof e)return e;let t,a="";for(let n=0;n<e.length;n++)e[n]&&(t=Mm(e[n]))&&(a&&(a+=" "),a+=t);return a},zm=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];let r,s,i,l;const o=e=>{const t=s(e);if(t)return t;const a=((e,t)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=t,i=[],l=e.trim().split(Fm);let o="";for(let c=l.length-1;c>=0;c-=1){const e=l[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=a(e);if(t){o=e+(o.length>0?" "+o:o);continue}let h=!!p,f=n(h?m.substring(0,p):m);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=n(m),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const x=0===d.length?"":1===d.length?d[0]:s(d).join(":"),g=u?x+"!":x,y=g+f;if(i.indexOf(y)>-1)continue;i.push(y);const b=r(f,h);for(let a=0;a<b.length;++a){const e=b[a];i.push(g+e)}o=e+(o.length>0?" "+o:o)}return o})(e,r);return i(e,a),a};return l=t=>{const n=a.reduce((e,t)=>t(e),e());return r=(e=>m({cache:Rm(e.cacheSize),parseClassName:Dm(e),sortModifiers:Im(e)},vm(e)))(n),s=r.cache.get,i=r.cache.set,l=o,o(t)},function(){return l(function(){let e,t,a=0,n="";for(;a<arguments.length;){var r;(e=(r=a++)<0||arguments.length<=r?void 0:arguments[r])&&(t=Mm(e))&&(n&&(n+=" "),n+=t)}return n}(...arguments))}},Um=[],Bm=e=>{const t=t=>t[e]||Um;return t.isThemeGetter=!0,t},qm=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hm=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wm=/^\d+\/\d+$/,Vm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Km=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$m=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ym=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qm=e=>Wm.test(e),Xm=e=>!!e&&!Number.isNaN(Number(e)),Jm=e=>!!e&&Number.isInteger(Number(e)),Zm=e=>e.endsWith("%")&&Xm(e.slice(0,-1)),ep=e=>Vm.test(e),tp=()=>!0,ap=e=>Km.test(e)&&!$m.test(e),np=()=>!1,rp=e=>Ym.test(e),sp=e=>Gm.test(e),ip=e=>!op(e)&&!hp(e),lp=e=>wp(e,Sp,np),op=e=>qm.test(e),cp=e=>wp(e,_p,ap),dp=e=>wp(e,Cp,Xm),up=e=>wp(e,Np,np),mp=e=>wp(e,kp,sp),pp=e=>wp(e,Tp,rp),hp=e=>Hm.test(e),fp=e=>jp(e,_p),xp=e=>jp(e,Ep),gp=e=>jp(e,Np),yp=e=>jp(e,Sp),bp=e=>jp(e,kp),vp=e=>jp(e,Tp,!0),wp=(e,t,a)=>{const n=qm.exec(e);return!!n&&(n[1]?t(n[1]):a(n[2]))},jp=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Hm.exec(e);return!!n&&(n[1]?t(n[1]):a)},Np=e=>"position"===e||"percentage"===e,kp=e=>"image"===e||"url"===e,Sp=e=>"length"===e||"size"===e||"bg-size"===e,_p=e=>"length"===e,Cp=e=>"number"===e,Ep=e=>"family-name"===e,Tp=e=>"shadow"===e,Pp=(Symbol.toStringTag,()=>{const e=Bm("color"),t=Bm("font"),a=Bm("text"),n=Bm("font-weight"),r=Bm("tracking"),s=Bm("leading"),i=Bm("breakpoint"),l=Bm("container"),o=Bm("spacing"),c=Bm("radius"),d=Bm("shadow"),u=Bm("inset-shadow"),m=Bm("text-shadow"),p=Bm("drop-shadow"),h=Bm("blur"),f=Bm("perspective"),x=Bm("aspect"),g=Bm("ease"),y=Bm("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",hp,op],v=()=>[hp,op,o],w=()=>[Qm,"full","auto",...v()],j=()=>[Jm,"none","subgrid",hp,op],N=()=>["auto",{span:["full",Jm,hp,op]},Jm,hp,op],k=()=>[Jm,"auto",hp,op],S=()=>["auto","min","max","fr",hp,op],_=()=>["auto",...v()],C=()=>[Qm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],E=()=>[e,hp,op],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",gp,up,{position:[hp,op]}],P=()=>["auto","cover","contain",yp,lp,{size:[hp,op]}],A=()=>[Zm,fp,cp],R=()=>["","none","full",c,hp,op],O=()=>["",Xm,fp,cp],L=()=>[Xm,Zm,gp,up],D=()=>["","none",h,hp,op],I=()=>["none",Xm,hp,op],F=()=>["none",Xm,hp,op],M=()=>[Xm,hp,op],z=()=>[Qm,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ep],breakpoint:[ep],color:[tp],container:[ep],"drop-shadow":[ep],ease:["in","out","in-out"],font:[ip],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ep],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ep],shadow:[ep],spacing:["px",Xm],text:[ep],"text-shadow":[ep],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qm,op,hp,x]}],container:["container"],columns:[{columns:[Xm,op,hp,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Jm,"auto",hp,op]}],basis:[{basis:[Qm,"full","auto",l,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xm,Qm,"auto","initial","none",op]}],grow:[{grow:["",Xm,hp,op]}],shrink:[{shrink:["",Xm,hp,op]}],order:[{order:[Jm,"first","last","none",hp,op]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[l,"screen",...C()]}],"min-w":[{"min-w":[l,"screen","none",...C()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",a,fp,cp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,hp,dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zm,op]}],"font-family":[{font:[xp,op,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,hp,op]}],"line-clamp":[{"line-clamp":[Xm,"none",hp,dp]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",hp,op]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",hp,op]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Xm,"from-font","auto",hp,cp]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Xm,"auto",hp,op]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hp,op]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",hp,op]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jm,hp,op],radial:["",hp,op],conic:[Jm,hp,op]},bp,mp]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Xm,hp,op]}],"outline-w":[{outline:["",Xm,fp,cp]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,vp,pp]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,vp,pp]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Xm,cp]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",m,vp,pp]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Xm,hp,op]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xm]}],"mask-image-linear-from-pos":[{"mask-linear-from":L()}],"mask-image-linear-to-pos":[{"mask-linear-to":L()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":L()}],"mask-image-t-to-pos":[{"mask-t-to":L()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":L()}],"mask-image-r-to-pos":[{"mask-r-to":L()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":L()}],"mask-image-b-to-pos":[{"mask-b-to":L()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":L()}],"mask-image-l-to-pos":[{"mask-l-to":L()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":L()}],"mask-image-x-to-pos":[{"mask-x-to":L()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":L()}],"mask-image-y-to-pos":[{"mask-y-to":L()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[hp,op]}],"mask-image-radial-from-pos":[{"mask-radial-from":L()}],"mask-image-radial-to-pos":[{"mask-radial-to":L()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Xm]}],"mask-image-conic-from-pos":[{"mask-conic-from":L()}],"mask-image-conic-to-pos":[{"mask-conic-to":L()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",hp,op]}],filter:[{filter:["","none",hp,op]}],blur:[{blur:D()}],brightness:[{brightness:[Xm,hp,op]}],contrast:[{contrast:[Xm,hp,op]}],"drop-shadow":[{"drop-shadow":["","none",p,vp,pp]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Xm,hp,op]}],"hue-rotate":[{"hue-rotate":[Xm,hp,op]}],invert:[{invert:["",Xm,hp,op]}],saturate:[{saturate:[Xm,hp,op]}],sepia:[{sepia:["",Xm,hp,op]}],"backdrop-filter":[{"backdrop-filter":["","none",hp,op]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[Xm,hp,op]}],"backdrop-contrast":[{"backdrop-contrast":[Xm,hp,op]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xm,hp,op]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xm,hp,op]}],"backdrop-invert":[{"backdrop-invert":["",Xm,hp,op]}],"backdrop-opacity":[{"backdrop-opacity":[Xm,hp,op]}],"backdrop-saturate":[{"backdrop-saturate":[Xm,hp,op]}],"backdrop-sepia":[{"backdrop-sepia":["",Xm,hp,op]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",hp,op]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xm,"initial",hp,op]}],ease:[{ease:["linear","initial",g,hp,op]}],delay:[{delay:[Xm,hp,op]}],animate:[{animate:["none",y,hp,op]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,hp,op]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:M()}],"skew-x":[{"skew-x":M()}],"skew-y":[{"skew-y":M()}],transform:[{transform:[hp,op,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",hp,op]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",hp,op]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Xm,fp,cp,dp]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),Ap=zm(Pp);function Rp(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Ap(xm(t))}const Op=["className","children"],Lp=["className"],Dp=["className"],Ip=["className","children","position"],Fp=["className"],Mp=["className","children"],zp=["className"],Up=Ju,Bp=em,qp=r.forwardRef((e,t)=>{let{className:a,children:n}=e,r=l(e,Op);return(0,_r.jsxs)(Zu,m(m({ref:t,className:Rp("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},r),{},{children:[n,(0,_r.jsx)(tm,{asChild:!0,children:(0,_r.jsx)(mm,{className:"h-4 w-4 opacity-50"})})]}))});qp.displayName=Zu.displayName;const Hp=r.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Lp);return(0,_r.jsx)(cm,m(m({ref:t,className:Rp("flex cursor-default items-center justify-center py-1",a)},n),{},{children:(0,_r.jsx)(pm,{className:"h-4 w-4"})}))});Hp.displayName=cm.displayName;const Wp=r.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Dp);return(0,_r.jsx)(dm,m(m({ref:t,className:Rp("flex cursor-default items-center justify-center py-1",a)},n),{},{children:(0,_r.jsx)(mm,{className:"h-4 w-4"})}))});Wp.displayName=dm.displayName;const Vp=r.forwardRef((e,t)=>{let{className:a,children:n,position:r="popper"}=e,s=l(e,Ip);return(0,_r.jsx)(am,{children:(0,_r.jsxs)(nm,m(m({ref:t,className:Rp("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r},s),{},{children:[(0,_r.jsx)(Hp,{}),(0,_r.jsx)(rm,{className:Rp("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,_r.jsx)(Wp,{})]}))})});Vp.displayName=nm.displayName;r.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Fp);return(0,_r.jsx)(sm,m({ref:t,className:Rp("px-2 py-1.5 text-sm font-semibold",a)},n))}).displayName=sm.displayName;const Kp=r.forwardRef((e,t)=>{let{className:a,children:n}=e,r=l(e,Mp);return(0,_r.jsxs)(im,m(m({ref:t,className:Rp("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},r),{},{children:[(0,_r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,_r.jsx)(om,{children:(0,_r.jsx)(hm,{className:"h-4 w-4"})})}),(0,_r.jsx)(lm,{children:n})]}))});Kp.displayName=im.displayName;r.forwardRef((e,t)=>{let{className:a}=e,n=l(e,zp);return(0,_r.jsx)(um,m({ref:t,className:Rp("-mx-1 my-1 h-px bg-muted",a)},n))}).displayName=um.displayName;const $p={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Yp=[{value:"cut",label:"Cut"},{value:"re-cut",label:"Re-Cut"},{value:"re-polish",label:"Re-Polish"},{value:"cut-design",label:"Cut Design"},{value:"consultation",label:"Consultation"}],Gp=[{value:"sapphire",label:"Sapphire"},{value:"tourmaline",label:"Tourmaline"},{value:"emerald",label:"Emerald"},{value:"tanzanite",label:"Tanzanite"},{value:"aquamarine",label:"Aquamarine"},{value:"garnet",label:"Garnet"},{value:"other",label:"Other"}],Qp=()=>{const{user:e,isAuthenticated:t}=Ar(),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)({name:"",email:"",phone:"",service:"",stone_type:"",description:""}),c=e=>{const{name:t,value:a}=e.target;o(e=>m(m({},e),{},{[t]:a}))},d=(e,t)=>{o(a=>m(m({},a),{},{[e]:t}))};return s?(0,_r.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"booking-success",children:(0,_r.jsxs)("div",{className:"text-center max-w-md mx-auto px-6",children:[(0,_r.jsx)("div",{className:"w-20 h-20 mx-auto mb-8 rounded-full bg-green-500/10 flex items-center justify-center",children:(0,_r.jsx)(Hs,{className:"w-10 h-10 text-green-500"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-4xl mb-4",children:"Thank You!"}),(0,_r.jsx)("p",{className:"text-gray-400 mb-8",children:"Your booking request has been received. I'll get back to you as soon as possible."}),(0,_r.jsxs)("div",{className:"gem-card p-6 text-center",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Want to talk now?"}),(0,_r.jsx)("a",{href:"tel:4802854595",className:"font-mono text-2xl hover:text-gray-300 transition-colors block mb-2","data-testid":"contact-phone",children:"480-286-4595"}),(0,_r.jsxs)("div",{className:"flex items-center justify-center gap-4 text-gray-500 text-sm mt-4",children:[(0,_r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Ws,{className:"w-4 h-4"})," Calls"]}),(0,_r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Vs,{className:"w-4 h-4"})," Texts"]})]})]})]})}):(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"booking-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Get Started"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Book a Service"})]})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,_r.jsx)("div",{className:"gem-card p-8 md:p-12",children:(0,_r.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),l.service)if(l.stone_type)try{n(!0);const a=m(m({},l),{},{name:t&&e?e.name:l.name,email:t&&e?e.email:l.email});await Sr.post("".concat($p,"/bookings"),a),i(!0)}catch(o){var r,s;const e=(null===(r=o.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail)||"Failed to submit booking";Qt.error(e)}finally{n(!1)}else Qt.error("Please select a stone type");else Qt.error("Please select a service")},className:"space-y-6","data-testid":"booking-form",children:[!t&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Name *"}),(0,_r.jsx)("input",{type:"text",name:"name",value:l.name,onChange:c,required:!0,className:"input-dark",placeholder:"Your name","data-testid":"booking-name-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Email *"}),(0,_r.jsx)("input",{type:"email",name:"email",value:l.email,onChange:c,required:!0,className:"input-dark",placeholder:"your@email.com","data-testid":"booking-email-input"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Phone Number *"}),(0,_r.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:c,required:!0,className:"input-dark",placeholder:"Your phone number","data-testid":"booking-phone-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Service *"}),(0,_r.jsxs)(Up,{value:l.service,onValueChange:e=>d("service",e),children:[(0,_r.jsx)(qp,{className:"input-dark","data-testid":"booking-service-select",children:(0,_r.jsx)(Bp,{placeholder:"Select a service"})}),(0,_r.jsx)(Vp,{className:"bg-[#0A0A0A] border-white/10",children:Yp.map(e=>(0,_r.jsx)(Kp,{value:e.value,className:"text-white hover:bg-white/10","data-testid":"service-option-".concat(e.value),children:e.label},e.value))})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Colored Stone Type *"}),(0,_r.jsxs)(Up,{value:l.stone_type,onValueChange:e=>d("stone_type",e),children:[(0,_r.jsx)(qp,{className:"input-dark","data-testid":"booking-stone-select",children:(0,_r.jsx)(Bp,{placeholder:"Select stone type"})}),(0,_r.jsx)(Vp,{className:"bg-[#0A0A0A] border-white/10",children:Gp.map(e=>(0,_r.jsx)(Kp,{value:e.value,className:"text-white hover:bg-white/10","data-testid":"stone-option-".concat(e.value),children:e.label},e.value))})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Tell Me About Your Project"}),(0,_r.jsx)("textarea",{name:"description",value:l.description,onChange:c,rows:5,className:"textarea-dark",placeholder:"Describe what you're looking for...","data-testid":"booking-description-input"})]}),(0,_r.jsx)("button",{type:"submit",disabled:a,className:"btn-primary w-full disabled:opacity-50","data-testid":"booking-submit-btn",children:a?"Submitting...":"Submit Request"})]})}),(0,_r.jsxs)("div",{className:"mt-12 text-center",children:[(0,_r.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Prefer to call or text?"}),(0,_r.jsx)("a",{href:"tel:4802854595",className:"font-mono text-xl hover:text-gray-300 transition-colors",children:"480-286-4595"})]})]})})})]})},Xp=Kr("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Jp=Kr("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Zp=Kr("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),eh=Kr("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),th=Kr("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ah=Kr("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),nh=Kr("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),rh=Kr("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),sh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",ih=e=>{let{onBack:t}=e;const[a,n]=(0,r.useState)(""),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1);return l?(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md mx-auto text-center","data-testid":"forgot-password-sent",children:[(0,_r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-green-500/10 flex items-center justify-center",children:(0,_r.jsx)(hm,{className:"w-8 h-8 text-green-400"})}),(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-4",children:"Check Your Email"}),(0,_r.jsx)("p",{className:"text-gray-400 mb-6",children:"If an account exists with that email, you'll receive password reset instructions shortly."}),(0,_r.jsxs)("button",{onClick:t,className:"text-sm text-gray-500 hover:text-white flex items-center gap-2 mx-auto",children:[(0,_r.jsx)(us,{className:"w-4 h-4"})," Back to Sign In"]})]}):(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md mx-auto","data-testid":"forgot-password-form",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-2 text-center",children:"Reset Password"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm text-center mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{await Sr.post("".concat(sh,"/auth/forgot-password"),{email:a}),o(!0),Qt.success("Check your email for reset instructions")}catch(t){o(!0),Qt.success("Check your email for reset instructions")}finally{i(!1)}},className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email *"}),(0,_r.jsx)("input",{type:"email",value:a,onChange:e=>n(e.target.value),required:!0,className:"input-dark h-10 text-sm",placeholder:"your@email.com","data-testid":"forgot-email"})]}),(0,_r.jsx)("button",{type:"submit",disabled:s,className:"btn-primary w-full","data-testid":"forgot-submit",children:s?"Sending...":"Send Reset Link"})]}),(0,_r.jsxs)("button",{onClick:t,className:"text-sm text-gray-500 hover:text-white flex items-center gap-2 mx-auto mt-6",children:[(0,_r.jsx)(us,{className:"w-4 h-4"})," Back to Sign In"]})]})},lh=e=>{let{onSuccess:t}=e;const[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({name:"",email:"",password:""}),{login:u,register:p}=Ar();return s?(0,_r.jsx)(ih,{onBack:()=>i(!1)}):(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md mx-auto","data-testid":"auth-section",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-6 text-center",children:a?"Sign In":"Create Account"}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{a?await u(c.email,c.password):await p(c.name,c.email,c.password),Qt.success(a?"Welcome back!":"Account created!"),t&&t()}catch(s){var n,r;Qt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Authentication failed")}finally{o(!1)}},className:"space-y-4",children:[!a&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name *"}),(0,_r.jsx)("input",{type:"text",value:c.name,onChange:e=>d(t=>m(m({},t),{},{name:e.target.value})),required:!a,className:"input-dark h-10 text-sm","data-testid":"auth-name"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email *"}),(0,_r.jsx)("input",{type:"email",value:c.email,onChange:e=>d(t=>m(m({},t),{},{email:e.target.value})),required:!0,className:"input-dark h-10 text-sm","data-testid":"auth-email"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Password *"}),(0,_r.jsx)("input",{type:"password",value:c.password,onChange:e=>d(t=>m(m({},t),{},{password:e.target.value})),required:!0,minLength:6,className:"input-dark h-10 text-sm","data-testid":"auth-password"})]}),a&&(0,_r.jsx)("div",{className:"text-right",children:(0,_r.jsx)("button",{type:"button",onClick:()=>i(!0),className:"text-xs text-gray-500 hover:text-white","data-testid":"forgot-password-link",children:"Forgot password?"})}),(0,_r.jsx)("button",{type:"submit",disabled:l,className:"btn-primary w-full","data-testid":"auth-submit",children:l?"Please wait...":a?"Sign In":"Create Account"})]}),(0,_r.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-6",children:[a?"Don't have an account? ":"Already have an account? ",(0,_r.jsx)("button",{onClick:()=>n(!a),className:"text-white hover:underline","data-testid":"auth-toggle",children:a?"Sign Up":"Sign In"})]}),!a&&(0,_r.jsx)("p",{className:"text-xs text-gray-600 text-center mt-4",children:"No address required to sign up. Address is only needed at checkout."})]})},oh=e=>{let{onDataRefresh:t,onSwitchToOrders:a}=e;const{entitlements:n,entitlementsLoading:s}=Ar(),[i,l]=(0,r.useState)([]),[o,c]=(0,r.useState)({sms_negotiations_enabled:!1,phone_e164:""}),[d,u]=(0,r.useState)(!0),[p,h]=(0,r.useState)(null),[f,x]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[b,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),N=localStorage.getItem("token"),k={Authorization:"Bearer ".concat(N)},S=(0,r.useCallback)(async()=>{try{u(!0);const[e,t]=await Promise.all([Sr.get("".concat(sh,"/negotiations"),{headers:k}),Sr.get("".concat(sh,"/users/me/preferences"),{headers:k})]);l(e.data),c(t.data)}catch(e){console.error("Failed to load negotiations:",e)}finally{u(!1)}},[]);(0,r.useEffect)(()=>{null!==n&&void 0!==n&&n.unlocked_nyp?S():u(!1)},[null===n||void 0===n?void 0:n.unlocked_nyp,S]);const _=async()=>{if(p&&f){v(!0);try{await Sr.post("".concat(sh,"/negotiations/").concat(p.negotiation_id,"/message"),{kind:"OFFER",amount:parseFloat(f),text:g||null},{headers:k}),Qt.success("Offer sent"),x(""),y("");const e=await Sr.get("".concat(sh,"/negotiations/").concat(p.negotiation_id),{headers:k});h(e.data),S()}catch(e){Qt.error("Failed to send offer")}finally{v(!1)}}else Qt.error("Please enter an amount")},C=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(s||d)return(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full"})});if(null===n||void 0===n||!n.unlocked_nyp){const e=Math.min(100,((null===n||void 0===n?void 0:n.total_spend)||0)/((null===n||void 0===n?void 0:n.threshold)||1e3)*100);return(0,_r.jsxs)("div",{"data-testid":"nyp-locked-tab",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-6",children:"Name Your Price"}),(0,_r.jsxs)("div",{className:"gem-card p-8 text-center",children:[(0,_r.jsx)(Ts,{className:"w-12 h-12 mx-auto text-gray-600 mb-4"}),(0,_r.jsx)("h3",{className:"title-sm text-xl mb-2",children:"Unlock Exclusive Pricing"}),(0,_r.jsxs)("p",{className:"text-gray-500 mb-6",children:["Spend $",((null===n||void 0===n?void 0:n.threshold)||1e3).toLocaleString()," to unlock Name Your Price negotiations."]}),(0,_r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,_r.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Your spend"}),(0,_r.jsxs)("span",{className:"text-white",children:["$",((null===n||void 0===n?void 0:n.total_spend)||0).toLocaleString()]})]}),(0,_r.jsx)("div",{className:"h-2 bg-white/10 overflow-hidden",children:(0,_r.jsx)("div",{className:"h-full bg-gradient-to-r from-amber-500 to-yellow-500 transition-all duration-500",style:{width:"".concat(e,"%")}})}),(0,_r.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["$",((null===n||void 0===n?void 0:n.spend_to_unlock)||1e3).toLocaleString()," more to unlock"]})]}),(0,_r.jsx)(Tt,{to:"/shop",className:"btn-secondary inline-block mt-6",children:"Browse Shop"})]})]})}var E,T;return p?(0,_r.jsxs)("div",{"data-testid":"nyp-thread-detail",children:[(0,_r.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-white text-sm mb-4",children:"\u2190 Back to negotiations"}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h3",{className:"title-sm text-xl",children:p.product_title}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Listed Price: ",(0,_r.jsxs)("span",{className:"text-white",children:["$",null===(E=p.product_price)||void 0===E?void 0:E.toLocaleString()]})]})]}),(0,_r.jsx)("span",{className:"px-3 py-1 text-xs uppercase tracking-wider ".concat("OPEN"===p.status?"bg-blue-500/20 text-blue-400":"ACCEPTED"===p.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:p.status})]}),"ACCEPTED"===p.status&&(0,_r.jsx)(ch,{negotiationId:p.negotiation_id,onRefresh:t}),"OPEN"===p.status&&(e=>{const n=p.messages||[],r=[...n].reverse().find(e=>"ADMIN"===e.sender_role&&"COUNTER"===e.kind&&e.amount);if(!r)return null;const s=n.indexOf(r);return n.slice(s+1).some(e=>"USER"===e.sender_role&&"OFFER"===e.kind)?null:(0,_r.jsxs)("button",{onClick:()=>(async e=>{try{await Sr.post("".concat(sh,"/negotiations/").concat(e,"/accept"),{},{headers:k}),Qt.success("Committed. View your pending invoice in Orders."),h(null),S(),t&&t(),a&&a()}catch(s){var n,r;Qt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to accept")}})(p.negotiation_id),className:"btn-primary w-full mb-4","data-testid":"accept-offer-btn",children:[(0,_r.jsx)(hm,{className:"w-4 h-4 inline mr-2"}),"Accept Offer ($",null===(e=r.amount)||void 0===e?void 0:e.toLocaleString(),")"]})})()]}),(0,_r.jsx)("div",{className:"space-y-3 mb-6",children:null===(T=p.messages)||void 0===T?void 0:T.map((e,t)=>(0,_r.jsxs)("div",{className:"gem-card p-4 ".concat("ADMIN"===e.sender_role?"border-l-2 border-purple-500":"border-l-2 border-amber-500"),children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)("span",{className:"text-xs uppercase ".concat("ADMIN"===e.sender_role?"text-purple-400":"text-amber-400"),children:"ADMIN"===e.sender_role?"Seller":"You"}),(0,_r.jsx)("span",{className:"text-xs px-2 py-0.5 uppercase ".concat("OFFER"===e.kind?"bg-amber-500/20 text-amber-400":"COUNTER"===e.kind?"bg-purple-500/20 text-purple-400":"ACCEPT"===e.kind?"bg-green-500/20 text-green-400":"CLOSE"===e.kind?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"),children:e.kind})]}),(0,_r.jsx)("span",{className:"text-xs text-gray-600",children:C(e.created_at)})]}),null!==e.amount&&(0,_r.jsxs)("p",{className:"text-lg font-mono",children:["$",e.amount.toLocaleString()]}),e.text&&(0,_r.jsx)("p",{className:"text-gray-400 text-sm",children:e.text})]},e.message_id||t))}),"OPEN"===p.status&&(0,_r.jsxs)("div",{className:"gem-card p-6",children:[(0,_r.jsx)("h4",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Send Counter Offer"}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs text-gray-500",children:"Your Offer Amount *"}),(0,_r.jsx)("input",{type:"number",value:f,onChange:e=>x(e.target.value),placeholder:"Enter amount",className:"input-dark w-full"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs text-gray-500",children:"Message (optional)"}),(0,_r.jsx)("textarea",{value:g,onChange:e=>y(e.target.value),placeholder:"Add a note...",className:"input-dark w-full h-20 resize-none"})]}),(0,_r.jsx)("button",{onClick:_,disabled:b,className:"btn-primary w-full",children:b?"Sending...":"Send Offer"})]})]})]}):(0,_r.jsxs)("div",{"data-testid":"nyp-unlocked-tab",children:[(0,_r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl",children:"Name Your Price"}),(0,_r.jsxs)("p",{className:"text-green-400 text-sm flex items-center gap-1",children:[(0,_r.jsx)(Es,{className:"w-4 h-4"})," Unlocked"]})]})}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4 flex items-center gap-2",children:[(0,_r.jsx)(Xp,{className:"w-4 h-4"})," Notification Preferences"]}),(0,_r.jsxs)("div",{className:"space-y-4",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,_r.jsx)("input",{type:"checkbox",checked:o.sms_negotiations_enabled,onChange:e=>c(t=>m(m({},t),{},{sms_negotiations_enabled:e.target.checked})),className:"w-4 h-4 accent-amber-500"}),(0,_r.jsx)("span",{className:"text-sm",children:"Text me updates about negotiations"})]}),o.sms_negotiations_enabled&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs text-gray-500",children:"Phone Number (E.164 format)"}),(0,_r.jsx)("input",{type:"tel",value:o.phone_e164||"",onChange:e=>c(t=>m(m({},t),{},{phone_e164:e.target.value})),placeholder:"+1234567890",className:"input-dark w-full"})]}),(0,_r.jsx)("button",{onClick:async()=>{j(!0);try{await Sr.patch("".concat(sh,"/users/me/preferences"),o,{headers:k}),Qt.success("Preferences saved")}catch(e){Qt.error("Failed to save preferences")}finally{j(!1)}},disabled:w,className:"btn-secondary text-sm",children:w?"Saving...":"Save Preferences"})]})]}),(0,_r.jsx)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Your Negotiations"}),0===i.length?(0,_r.jsxs)("div",{className:"gem-card p-8 text-center",children:[(0,_r.jsx)(Jp,{className:"w-12 h-12 mx-auto text-gray-600 mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500 mb-4",children:"No negotiations yet"}),(0,_r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:'Start a negotiation by clicking "Name Your Price" on any eligible product in the shop.'}),(0,_r.jsx)(Tt,{to:"/shop",className:"btn-secondary inline-block",children:"Browse Shop"})]}):(0,_r.jsx)("div",{className:"space-y-3",children:i.filter(e=>"ACCEPTED"!==e.status).map(e=>{var t;return(0,_r.jsxs)("div",{className:"gem-card p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:async()=>{try{const t=await Sr.get("".concat(sh,"/negotiations/").concat(e.negotiation_id),{headers:k});h(t.data)}catch(t){Qt.error("Failed to load negotiation")}},"data-testid":"negotiation-item-".concat(e.negotiation_id),children:[(0,_r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h4",{className:"font-semibold",children:e.product_title}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:["Listed: $",null===(t=e.product_price)||void 0===t?void 0:t.toLocaleString(),e.last_amount&&(0,_r.jsxs)("span",{className:"text-amber-400 ml-2",children:["\u2022 Last offer: $",e.last_amount.toLocaleString()]})]})]}),(0,_r.jsx)("span",{className:"px-2 py-1 text-xs uppercase ".concat("OPEN"===e.status?"bg-blue-500/20 text-blue-400":"ACCEPTED"===e.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:e.status})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-600",children:[(0,_r.jsxs)("span",{children:[e.message_count," messages"]}),(0,_r.jsx)("span",{children:C(e.last_activity_at)})]})]},e.negotiation_id)})})]})},ch=e=>{var t,a;let{negotiationId:n,onRefresh:s}=e;const[i,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};try{const e=await Sr.get("".concat(sh,"/negotiations/").concat(n,"/agreement"),{headers:t});l(e.data);const a=(await Sr.get("".concat(sh,"/orders"),{headers:t})).data.find(e=>e.negotiation_id===n||"negotiation"===e.source);c(a||null)}catch(a){}})()},[n]),(0,r.useEffect)(()=>{if(null===o||void 0===o||!o.commit_expires_at)return;const e=()=>{const e=new Date(o.commit_expires_at)-new Date;if(e<=0)return void u("Expired");const t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),n=Math.floor(e%6e4/1e3);u("".concat(t,"h ").concat(a,"m ").concat(n,"s"))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[null===o||void 0===o?void 0:o.commit_expires_at]);return null!==i&&void 0!==i&&i.available||o?(0,_r.jsxs)("div",{className:"gem-card p-5 mb-4 border border-green-500/20","data-testid":"negotiation-commit-panel",children:[(0,_r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-green-400 mb-1",children:"Committed"}),(0,_r.jsxs)("p",{className:"font-mono text-lg",children:["$",(null===i||void 0===i||null===(t=i.accepted_amount)||void 0===t?void 0:t.toLocaleString())||(null===o||void 0===o||null===(a=o.total)||void 0===a?void 0:a.toLocaleString())]})]}),(null===o||void 0===o?void 0:o.commit_expires_at)&&(0,_r.jsxs)("div",{className:"text-right",children:[(0,_r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"Expires in"}),(0,_r.jsx)("p",{className:"font-mono text-sm ".concat("Expired"===d?"text-red-400":"text-yellow-400"),"data-testid":"commit-countdown",children:d})]})]}),(0,_r.jsx)("div",{className:"flex gap-2",children:o&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("button",{onClick:async()=>{p(!0);try{const e=localStorage.getItem("token"),t=await Sr.post("".concat(sh,"/payments/checkout-session"),{order_id:null===o||void 0===o?void 0:o.id},{headers:{Authorization:"Bearer ".concat(e)}});t.data.checkout_url?window.location=t.data.checkout_url:Qt.error("Payment provider not configured.")}catch(kx){var e,t;Qt.error((null===(e=kx.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Payment failed")}finally{p(!1)}},disabled:m||"Expired"===d,className:"btn-primary flex-1 disabled:opacity-50","data-testid":"negotiation-pay-now",children:m?"Processing...":"Pay Now"}),(0,_r.jsxs)("button",{onClick:async()=>{if(o)try{const e=localStorage.getItem("token"),t=await fetch("".concat(sh,"/orders/").concat(o.id,"/invoice.pdf"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed");const a=await t.blob(),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="invoice-".concat(o.id.slice(0,8),".pdf"),r.click(),URL.revokeObjectURL(n)}catch(e){Qt.error("Failed to download invoice")}},className:"px-4 py-2 border border-white/10 text-sm text-gray-400 hover:text-white hover:border-white/30 flex items-center gap-2","data-testid":"negotiation-download-invoice",children:[(0,_r.jsx)(Zp,{className:"w-4 h-4"})," Invoice"]})]})})]}):null},dh=e=>{var t;let{order:a,index:n,onRefresh:s}=e;const[i,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=()=>{const e=new Date(a.commit_expires_at)-new Date;if(e<=0)return void l("Expired");const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4),r=Math.floor(e%6e4/1e3);l("".concat(t,"h ").concat(n,"m ").concat(r,"s"))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[a.commit_expires_at]);const d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e);return(0,_r.jsxs)("div",{className:"gem-card p-6 border border-yellow-500/20","data-testid":"pending-invoice-".concat(n),children:[(0,_r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("p",{className:"spec-text text-gray-500",children:["Order #",a.id.slice(0,8)]}),(0,_r.jsx)("p",{className:"font-mono text-lg",children:d(a.total)})]}),(0,_r.jsxs)("div",{className:"text-right",children:[(0,_r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"Expires in"}),(0,_r.jsx)("p",{className:"font-mono text-sm ".concat("Expired"===i?"text-red-400":"text-yellow-400"),"data-testid":"countdown-".concat(n),children:i})]})]}),(0,_r.jsx)("div",{className:"space-y-1 mb-4",children:null===(t=a.items)||void 0===t?void 0:t.map((e,t)=>(0,_r.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,_r.jsxs)("span",{children:[e.title," x",e.quantity]}),(0,_r.jsx)("span",{children:d(e.price*e.quantity)})]},t))}),(0,_r.jsx)("button",{onClick:async()=>{c(!0);try{const e=localStorage.getItem("token"),t=await Sr.post("".concat(sh,"/payments/checkout-session"),{order_id:a.id},{headers:{Authorization:"Bearer ".concat(e)}});t.data.checkout_url?window.location=t.data.checkout_url:"PAYMENT_PROVIDER_NOT_CONFIGURED"===t.data.error_code?Qt.error("Payment not configured yet."):t.data.error_code&&Qt.error(t.data.error_code)}catch(n){var e,t;Qt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Payment failed")}finally{c(!1)}},disabled:o||"Expired"===i,className:"btn-primary w-full disabled:opacity-50","data-testid":"pay-now-btn-".concat(n),children:o?"Processing...":"Pay Now"}),(0,_r.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat(sh,"/orders/").concat(a.id,"/invoice.pdf"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed");const n=await t.blob(),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download="invoice-".concat(a.id.slice(0,8),".pdf"),s.click(),URL.revokeObjectURL(r)}catch(e){Qt.error("Failed to download invoice")}},className:"w-full mt-2 py-2 text-xs text-gray-400 hover:text-white border border-white/10 hover:border-white/30 flex items-center justify-center gap-2 transition-colors","data-testid":"pending-invoice-download-".concat(n),children:[(0,_r.jsx)(Zp,{className:"w-3 h-3"})," Download Invoice"]})]})},uh=e=>{let{user:t,onLogout:a}=e;const n=Se(),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null);return(0,_r.jsxs)("div",{"data-testid":"account-content",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-6",children:"Account Details"}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-gray-500 mb-1",children:"Name"}),(0,_r.jsx)("p",{children:t.name})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-gray-500 mb-1",children:"Email"}),(0,_r.jsx)("p",{children:t.email})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-gray-500 mb-1",children:"Member Since"}),(0,_r.jsx)("p",{children:(p=t.created_at,p?new Date(p).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A")})]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 mt-6 space-y-2",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-gray-500 mb-3",children:"Security Note"}),(0,_r.jsx)("p",{className:"text-sm text-gray-400",children:"Your payment information is never stored on your account. Credit card details are processed securely at checkout and are not retained."})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 mt-6 border border-red-500/20",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-red-400 mb-3",children:"Danger Zone"}),(0,_r.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Permanently delete your account. This action cannot be undone. Your order history will be preserved for records."}),(0,_r.jsxs)("button",{onClick:()=>i(!0),className:"text-sm flex items-center gap-2 px-4 py-2 border border-red-500/50 text-red-400 hover:bg-red-500/10 transition-colors","data-testid":"delete-account-btn",children:[(0,_r.jsx)(rh,{className:"w-4 h-4"}),"Delete My Account"]})]}),s&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>i(!1),children:(0,_r.jsxs)("div",{className:"bg-[#0a0a0a] border border-white/10 p-6 max-w-md w-full",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("h3",{className:"title-sm text-xl mb-4 text-red-400",children:"Delete Account"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"This will permanently disable your account. You will be logged out and will not be able to access your account again."}),(0,_r.jsxs)("p",{className:"text-sm mb-4",children:["Type ",(0,_r.jsx)("span",{className:"text-white font-mono bg-white/10 px-2 py-0.5",children:"DELETE"})," to confirm:"]}),(0,_r.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),className:"input-dark h-10 text-sm mb-4",placeholder:"Type DELETE","data-testid":"delete-confirm-input"}),u&&(0,_r.jsx)("p",{className:"text-red-400 text-sm mb-4",children:u}),(0,_r.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,_r.jsx)("button",{onClick:()=>{i(!1),o(""),m(null)},className:"btn-secondary text-sm",children:"Cancel"}),(0,_r.jsx)("button",{onClick:async()=>{if("DELETE"===l){d(!0),m(null);try{const e=localStorage.getItem("token");await Sr.post("".concat(sh,"/users/me/delete"),{},{headers:{Authorization:"Bearer ".concat(e)}}),localStorage.removeItem("token"),Qt.success("Account deleted"),a&&a(),n("/")}catch(Sx){var e,t;const n=(null===(e=Sx.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to delete account";m(n),Qt.error(n)}finally{d(!1)}}else m("Please type DELETE to confirm")},disabled:c||"DELETE"!==l,className:"text-sm px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 disabled:cursor-not-allowed text-white transition-colors","data-testid":"confirm-delete-account-btn",children:c?"Deleting...":"Delete Account"})]})]})})]});var p},mh=()=>{const{user:e,logout:t,isAuthenticated:a,entitlements:n}=Ar(),s=Se(),[i]=Ot(),[l,o]=(0,r.useState)("orders"),[c,d]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[x,g]=(0,r.useState)(!0),[y,b]=(0,r.useState)({subject:"",message:""}),[v,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"auth"!==i.get("tab")||a||o("auth")},[i,a]),(0,r.useEffect)(()=>{if(a){j();i.get("redirect")&&"auth"===l&&o("orders")}},[a]);const j=async()=>{if(a)try{g(!0);const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},[a,n,r]=await Promise.all([Sr.get("".concat(sh,"/orders"),{headers:t}),Sr.get("".concat(sh,"/bookings"),{headers:t}),Sr.get("".concat(sh,"/user/messages"),{headers:t})]);d(a.data),p(n.data),f(r.data)}catch(e){console.error("Failed to fetch data:",e)}finally{g(!1)}},N=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e),k=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=()=>{t(),s("/")};if(!a)return(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"dashboard-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Account"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Sign In or Register"})]})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsx)(lh,{onSuccess:()=>{const e=i.get("redirect");e&&s("/".concat(e))}})})})]});const _=[{id:"orders",label:"Orders",icon:eh},{id:"bookings",label:"Bookings",icon:th},{id:"nyp",label:"Name Your Price",icon:Jp},{id:"messages",label:"Messages",icon:Vs},{id:"account",label:"Account",icon:Yr}];return(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"dashboard-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Welcome back"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:e.name})]}),(0,_r.jsxs)(Tt,{to:"/faq",className:"flex items-center gap-2 text-sm text-gray-500 hover:text-white transition-colors","data-testid":"dashboard-faq-link",children:[(0,_r.jsx)(As,{className:"w-4 h-4"}),"FAQ"]})]})})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,_r.jsxs)("div",{className:"lg:col-span-1",children:[(0,_r.jsxs)("nav",{className:"md:hidden flex gap-2 overflow-x-auto pb-4 -mx-1 px-1 scrollbar-hide","data-testid":"dashboard-nav-mobile",children:[_.map(e=>(0,_r.jsxs)("button",{onClick:()=>o(e.id),className:"flex-shrink-0 flex items-center gap-2 px-4 py-3 text-sm font-medium border transition-all ".concat(l===e.id?"bg-amber-500/20 border-amber-500 text-amber-400":"border-white/20 text-gray-500 hover:border-teal-500/50"),"data-testid":"mobile-tab-".concat(e.id),children:[(0,_r.jsx)(e.icon,{className:"w-4 h-4"}),(0,_r.jsx)("span",{children:e.label}),"messages"===e.id&&h.length>0&&(0,_r.jsx)("span",{className:"ml-1 text-xs bg-teal-500/30 text-teal-400 px-1.5 py-0.5",children:h.length})]},e.id)),(0,_r.jsxs)("button",{onClick:S,className:"flex-shrink-0 flex items-center gap-2 px-4 py-3 text-sm font-medium border border-white/20 text-gray-500 hover:border-red-500/50 hover:text-red-400 transition-all","data-testid":"mobile-logout-btn",children:[(0,_r.jsx)(Gr,{className:"w-4 h-4"}),(0,_r.jsx)("span",{children:"Logout"})]})]}),(0,_r.jsxs)("nav",{className:"hidden md:block space-y-2","data-testid":"dashboard-nav",children:[_.map(e=>(0,_r.jsxs)("button",{onClick:()=>o(e.id),className:"w-full flex items-center gap-3 px-4 py-3 text-left transition-all duration-300 ".concat(l===e.id?"bg-white/5 text-white border-l-2 border-white":"text-gray-500 hover:text-white hover:bg-white/5"),"data-testid":"tab-".concat(e.id),children:[(0,_r.jsx)(e.icon,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm uppercase tracking-widest",children:e.label}),"messages"===e.id&&h.length>0&&(0,_r.jsx)("span",{className:"ml-auto text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5",children:h.length})]},e.id)),(0,_r.jsxs)("button",{onClick:S,className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-500 hover:text-red-500 transition-colors","data-testid":"logout-btn",children:[(0,_r.jsx)(Gr,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm uppercase tracking-widest",children:"Logout"})]})]})]}),(0,_r.jsx)("div",{className:"lg:col-span-3",children:x?(0,_r.jsx)("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>(0,_r.jsx)("div",{className:"h-24 bg-white/5 animate-pulse"},t))}):(0,_r.jsxs)(_r.Fragment,{children:["orders"===l&&(0,_r.jsxs)("div",{"data-testid":"orders-content",children:[(()=>{const e=new Date,t=c.filter(t=>"pending"===t.status&&!t.paid_at&&t.commit_expires_at&&new Date(t.commit_expires_at)>e);return 0===t.length?null:(0,_r.jsxs)("div",{className:"mb-8","data-testid":"pending-invoices",children:[(0,_r.jsxs)("h2",{className:"title-sm text-2xl mb-6 flex items-center gap-3",children:[(0,_r.jsx)(ah,{className:"w-6 h-6 text-yellow-400"}),"Pending Invoices"]}),(0,_r.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>(0,_r.jsx)(dh,{order:e,index:t,onRefresh:j},e.id))})]})})(),(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-6",children:"Your Orders"}),0===c.length?(0,_r.jsxs)("div",{className:"gem-card p-8 text-center",children:[(0,_r.jsx)(eh,{className:"w-12 h-12 mx-auto text-gray-600 mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500 mb-4",children:"No orders yet"}),(0,_r.jsx)(Tt,{to:"/shop",className:"btn-secondary inline-block",children:"Browse Shop"})]}):(0,_r.jsx)("div",{className:"space-y-4",children:c.map((e,t)=>{var a;return(0,_r.jsxs)("div",{className:"gem-card p-6","data-testid":"order-".concat(t),children:[(0,_r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("p",{className:"spec-text text-gray-500",children:["Order #",e.id.slice(0,8)]}),(0,_r.jsx)("p",{className:"text-sm text-gray-400",children:k(e.created_at)})]}),(0,_r.jsx)("span",{className:"px-3 py-1 text-xs uppercase tracking-widest ".concat(e.paid_at?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"),children:e.paid_at?"Paid":e.status})]}),e.tracking_number&&(0,_r.jsxs)("div",{className:"mb-4 p-3 bg-blue-500/10",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-blue-400 mb-1",children:"Tracking"}),(0,_r.jsxs)("p",{className:"font-mono text-sm",children:[e.tracking_carrier?"".concat(e.tracking_carrier.toUpperCase(),": "):"",e.tracking_number]})]}),e.seller_notes&&(0,_r.jsxs)("div",{className:"mb-4 p-3 bg-purple-500/10",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-purple-400 mb-1",children:"Note from Seller"}),(0,_r.jsx)("p",{className:"text-sm text-gray-400",children:e.seller_notes})]}),e.shipping_address&&(0,_r.jsxs)("div",{className:"mb-4 p-3 bg-white/5",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Shipping Address"}),(0,_r.jsx)("p",{className:"text-sm text-gray-400 whitespace-pre-line",children:e.shipping_address})]}),(0,_r.jsx)("div",{className:"space-y-2",children:null===(a=e.items)||void 0===a?void 0:a.map((e,t)=>(0,_r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,_r.jsxs)("span",{className:"text-gray-400",children:[e.title," x",e.quantity]}),(0,_r.jsx)("span",{children:N(e.price*e.quantity)})]},t))}),(0,_r.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between items-center",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Total"}),(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)("span",{className:"font-mono",children:N(e.total)}),(0,_r.jsxs)("button",{onClick:async()=>{try{const t=localStorage.getItem("token"),a=await fetch("".concat(sh,"/orders/").concat(e.id,"/invoice.pdf"),{headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok)throw new Error("Failed to download");const n=await a.blob(),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download="invoice-".concat(e.id.slice(0,8),".pdf"),s.click(),URL.revokeObjectURL(r)}catch(t){Qt.error("Failed to download invoice")}},className:"text-xs text-gray-500 hover:text-white flex items-center gap-1","data-testid":"invoice-link-".concat(t),children:[(0,_r.jsx)(Zp,{className:"w-3 h-3"})," Invoice"]})]})]})]},e.id)})})]}),"bookings"===l&&(0,_r.jsxs)("div",{"data-testid":"bookings-content",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-6",children:"Your Bookings"}),0===u.length?(0,_r.jsxs)("div",{className:"gem-card p-8 text-center",children:[(0,_r.jsx)(th,{className:"w-12 h-12 mx-auto text-gray-600 mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500 mb-4",children:"No bookings yet"}),(0,_r.jsx)(Tt,{to:"/booking",className:"btn-secondary inline-block",children:"Book a Service"})]}):(0,_r.jsx)("div",{className:"space-y-4",children:u.map((e,t)=>(0,_r.jsxs)("div",{className:"gem-card p-6","data-testid":"booking-".concat(t),children:[(0,_r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"title-sm text-lg capitalize",children:e.service.replace("-"," ")}),(0,_r.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:e.stone_type})]}),(0,_r.jsx)("span",{className:"px-3 py-1 text-xs uppercase tracking-widest ".concat("completed"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"),children:e.status})]}),e.description&&(0,_r.jsx)("p",{className:"text-gray-400 text-sm",children:e.description}),(0,_r.jsx)("p",{className:"text-gray-600 text-xs mt-4",children:k(e.created_at)})]},e.id))})]}),"nyp"===l&&(0,_r.jsx)(oh,{onDataRefresh:j,onSwitchToOrders:()=>o("orders")}),"messages"===l&&(0,_r.jsxs)("div",{"data-testid":"messages-content",children:[(0,_r.jsx)("h2",{className:"title-sm text-2xl mb-6",children:"Contact Admin"}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),"Send a Message"]}),(0,_r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.subject.trim()&&y.message.trim()){w(!0);try{const e=localStorage.getItem("token");await Sr.post("".concat(sh,"/user/messages"),y,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Message sent to admin!"),b({subject:"",message:""}),j()}catch(t){Qt.error("Failed to send message")}finally{w(!1)}}else Qt.error("Please fill in all fields")},className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Subject *"}),(0,_r.jsx)("input",{type:"text",value:y.subject,onChange:e=>b(t=>m(m({},t),{},{subject:e.target.value})),required:!0,className:"input-dark h-10 text-sm",placeholder:"What is this about?","data-testid":"message-subject"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Message *"}),(0,_r.jsx)("textarea",{value:y.message,onChange:e=>b(t=>m(m({},t),{},{message:e.target.value})),required:!0,className:"input-dark h-32 text-sm resize-none",placeholder:"Your message...","data-testid":"message-body"})]}),(0,_r.jsx)("button",{type:"submit",disabled:v,className:"btn-primary","data-testid":"send-message-btn",children:v?"Sending...":"Send Message"})]})]}),h.length>0&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h3",{className:"font-semibold mb-4",children:"Previous Messages"}),(0,_r.jsx)("div",{className:"space-y-3",children:h.map((e,t)=>{var a;return(0,_r.jsxs)("div",{className:"gem-card p-4 ".concat(e.from_admin?"border-l-2 border-amber-500 bg-amber-500/5":"border-l-2 border-teal-500 bg-teal-500/5"),"data-testid":"message-".concat(t),children:[(0,_r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[e.from_admin?(0,_r.jsx)("span",{className:"bg-amber-500 text-black text-[10px] px-1.5 py-0.5 rounded font-semibold",children:"ADMIN"}):(0,_r.jsx)("span",{className:"bg-teal-500 text-black text-[10px] px-1.5 py-0.5 rounded font-semibold",children:"YOU"}),(0,_r.jsx)("p",{className:"font-medium",children:e.subject})]}),(0,_r.jsx)("span",{className:"text-xs text-gray-500",children:k(e.created_at)})]}),(0,_r.jsx)("p",{className:"text-sm text-gray-400 ml-12",children:e.message}),(null===(a=e.replies)||void 0===a?void 0:a.length)>0&&(0,_r.jsx)("div",{className:"mt-3 pl-4 border-l-2 border-amber-500/50 space-y-2",children:e.replies.map((e,t)=>(0,_r.jsxs)("div",{className:"text-sm",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_r.jsx)("span",{className:"bg-amber-500 text-black text-[9px] px-1 py-0.5 rounded font-semibold",children:"ADMIN REPLY"}),(0,_r.jsx)("span",{className:"text-xs text-gray-500",children:k(e.created_at)})]}),(0,_r.jsx)("p",{className:"text-gray-400",children:e.message})]},t))})]},e.id)})})]})]}),"account"===l&&(0,_r.jsx)(uh,{user:e,onLogout:t})]})})]})})})]})},ph=Kr("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",fh=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)([]),[l,o]=(0,r.useState)({name:"",email:"",phone:"",description:"",asking_price:"",negotiable:!1}),c=e=>{const{name:t,value:a,type:n,checked:r}=e.target;if("checkbox"===n){if(r&&!l.asking_price.trim())return void Qt.error("Please enter a price first");o(e=>m(m({},e),{},{[t]:r}))}else o(e=>m(m({},e),{},{[t]:a})),"asking_price"!==t||a.trim()||o(e=>m(m({},e),{},{negotiable:!1}))};return a?(0,_r.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"sell-inquiry-success",children:(0,_r.jsxs)("div",{className:"text-center max-w-md mx-auto px-6",children:[(0,_r.jsx)("div",{className:"w-20 h-20 mx-auto mb-8 rounded-full bg-green-500/10 flex items-center justify-center",children:(0,_r.jsx)(Hs,{className:"w-10 h-10 text-green-500"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-4xl mb-4",children:"Thank You!"}),(0,_r.jsx)("p",{className:"text-gray-400 mb-8",children:"Your sell inquiry has been received. I'll review your submission and get back to you soon."}),(0,_r.jsxs)("div",{className:"gem-card p-6 text-center",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Questions? Reach out directly"}),(0,_r.jsx)("a",{href:"tel:4802864595",className:"font-mono text-2xl hover:text-gray-300 transition-colors block mb-2","data-testid":"contact-phone",children:"480-286-4595"}),(0,_r.jsx)("p",{className:"text-xs text-gray-600",children:"Calls & Texts Welcome"})]})]})}):(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"sell-inquiry-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Sell Your Gems"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Sell Inquiry"})]})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsx)("div",{className:"container-custom",children:(0,_r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,_r.jsxs)("div",{className:"gem-card p-6 mb-8 border-l-2 border-amber-500/50",children:[(0,_r.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Looking to sell your gemstones? Fill out the form below with details about your stones. Please upload photos and provide good descriptions of the gemstones, including your phone number and email for communication."}),(0,_r.jsx)(Tt,{to:"/faq",className:"inline-block mt-3 text-sm text-amber-400 hover:text-amber-300 transition-colors","data-testid":"sell-learn-more-link",children:"Learn more \u2192"})]}),(0,_r.jsx)("div",{className:"gem-card p-8 md:p-12",children:(0,_r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.asking_price.trim())try{t(!0);const e=m(m({},l),{},{photo_count:s.length,photo_names:s.map(e=>e.name)});await Sr.post("".concat(hh,"/sell-inquiry"),e),n(!0)}catch(i){var a,r;const e=(null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"Failed to submit inquiry";Qt.error(e)}finally{t(!1)}else Qt.error("Please enter an asking price")},className:"space-y-6","data-testid":"sell-inquiry-form",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Name *"}),(0,_r.jsx)("input",{type:"text",name:"name",value:l.name,onChange:c,required:!0,className:"input-dark",placeholder:"Your name","data-testid":"sell-name-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Email *"}),(0,_r.jsx)("input",{type:"email",name:"email",value:l.email,onChange:c,required:!0,className:"input-dark",placeholder:"your@email.com","data-testid":"sell-email-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Phone Number"}),(0,_r.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:c,className:"input-dark",placeholder:"Your phone number","data-testid":"sell-phone-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Photos (up to 5)"}),(0,_r.jsxs)("div",{className:"border border-dashed border-white/20 p-6 text-center hover:border-white/40 transition-colors",children:[(0,_r.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);if(s.length+t.length>5)return void Qt.error("Maximum 5 photos allowed");const a=t.map(e=>({file:e,preview:URL.createObjectURL(e),name:e.name}));i(e=>[...e,...a])},className:"hidden",id:"photo-upload","data-testid":"sell-photo-input"}),(0,_r.jsxs)("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[(0,_r.jsx)(ph,{className:"w-8 h-8 mx-auto mb-3 text-gray-500"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm",children:"Click to upload photos"}),(0,_r.jsx)("p",{className:"text-gray-600 text-xs mt-1",children:"JPG, PNG up to 10MB each"})]})]}),s.length>0&&(0,_r.jsx)("div",{className:"grid grid-cols-5 gap-2 mt-4",children:s.map((e,t)=>(0,_r.jsxs)("div",{className:"relative aspect-square",children:[(0,_r.jsx)("img",{src:e.preview,alt:"Upload ".concat(t+1),className:"w-full h-full object-cover"}),(0,_r.jsx)("button",{type:"button",onClick:()=>(e=>{i(t=>{const a=[...t];return URL.revokeObjectURL(a[e].preview),a.splice(e,1),a})})(t),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center","data-testid":"remove-photo-".concat(t),children:(0,_r.jsx)(Qr,{className:"w-3 h-3 text-white"})})]},t))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Describe Your Gemstone(s) *"}),(0,_r.jsx)("textarea",{name:"description",value:l.description,onChange:c,required:!0,rows:5,className:"textarea-dark",placeholder:"Type, size, origin, any certifications, condition...","data-testid":"sell-description-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Asking Price (USD) *"}),(0,_r.jsxs)("div",{className:"relative",children:[(0,_r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),(0,_r.jsx)("input",{type:"number",name:"asking_price",value:l.asking_price,onChange:c,required:!0,min:"1",className:"input-dark pl-8 ".concat(l.negotiable?"opacity-50":""),placeholder:"0.00","data-testid":"sell-price-input"})]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",name:"negotiable",id:"negotiable",checked:l.negotiable,onChange:c,disabled:!l.asking_price.trim(),className:"w-5 h-5 bg-black/50 border border-white/20 rounded-none checked:bg-white checked:border-white focus:ring-0 focus:ring-offset-0 disabled:opacity-30 disabled:cursor-not-allowed","data-testid":"sell-negotiable-checkbox"}),(0,_r.jsx)("label",{htmlFor:"negotiable",className:"text-sm uppercase tracking-widest ".concat(l.asking_price.trim()?"text-gray-400":"text-gray-600"),children:"Price is Negotiable"})]}),(0,_r.jsx)("button",{type:"submit",disabled:e||!l.asking_price.trim(),className:"btn-primary w-full disabled:opacity-50","data-testid":"sell-submit-btn",children:e?"Submitting...":"Submit Inquiry"})]})}),(0,_r.jsxs)("div",{className:"mt-12 text-center",children:[(0,_r.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Prefer to discuss in person?"}),(0,_r.jsx)("a",{href:"tel:4802864595",className:"font-mono text-xl hover:text-gray-300 transition-colors",children:"480-286-4595"})]})]})})})]})},xh=Kr("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),gh=Kr("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),yh=Kr("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),bh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",vh=e=>{let{before:t,after:a,labels:n}=e;const[s,i]=(0,r.useState)(50),l=(0,r.useRef)(null),o=(0,r.useRef)(!1),c=e=>{if(!l.current)return;const t=l.current.getBoundingClientRect(),a=e-t.left,n=Math.max(0,Math.min(100,a/t.width*100));i(n)},d=()=>{o.current=!0},u=()=>{o.current=!1},m=e=>{o.current&&c(e.clientX)};return(0,r.useEffect)(()=>(document.addEventListener("mouseup",u),document.addEventListener("mousemove",m),()=>{document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",m)}),[]),(0,_r.jsxs)("div",{ref:l,className:"relative w-full aspect-[4/3] max-w-5xl mx-auto overflow-hidden cursor-ew-resize select-none",onMouseDown:d,onTouchStart:d,onTouchMove:e=>{c(e.touches[0].clientX)},onTouchEnd:u,"data-testid":"before-after-slider",children:[(0,_r.jsx)("img",{src:a.image_url,alt:a.alt,className:"absolute inset-0 w-full h-full object-cover"}),(0,_r.jsx)("div",{className:"absolute inset-0 overflow-hidden",style:{width:"".concat(s,"%")},children:(0,_r.jsx)("img",{src:t.image_url,alt:t.alt,className:"absolute inset-0 w-full h-full object-cover",style:{width:"".concat(100/(s/100),"%"),maxWidth:"none"}})}),(0,_r.jsx)("div",{className:"absolute top-0 bottom-0 w-1 bg-white cursor-ew-resize z-10",style:{left:"".concat(s,"%"),transform:"translateX(-50%)"},children:(0,_r.jsxs)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg",children:[(0,_r.jsx)(cs,{className:"w-4 h-4 text-gray-800 -mr-1"}),(0,_r.jsx)(ds,{className:"w-4 h-4 text-gray-800 -ml-1"})]})}),(0,_r.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/70 text-white text-sm uppercase tracking-widest",children:n.before_label}),(0,_r.jsx)("div",{className:"absolute top-4 right-4 px-3 py-1 bg-black/70 text-white text-sm uppercase tracking-widest",children:n.after_label})]})},wh=e=>{let{item:t,isLast:a}=e;return(0,_r.jsxs)("div",{className:"relative pl-8 pb-12","data-testid":"timeline-".concat(t.id),children:[!a&&(0,_r.jsx)("div",{className:"absolute left-[11px] top-6 bottom-0 w-px bg-white/20"}),(0,_r.jsx)("div",{className:"absolute left-0 top-1.5 w-6 h-6 rounded-full bg-amber-500/20 border-2 border-amber-500 flex items-center justify-center",children:(0,_r.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-500"})}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsx)("span",{className:"text-amber-400 text-sm font-semibold",children:t.year}),(0,_r.jsx)("h3",{className:"text-xl title-sm text-white",children:t.heading}),(0,_r.jsx)("p",{className:"text-gray-400 leading-relaxed",children:t.body}),t.image_url&&(0,_r.jsx)("img",{src:t.image_url,alt:t.image_alt||t.heading,className:"mt-4 w-full max-w-md rounded-lg"})]})]})},jh=e=>{let{item:t}=e;return(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 p-8 rounded-lg hover:border-amber-500/30 transition-colors","data-testid":"equipment-".concat(t.id),children:[t.image_url&&(0,_r.jsx)("img",{src:t.image_url,alt:t.image_alt||t.name,className:"w-full h-56 object-cover rounded mb-5"}),(0,_r.jsx)("h4",{className:"title-sm text-xl text-white mb-3",children:t.name}),(0,_r.jsx)("p",{className:"text-gray-400 text-base",children:t.purpose})]})},Nh=e=>{let{photos:t}=e;const[a,n]=(0,r.useState)(null);return t&&0!==t.length?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((e,t)=>(0,_r.jsx)("div",{onClick:()=>n(t),className:"aspect-square overflow-hidden cursor-pointer group","data-testid":"action-photo-".concat(t),children:(0,_r.jsx)("img",{src:e.image_url,alt:e.alt,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})},e.id))}),null!==a&&(0,_r.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:()=>n(null),children:[(0,_r.jsx)("button",{className:"absolute top-4 right-4 text-white/70 hover:text-white",onClick:()=>n(null),children:(0,_r.jsx)(Qr,{className:"w-8 h-8"})}),(0,_r.jsx)("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white",onClick:e=>{e.stopPropagation(),n(e=>0===e?t.length-1:e-1)},children:(0,_r.jsx)(cs,{className:"w-10 h-10"})}),(0,_r.jsx)("img",{src:t[a].image_url,alt:t[a].alt,className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:e=>e.stopPropagation()}),(0,_r.jsx)("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white",onClick:e=>{e.stopPropagation(),n(e=>e===t.length-1?0:e+1)},children:(0,_r.jsx)(ds,{className:"w-10 h-10"})})]})]}):null},kh=()=>{const[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{l()},[]);const l=async()=>{try{n(!0);const e=await Sr.get("".concat(bh,"/content/studio"));t(e.data)}catch(Sx){var e;404===(null===(e=Sx.response)||void 0===e?void 0:e.status)?i("unavailable"):i("error")}finally{n(!1)}};if(a)return(0,_r.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})});if("unavailable"===s)return(0,_r.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center",children:(0,_r.jsxs)("div",{className:"text-center","data-testid":"studio-unavailable",children:[(0,_r.jsx)("h1",{className:"text-2xl title-xl text-white mb-4",children:"Studio"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"This page is currently unavailable."}),(0,_r.jsx)(Tt,{to:"/",className:"mt-6 inline-block text-amber-400 hover:text-amber-300",children:"Return Home"})]})});if(s||!e)return(0,_r.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center",children:(0,_r.jsx)("div",{className:"text-center",children:(0,_r.jsx)("p",{className:"text-gray-500",children:"Failed to load content. Please try again."})})});const o=[...e.story_timeline||[]].sort((e,t)=>e.order-t.order),c=[...e.equipment||[]].sort((e,t)=>e.order-t.order),d=[...e.action_photos||[]].sort((e,t)=>e.order-t.order);return(0,_r.jsxs)("div",{className:"min-h-screen bg-[#0A0A0A]","data-testid":"studio-page",children:[(0,_r.jsx)("section",{className:"pt-32 pb-16 text-center",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("p",{className:"spec-text text-gray-500 mb-4",children:"BEHIND THE SCENES"}),(0,_r.jsx)("h1",{className:"page-title title-xl text-4xl md:text-5xl lg:text-6xl mb-6",children:e.hero.title}),(0,_r.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:e.hero.subtitle})]})}),e.before_after&&(0,_r.jsx)("section",{className:"py-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"text-center mb-12",children:[(0,_r.jsx)("h2",{className:"text-2xl title-xl text-white mb-4",children:"The Transformation"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"Drag to reveal the before and after"})]}),(0,_r.jsx)(vh,{before:e.before_after.before,after:e.before_after.after,labels:e.before_after.labels})]})}),o.length>0&&(0,_r.jsx)("section",{className:"py-16 bg-white/[0.02]",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-12",children:[(0,_r.jsx)(xh,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsx)("h2",{className:"text-2xl title-xl text-white",children:"The Journey"})]}),(0,_r.jsx)("div",{className:"max-w-2xl",children:o.map((e,t)=>(0,_r.jsx)(wh,{item:e,isLast:t===o.length-1},e.id))})]})}),c.length>0&&(0,_r.jsx)("section",{className:"py-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-12",children:[(0,_r.jsx)(gh,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsx)("h2",{className:"text-2xl title-xl text-white",children:"Equipment"})]}),(0,_r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>(0,_r.jsx)(jh,{item:e},e.id))})]})}),d.length>0&&(0,_r.jsx)("section",{className:"py-16 bg-white/[0.02]",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-12",children:[(0,_r.jsx)(yh,{className:"w-5 h-5 text-amber-400"}),(0,_r.jsx)("h2",{className:"text-2xl title-xl text-white",children:"The Process"})]}),(0,_r.jsx)(Nh,{photos:d})]})}),e.cta&&(0,_r.jsx)("section",{className:"py-24",children:(0,_r.jsxs)("div",{className:"container-custom text-center",children:[(0,_r.jsx)("p",{className:"text-xl text-gray-300 mb-8 max-w-xl mx-auto",children:e.cta.text}),(0,_r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,_r.jsx)(Tt,{to:e.cta.primary_href,className:"btn-primary","data-testid":"studio-cta-primary",children:e.cta.primary_label}),(0,_r.jsx)(Tt,{to:e.cta.secondary_href,className:"btn-secondary","data-testid":"studio-cta-secondary",children:e.cta.secondary_label})]})]})})]})},Sh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",_h=()=>{Se();const[e]=Ot(),t=e.get("token"),[a,n]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{t||m("Missing reset token. Please request a new password reset link.")},[t]);return c?(0,_r.jsx)("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md w-full text-center","data-testid":"reset-success",children:[(0,_r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-green-500/10 flex items-center justify-center",children:(0,_r.jsx)(hm,{className:"w-8 h-8 text-green-400"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-2xl mb-4",children:"Password Reset Complete"}),(0,_r.jsx)("p",{className:"text-gray-400 mb-6",children:"Your password has been successfully updated. You can now sign in with your new password."}),(0,_r.jsx)(Tt,{to:"/dashboard?tab=auth",className:"btn-primary inline-block","data-testid":"go-to-login",children:"Go to Sign In"})]})}):u&&!t?(0,_r.jsx)("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md w-full text-center","data-testid":"reset-error",children:[(0,_r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/10 flex items-center justify-center",children:(0,_r.jsx)(rh,{className:"w-8 h-8 text-red-400"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-2xl mb-4",children:"Invalid Reset Link"}),(0,_r.jsx)("p",{className:"text-gray-400 mb-6",children:u}),(0,_r.jsxs)(Tt,{to:"/dashboard?tab=auth",className:"text-sm text-gray-500 hover:text-white flex items-center gap-2 justify-center",children:[(0,_r.jsx)(us,{className:"w-4 h-4"})," Back to Sign In"]})]})}):(0,_r.jsx)("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:(0,_r.jsxs)("div",{className:"gem-card p-8 max-w-md w-full","data-testid":"reset-password-page",children:[(0,_r.jsxs)("div",{className:"text-center mb-8",children:[(0,_r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#d4af37]/10 flex items-center justify-center",children:(0,_r.jsx)(Ts,{className:"w-8 h-8 text-[#d4af37]"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-2xl mb-2",children:"Create New Password"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Enter your new password below."})]}),u&&(0,_r.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-3",children:[(0,_r.jsx)(rh,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,_r.jsx)("p",{className:"text-sm text-red-400",children:u})]}),(0,_r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a===s)if(a.length<6)Qt.error("Password must be at least 6 characters");else{o(!0),m(null);try{await Sr.post("".concat(Sh,"/auth/reset-password"),{token:t,new_password:a}),d(!0),Qt.success("Password reset successfully!")}catch(Sx){var n,r;const t=(null===(n=Sx.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to reset password. Please try again.";m(t),Qt.error(t)}finally{o(!1)}}else Qt.error("Passwords do not match")},className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"New Password *"}),(0,_r.jsx)("input",{type:"password",value:a,onChange:e=>n(e.target.value),required:!0,minLength:6,className:"input-dark h-10 text-sm",placeholder:"At least 6 characters","data-testid":"new-password"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Confirm Password *"}),(0,_r.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),required:!0,minLength:6,className:"input-dark h-10 text-sm",placeholder:"Re-enter your password","data-testid":"confirm-password"})]}),(0,_r.jsx)("button",{type:"submit",disabled:l,className:"btn-primary w-full","data-testid":"reset-submit",children:l?"Resetting...":"Reset Password"})]}),(0,_r.jsxs)(Tt,{to:"/dashboard?tab=auth",className:"text-sm text-gray-500 hover:text-white flex items-center gap-2 justify-center mt-6",children:[(0,_r.jsx)(us,{className:"w-4 h-4"})," Back to Sign In"]})]})})},Ch=[{question:"What is this site?",answer:"The site acts as a platform to display Mike Wall's portfolio of cut gemstones, sell stones and buy stones."},{question:"What are Journeys?",answer:"Journeys are small timelines of stones being cut including before and after photos."},{question:"What are the years under photos in Galleries?",answer:"The years represent the year the gemstone was cut."},{question:"Are all gemstones in the galleries for sale?",answer:"No, many gemstones are sold or actively for sale. Please visit the shop page to see items that are for sale."},{question:"What is Name Your Price?",answer:"Name Your Price is a feature that allows previous buyers to send an offer for a gemstone. This offer notifies Mike and he can either accept or counter the offer. This back and forth can go on for an unlimited amount of turns until someone accepts or closes the negotiation."},{question:"How do I pay?",answer:"Payments are processed through Stripe online."},{question:"What does pay later mean?",answer:"The pay later feature is simply a countdown that activates when you commit to a buy. All commits generate an unpaid invoice with a pay button."},{question:"How are invoices paid?",answer:"Invoices are paid through your user account page."},{question:"How do I sell Gemstones?",answer:"There is a sell page for anyone to fill out who wish to sell bulk gemstones. Please upload photos and provide good descriptions of the gemstones, and include your phone number and email for communication."},{question:"How do I book services?",answer:'Booking is easy, you simply visit the "Book" page and select your type of service. Please provide a description of what you need. Once bookings are confirmed an email will be sent confirming the address to send your items to and a booking ticket number.'}],Eh=e=>{let{question:t,answer:a,index:n}=e;const[s,i]=r.useState(!1);return(0,_r.jsxs)("div",{className:"border border-white/10 bg-white/5","data-testid":"faq-item-".concat(n),children:[(0,_r.jsxs)("button",{onClick:()=>i(!s),className:"w-full px-6 py-5 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[(0,_r.jsx)("span",{className:"font-medium pr-4 font-body",style:{textTransform:"none"},children:t}),(0,_r.jsx)(mm,{className:"w-5 h-5 text-gray-500 flex-shrink-0 transition-transform duration-300 ".concat(s?"rotate-180":"")})]}),(0,_r.jsx)("div",{className:"overflow-hidden transition-all duration-300 ".concat(s?"max-h-96":"max-h-0"),children:(0,_r.jsx)("div",{className:"px-6 pb-5 text-gray-400 text-sm leading-relaxed border-t border-white/5 pt-4",children:a})})]})},Th=()=>(0,_r.jsxs)("div",{className:"min-h-screen","data-testid":"faq-page",children:[(0,_r.jsx)("section",{className:"section-spacing pb-16",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-gray-500 mb-4",children:"Help Center"}),(0,_r.jsx)("h1",{className:"page-title title-xl",children:"Frequently Asked Questions"})]})}),(0,_r.jsx)("section",{className:"pb-24",children:(0,_r.jsxs)("div",{className:"container-custom",children:[(0,_r.jsx)("div",{className:"max-w-3xl mx-auto space-y-4",children:Ch.map((e,t)=>(0,_r.jsx)(Eh,{question:e.question,answer:e.answer,index:t},t))}),(0,_r.jsx)("div",{className:"max-w-3xl mx-auto mt-16",children:(0,_r.jsxs)("div",{className:"gem-card p-8 text-center",children:[(0,_r.jsx)(As,{className:"w-10 h-10 mx-auto text-gray-500 mb-4"}),(0,_r.jsx)("h3",{className:"title-sm text-xl mb-3",children:"Still have questions?"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm mb-6",children:"Feel free to reach out directly for any other questions or concerns."}),(0,_r.jsxs)("div",{className:"space-y-2",children:[(0,_r.jsx)("a",{href:"tel:4802864595",className:"block font-mono text-lg hover:text-gray-300 transition-colors",children:"480-286-4595"}),(0,_r.jsx)("a",{href:"mailto:mwall@cuttingcornersgems.com",className:"block text-sm text-gray-500 hover:text-white transition-colors",children:"mwall@cuttingcornersgems.com"})]})]})})]})})]}),Ph=Kr("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ah=Kr("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rh=()=>{const e=Se(),{login:t}=zr(),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)({username:"",password:""});return(0,_r.jsx)("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:(0,_r.jsxs)("div",{className:"w-full max-w-md",children:[(0,_r.jsxs)("div",{className:"text-center mb-8",children:[(0,_r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 flex items-center justify-center",children:(0,_r.jsx)(Ts,{className:"w-8 h-8 text-gray-400"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Admin Access"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Cutting Corners Management Portal"})]}),(0,_r.jsx)("div",{className:"gem-card p-8",children:(0,_r.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),n(!0);try{await t(l.username,l.password),Qt.success("Welcome to Admin Panel"),e("/admin/dashboard")}catch(r){Qt.error("Invalid credentials")}finally{n(!1)}},className:"space-y-6",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Username"}),(0,_r.jsx)("input",{type:"text",value:l.username,onChange:e=>o(t=>m(m({},t),{},{username:e.target.value})),required:!0,className:"input-dark",placeholder:"Enter username","data-testid":"admin-username"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm uppercase tracking-widest text-gray-400 mb-2",children:"Password"}),(0,_r.jsxs)("div",{className:"relative",children:[(0,_r.jsx)("input",{type:s?"text":"password",value:l.password,onChange:e=>o(t=>m(m({},t),{},{password:e.target.value})),required:!0,className:"input-dark pr-12",placeholder:"Enter password","data-testid":"admin-password"}),(0,_r.jsx)("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:s?(0,_r.jsx)(Ph,{className:"w-5 h-5"}):(0,_r.jsx)(Ah,{className:"w-5 h-5"})})]})]}),(0,_r.jsx)("button",{type:"submit",disabled:a,className:"btn-primary w-full","data-testid":"admin-login-btn",children:a?"Signing In...":"Sign In"})]})}),(0,_r.jsx)("p",{className:"text-center text-gray-600 text-xs mt-6",children:"Protected area. Unauthorized access is prohibited."})]})})},Oh=Kr("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Lh=Kr("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Dh=Kr("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),Ih=Kr("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Fh=Kr("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Mh=Kr("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),zh=Kr("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Uh=Kr("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Bh=Kr("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),qh=Kr("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Hh=Kr("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,Vh=e=>{let{children:t}=e;const{isAdmin:a,loading:n,logout:s}=zr(),i=Se(),l=je(),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(0);if((0,r.useEffect)(()=>{n||a||i("/admin")},[a,n,i]),(0,r.useEffect)(()=>{const e=async()=>{try{const e=localStorage.getItem("adminToken");if(!e)return;const t=await Sr.get("".concat(Wh,"/api/admin/messages/unread-counts"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data.total_unread||0)}catch(e){console.error("Failed to fetch unread count:",e)}};if(a){e();const t=setInterval(e,3e4);return()=>clearInterval(t)}},[a]),n)return(0,_r.jsx)("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})});if(!a)return null;const m=[{path:"/admin/dashboard",label:"Dashboard",icon:Oh},{path:"/admin/products",label:"Products",icon:eh},{path:"/admin/gallery",label:"Gallery",icon:Lh},{path:"/admin/journeys",label:"Journeys",icon:rs},{path:"/admin/designs",label:"Designs",icon:os},{path:"/admin/studio",label:"Studio Content",icon:Dh},{path:"/admin/inquiries",label:"Inquiries",icon:Vs},{path:"/admin/negotiations",label:"Negotiations",icon:Jp},{path:"/admin/sold",label:"Sold Items",icon:Ih},{path:"/admin/data",label:"Data & Archives",icon:Fh},{path:"/admin/users",label:"Users",icon:Mh},{path:"/admin/system-tools",label:"System Tools",icon:gh},{type:"divider"},{path:"/admin/settings/stripe",label:"Payments",icon:ah},{path:"/admin/settings/storage",label:"Cloud Storage",icon:zh},{path:"/admin/settings/security",label:"Security",icon:Uh},{path:"/admin/settings/email",label:"Email Service",icon:Bh},{path:"/admin/settings/analytics",label:"Analytics",icon:qh},{path:"/admin/settings/general",label:"Site Settings",icon:Hh}];return(0,_r.jsxs)("div",{className:"min-h-screen bg-[#050505] flex",children:[(0,_r.jsx)("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-[#0A0A0A] border-r border-white/5 transform transition-transform duration-300 ".concat(o?"translate-x-0":"-translate-x-full"," lg:translate-x-0 lg:static"),children:(0,_r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,_r.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,_r.jsxs)(Tt,{to:"/admin/dashboard",className:"title-sm text-xl",children:[(0,_r.jsx)("span",{className:"text-[#d4af37]",children:"Admin"})," Panel"]})}),(0,_r.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:m.map((e,t)=>{if("divider"===e.type)return(0,_r.jsx)("div",{className:"my-4 border-t border-white/5"},t);const a="/admin/users"===e.path&&d>0;return(0,_r.jsxs)(Tt,{to:e.path,onClick:()=>c(!1),className:"flex items-center gap-3 px-4 py-3 rounded transition-colors ".concat((n=e.path,l.pathname===n?"bg-white/10 text-white":"text-gray-500 hover:text-white hover:bg-white/5")),children:[(0,_r.jsx)(e.icon,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm flex-1",children:e.label}),a&&(0,_r.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full min-w-[20px] text-center",children:d})]},e.path);var n})}),(0,_r.jsxs)("div",{className:"p-4 border-t border-white/5 space-y-2",children:[(0,_r.jsxs)(Tt,{to:"/admin/help",className:"flex items-center gap-3 px-4 py-3 text-gray-500 hover:text-white hover:bg-white/5 rounded transition-colors",children:[(0,_r.jsx)(As,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm",children:"Help Center"})]}),(0,_r.jsxs)("button",{onClick:()=>{s(),i("/admin")},className:"flex items-center gap-3 px-4 py-3 text-gray-500 hover:text-red-500 hover:bg-white/5 rounded transition-colors w-full",children:[(0,_r.jsx)(Gr,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm",children:"Sign Out"})]}),(0,_r.jsxs)(Tt,{to:"/",className:"flex items-center gap-3 px-4 py-3 text-gray-500 hover:text-white hover:bg-white/5 rounded transition-colors",children:[(0,_r.jsx)(ds,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"text-sm",children:"View Site"})]})]})]})}),o&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>c(!1)}),(0,_r.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-0",children:[(0,_r.jsxs)("header",{className:"h-16 border-b border-white/5 flex items-center justify-between px-6 bg-[#0A0A0A]/80 backdrop-blur sticky top-0 z-30",children:[(0,_r.jsx)("button",{className:"lg:hidden text-white",onClick:()=>c(!o),children:o?(0,_r.jsx)(Qr,{className:"w-6 h-6"}):(0,_r.jsx)(Xr,{className:"w-6 h-6"})}),(0,_r.jsxs)("div",{className:"text-sm text-gray-500",children:["Logged in as ",(0,_r.jsx)("span",{className:"text-white",children:"Admin"})]})]}),(0,_r.jsx)("main",{className:"flex-1 p-6 lg:p-8",children:t})]})]})},Kh=Kr("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),$h=Kr("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),Yh=Kr("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Gh={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Qh=()=>{const e=localStorage.getItem("adminToken");if(!e)throw"undefined"!==typeof window&&(console.warn("[adminApi] No admin token found. Redirecting to login."),window.location.href="/admin/login"),new Error("No admin token available. Please log in.");const t={headers:{Authorization:"Bearer ".concat(e)}};return t},Xh={async get(e){const t=Qh();return(await Sr.get("".concat(Gh).concat(e),t)).data},async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Qh();return(await Sr.post("".concat(Gh).concat(e),t,a)).data},async put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Qh();return(await Sr.put("".concat(Gh).concat(e),t,a)).data},async patch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Qh();return(await Sr.patch("".concat(Gh).concat(e),t,a)).data},async delete(e){const t=Qh();return(await Sr.delete("".concat(Gh).concat(e),t)).data},async getFullResponse(e){const t=Qh();return Sr.get("".concat(Gh).concat(e),t)},async downloadBlob(e){const t=Qh();return(await Sr.get("".concat(Gh).concat(e),m(m({},t),{},{responseType:"blob"}))).data}},Jh={async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Qh();return(await Sr.post("".concat(Gh).concat(e),t,a)).data}},Zh=()=>{var e;const[t,a]=(0,r.useState)({products:0,gallery:0,bookings:0,users:0,orders:0,commits:0,negotiations:0,sold:0,inquiries:0,product_inquiries:0,sell_inquiries:0,nyp_inquiries:0,total_revenue:0,pending_bookings:0,pending_inquiries:0}),[n,s]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{o()},[]);const o=async()=>{try{const[e,t,n,r,i,l,o]=await Promise.all([Xh.get("/admin/dashboard/stats"),Xh.get("/admin/bookings?include_deleted=true"),Xh.get("/admin/product-inquiries?include_deleted=true"),Xh.get("/admin/sell-inquiries?include_deleted=true"),Xh.get("/admin/name-your-price-inquiries?include_deleted=true"),Xh.get("/admin/orders?include_deleted=true"),Xh.get("/admin/negotiations?include_deleted=true").catch(()=>[])]);a(e);const c=[...t.map(e=>m(m({},e),{},{type:"booking",typeLabel:"Booking",activity_is_deleted:!!e.is_deleted,activity_is_pending:"pending"===e.status})),...l.map(e=>m(m({},e),{},{type:"order",typeLabel:"Order",activity_is_deleted:!!e.is_deleted,activity_is_pending:"pending"===e.status})),...n.map(e=>m(m({},e),{},{type:"inquiry",typeLabel:"Inquiry",activity_is_deleted:!!e.is_deleted,activity_is_pending:"pending"===e.status})),...r.map(e=>m(m({},e),{},{type:"sell",typeLabel:"Sell Inquiry",activity_is_deleted:!!e.is_deleted,activity_is_pending:"pending"===e.status})),...i.map(e=>m(m({},e),{},{type:"nyp",typeLabel:"Name Your Price",activity_is_deleted:!!e.is_deleted,activity_is_pending:"pending"===e.status})),...o.map(e=>m(m({},e),{},{created_at:e.updated_at||e.created_at,type:"negotiation",typeLabel:"Negotiation",activity_is_deleted:!!e.is_deleted,activity_is_pending:"OPEN"===e.status}))].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,12);s(c)}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{l(!1)}},c=[{label:"Products",value:t.products,icon:eh,color:"text-blue-400",path:"/admin/products"},{label:"Gallery Items",value:t.gallery,icon:Lh,color:"text-purple-400",path:"/admin/gallery"},{label:"Bookings",value:t.bookings,icon:Vs,color:"text-green-400",path:"/admin/inquiries"},{label:"Users",value:t.users,icon:Mh,color:"text-yellow-400",path:"/admin/users"},{label:"Orders",value:t.orders,icon:Kh,color:"text-pink-400",path:"/admin/sold"},{label:"Commits",value:t.commits,icon:xh,color:"text-orange-400",path:"/admin/sold"},{label:"Negotiations",value:t.negotiations,icon:$h,color:"text-cyan-400",path:"/admin/negotiations"}],d=e=>{var t,a;switch(e.type){case"booking":return"Booking from ".concat(e.name," - ").concat(e.service);case"order":return"Order - $".concat(null===(t=e.total)||void 0===t?void 0:t.toLocaleString()).concat(e.paid_at?" (paid)":"");case"inquiry":return"Product inquiry from ".concat(e.name);case"sell":return"Sell inquiry from ".concat(e.name," - $").concat(e.asking_price);case"nyp":return"Name Your Price from ".concat(e.name," - $").concat(e.price);case"negotiation":return"Negotiation ".concat((null===(a=e.negotiation_id)||void 0===a?void 0:a.slice(0,8))||""," - ").concat(e.status||"OPEN");default:return"Activity"}},u=e=>{switch(e){case"booking":return"bg-green-500/20 text-green-400";case"order":return"bg-blue-500/20 text-blue-400";case"inquiry":return"bg-yellow-500/20 text-yellow-400";case"sell":return"bg-purple-500/20 text-purple-400";case"nyp":return"bg-orange-500/20 text-orange-400";case"negotiation":return"bg-cyan-500/20 text-cyan-400";default:return"bg-gray-500/20 text-gray-400"}};return i?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{"data-testid":"admin-dashboard",children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-8",children:"Dashboard"}),(0,_r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-8",children:c.map(e=>(0,_r.jsxs)(Tt,{to:e.path,className:"gem-card p-4 hover:bg-white/5 transition-colors","data-testid":"stat-".concat(e.label.toLowerCase().replace(" ","-")),children:[(0,_r.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.color," mb-2")}),(0,_r.jsx)("p",{className:"text-2xl font-mono",children:e.value}),(0,_r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-widest",children:e.label})]},e.label))}),(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,_r.jsxs)("div",{className:"gem-card p-6",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,_r.jsx)(Yh,{className:"w-6 h-6 text-green-400"}),(0,_r.jsx)("h2",{className:"font-semibold",children:"Total Revenue"})]}),(0,_r.jsxs)("p",{className:"text-3xl font-mono text-green-400","data-testid":"total-revenue",children:["$",(null===(e=t.total_revenue)||void 0===e?void 0:e.toLocaleString())||0]}),(0,_r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["From ",t.sold," sold items"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,_r.jsx)(xh,{className:"w-6 h-6 text-yellow-400"}),(0,_r.jsx)("h2",{className:"font-semibold",children:"Pending Bookings"})]}),(0,_r.jsx)("p",{className:"text-3xl font-mono","data-testid":"pending-bookings",children:t.pending_bookings}),(0,_r.jsx)(Tt,{to:"/admin/inquiries",className:"text-xs text-blue-400 hover:text-blue-300 mt-2 inline-block",children:"View all bookings \u2192"})]}),(0,_r.jsxs)("div",{className:"gem-card p-6",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,_r.jsx)(Jp,{className:"w-6 h-6 text-purple-400"}),(0,_r.jsx)("h2",{className:"font-semibold",children:"Inquiry Breakdown"})]}),(0,_r.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,_r.jsxs)("div",{className:"flex justify-between",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Product Inquiries"}),(0,_r.jsx)("span",{"data-testid":"product-inquiries-count",children:t.product_inquiries})]}),(0,_r.jsxs)("div",{className:"flex justify-between",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Sell Inquiries"}),(0,_r.jsx)("span",{"data-testid":"sell-inquiries-count",children:t.sell_inquiries})]}),(0,_r.jsxs)("div",{className:"flex justify-between",children:[(0,_r.jsx)("span",{className:"text-gray-500",children:"Name Your Price"}),(0,_r.jsx)("span",{"data-testid":"nyp-inquiries-count",children:t.nyp_inquiries})]})]})]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_r.jsxs)("h2",{className:"title-sm text-xl flex items-center gap-2",children:[(0,_r.jsx)(th,{className:"w-5 h-5 text-gray-400"}),"Recent Activity"]}),(0,_r.jsx)(Tt,{to:"/admin/inquiries",className:"text-xs text-blue-400 hover:text-blue-300",children:"View all \u2192"})]}),0===n.length?(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):(0,_r.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>{return(0,_r.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-white/5 last:border-0 ".concat(e.activity_is_deleted?"opacity-60":""),"data-testid":"activity-item-".concat(t),children:[(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsx)("p",{className:"text-sm truncate",children:d(e)}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:(a=e.created_at,new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2 ml-3 flex-shrink-0",children:[e.activity_is_pending&&(0,_r.jsx)("span",{className:"text-xs px-2 py-0.5 bg-yellow-500/20 text-yellow-400","data-testid":"badge-pending",children:"PENDING"}),e.activity_is_deleted&&(0,_r.jsx)("span",{className:"text-xs px-2 py-0.5 bg-red-500/20 text-red-400","data-testid":"badge-deleted",children:"DELETED"}),(0,_r.jsx)("span",{className:"text-xs px-2 py-1 ".concat(u(e.type)),children:e.typeLabel})]})]},t);var a})})]})]})},ef=Kr("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),tf=Kr("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),af=Kr("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),nf=Kr("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),rf=Kr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),sf=["sapphire","tourmaline","emerald","tanzanite","aquamarine","garnet","other"],lf={title:"",category:"sapphire",description:"",gemstone_type:"",color:"",carat:"",dimensions:"",price_per_carat:"",price:"",image_url:"",images:[],videos:[],in_stock:!0,gia_certified:!1,gia_report_number:"",gia_report_image:"",name_your_price:!1,name_your_price_phone:""},of=e=>{let{onClose:t,onComplete:a}=e;const[n,s]=(0,r.useState)(m({},lf)),[i,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),f=(e,t)=>{s(a=>m(m({},a),{},{[e]:t}))},x=(e,t)=>{s(a=>m(m({},a),{},{[e]:a[e].filter((e,a)=>a!==t)}))};return(0,_r.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/90 flex",children:[(0,_r.jsxs)("div",{className:"w-80 bg-[#0A0A0A] border-r border-white/10 flex flex-col",children:[(0,_r.jsxs)("div",{className:"p-4 border-b border-white/10",children:[(0,_r.jsxs)("h3",{className:"font-semibold",children:["Saved Items (",i.length,"/",10,")"]}),(0,_r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Click "Next" to save & add more'})]}),(0,_r.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:0===i.length?(0,_r.jsx)("p",{className:"text-gray-600 text-sm text-center py-4",children:"No items saved yet"}):i.map((e,t)=>(0,_r.jsxs)("div",{className:"p-3 border transition-colors ".concat(d===t?"border-white bg-white/10":"border-white/10 hover:border-white/30"),children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(hm,{className:"w-4 h-4 text-green-400"}),(0,_r.jsx)("span",{className:"text-sm truncate flex-1",children:e.title}),(0,_r.jsxs)("span",{className:"text-xs text-gray-500",children:["#",t+1]})]}),(0,_r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.category})]},t))})]}),(0,_r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,_r.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"title-sm text-xl",children:"Bulk Add Products"}),(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:null!==d?"Editing item #".concat(d+1):"Adding item #".concat(i.length+1)})]}),(0,_r.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-6 h-6"})})]}),(0,_r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,_r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"col-span-2",children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Title *"}),(0,_r.jsx)("input",{type:"text",value:n.title,onChange:e=>f("title",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Category"}),(0,_r.jsx)("select",{value:n.category,onChange:e=>f("category",e.target.value),className:"input-dark h-10 text-sm",children:sf.map(e=>(0,_r.jsx)("option",{value:e,children:e},e))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Gem Type"}),(0,_r.jsx)("input",{type:"text",value:n.gemstone_type,onChange:e=>f("gemstone_type",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Color"}),(0,_r.jsx)("input",{type:"text",value:n.color,onChange:e=>f("color",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Carat"}),(0,_r.jsx)("input",{type:"text",value:n.carat,onChange:e=>f("carat",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Dimensions"}),(0,_r.jsx)("input",{type:"text",value:n.dimensions,onChange:e=>f("dimensions",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Price Per Carat"}),(0,_r.jsx)("input",{type:"number",value:n.price_per_carat,onChange:e=>f("price_per_carat",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Total Price"}),(0,_r.jsx)("input",{type:"number",value:n.price,onChange:e=>f("price",e.target.value),className:"input-dark h-10 text-sm"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Description"}),(0,_r.jsx)("textarea",{value:n.description,onChange:e=>f("description",e.target.value),className:"input-dark h-20 text-sm resize-none"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Main Image URL *"}),(0,_r.jsx)("input",{type:"url",value:n.image_url,onChange:e=>f("image_url",e.target.value),className:"input-dark h-10 text-sm",placeholder:"https://..."})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Additional Images"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter image URL:");e&&s(t=>m(m({},t),{},{images:[...t.images,e]}))},className:"text-xs text-blue-400 hover:text-blue-300",children:"+ Add URL"})]}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-2",children:n.images.map((e,t)=>(0,_r.jsxs)("div",{className:"relative group",children:[(0,_r.jsx)("img",{src:e,alt:"",className:"w-12 h-12 object-cover"}),(0,_r.jsx)("button",{onClick:()=>x("images",t),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,_r.jsx)(Qr,{className:"w-2 h-2"})})]},t))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Videos"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter video URL:");e&&s(t=>m(m({},t),{},{videos:[...t.videos,e]}))},className:"text-xs text-blue-400 hover:text-blue-300",children:"+ Add URL"})]}),(0,_r.jsx)("div",{className:"space-y-1",children:n.videos.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 p-2 text-xs",children:[(0,_r.jsx)(ef,{className:"w-3 h-3 text-gray-500"}),(0,_r.jsx)("span",{className:"truncate flex-1 text-gray-400",children:e}),(0,_r.jsx)("button",{onClick:()=>x("videos",t),className:"text-red-400",children:(0,_r.jsx)(Qr,{className:"w-3 h-3"})})]},t))})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:n.gia_certified,onChange:e=>f("gia_certified",e.target.checked),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"GIA Certified"})]}),n.gia_certified&&(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-3 pl-7",children:[(0,_r.jsx)("input",{type:"text",value:n.gia_report_number,onChange:e=>f("gia_report_number",e.target.value),className:"input-dark h-9 text-sm",placeholder:"Report Number"}),(0,_r.jsx)("input",{type:"url",value:n.gia_report_image,onChange:e=>f("gia_report_image",e.target.value),className:"input-dark h-9 text-sm",placeholder:"Report Image URL"})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:n.name_your_price,onChange:e=>f("name_your_price",e.target.checked),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:'Enable "Name Your Price"'})]}),n.name_your_price&&(0,_r.jsx)("input",{type:"tel",value:n.name_your_price_phone,onChange:e=>f("name_your_price_phone",e.target.value),className:"input-dark h-9 text-sm ml-7",placeholder:"Phone for SMS notifications"})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:n.in_stock,onChange:e=>f("in_stock",e.target.checked),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"In Stock"})]})]})}),(0,_r.jsxs)("div",{className:"p-4 border-t border-white/10 flex items-center justify-between",children:[(0,_r.jsxs)("button",{onClick:()=>{if(i.length>0){const e=i.length-1;s(m({},i[e])),u(e)}},disabled:0===i.length,className:"btn-secondary flex items-center gap-2 disabled:opacity-30",children:[(0,_r.jsx)(cs,{className:"w-4 h-4"})," Back"]}),(0,_r.jsxs)("div",{className:"flex gap-3",children:[(0,_r.jsx)("button",{onClick:async()=>{h(!0);try{const e=[...i];if(n.title&&n.image_url&&e.push(m({},n)),0===e.length)return Qt.error("No items to add"),void h(!1);for(const t of e){const e=m(m({},t),{},{price_per_carat:t.price_per_carat?parseFloat(t.price_per_carat):null,price:t.price?parseFloat(t.price):null});await Xh.post("/admin/products",e)}Qt.success("".concat(e.length," product(s) added successfully!")),a(),t()}catch(e){Qt.error("Failed to add products")}finally{h(!1)}},disabled:p||0===i.length&&!n.title,className:"btn-primary px-8",children:p?"Adding...":"Done (".concat(i.length+(n.title?1:0)," items)")}),i.length<9&&(0,_r.jsxs)("button",{onClick:()=>{if(n.title&&n.image_url){if(null!==d){const e=[...i];e[d]=m({},n),l(e),u(null)}else l(e=>[...e,m({},n)]);i.length<9&&(s(m({},lf)),c(i.length+1))}else Qt.error("Title and Main Image URL are required")},className:"btn-secondary flex items-center gap-2",children:["Next ",(0,_r.jsx)(ds,{className:"w-4 h-4"})]})]})]})]})]})},cf=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(m({},lf)),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x()},[h]);const x=async()=>{try{const e=h?"?include_deleted=true":"",a=await Xh.get("/admin/products".concat(e));t(a)}catch(e){Qt.error("Failed to fetch products")}finally{n(!1)}},g=()=>{p(m({},lf)),d(null)},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(d(e),p(m(m({},e),{},{price_per_carat:e.price_per_carat||"",price:e.price||"",images:e.images||[],videos:e.videos||[],gia_report_number:e.gia_report_number||"",gia_report_image:e.gia_report_image||"",name_your_price_phone:e.name_your_price_phone||""}))):g(),i(!0)},b=(e,t)=>{p(a=>m(m({},a),{},{[e]:a[e].filter((e,a)=>a!==t)}))};return a?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl",children:"Products"}),(0,_r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer","data-testid":"show-deleted-products-toggle",children:[(0,_r.jsx)("input",{type:"checkbox",checked:h,onChange:e=>f(e.target.checked),className:"rounded border-white/20"}),"Show deleted"]}),(0,_r.jsxs)("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center gap-2",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"})," Bulk Add"]}),(0,_r.jsxs)("button",{onClick:()=>y(),className:"btn-primary flex items-center gap-2",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"})," Add Product"]})]})]}),(0,_r.jsx)("div",{className:"space-y-4",children:0===e.length?(0,_r.jsx)("div",{className:"gem-card p-8 text-center",children:(0,_r.jsx)("p",{className:"text-gray-500",children:"No products yet. Add your first product!"})}):e.map(e=>{var t;return(0,_r.jsxs)("div",{className:"gem-card p-4 flex gap-4 items-center ".concat(e.is_sold?"opacity-70":""," ").concat(e.is_deleted?"opacity-50 border border-red-500/20":""),"data-testid":"product-card-".concat(e.id),children:[(0,_r.jsxs)("div",{className:"relative",children:[(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-20 h-20 object-cover"}),e.is_sold&&(0,_r.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,_r.jsx)("span",{className:"text-red-400 text-xs font-bold tracking-widest",children:"SOLD"})}),e.is_deleted&&!e.is_sold&&(0,_r.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,_r.jsx)("span",{className:"text-red-400 text-xs font-bold tracking-widest",children:"DEL"})})]}),(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsx)("h3",{className:"title-sm text-lg truncate",children:e.title}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.category," \u2022 ",e.carat||"N/A"]}),(0,_r.jsxs)("p",{className:"text-sm font-mono",children:["$",(null===(t=e.price)||void 0===t?void 0:t.toLocaleString())||"No price"]}),(0,_r.jsxs)("div",{className:"flex gap-2 mt-1",children:[e.is_deleted&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5","data-testid":"badge-deleted",children:"DELETED"}),e.is_sold&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5","data-testid":"badge-sold",children:"SOLD"}),e.gia_certified&&(0,_r.jsx)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5",children:"GIA"}),e.name_your_price&&(0,_r.jsx)("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5",children:"Name Your Price"}),!e.in_stock&&!e.is_sold&&!e.is_deleted&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5",children:"Out of Stock"})]})]}),(0,_r.jsx)("div",{className:"flex gap-2",children:e.is_deleted?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("button",{onClick:()=>(async e=>{try{await Xh.post("/admin/products/".concat(e,"/restore")),Qt.success("Product restored"),await x()}catch(n){var t,a;Qt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to restore")}})(e.id),className:"p-2 hover:bg-white/10 rounded text-green-400",title:"Restore","data-testid":"restore-product-btn",children:(0,_r.jsx)(af,{className:"w-4 h-4"})}),(0,_r.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("PERMANENTLY delete this product? This cannot be undone."))try{await Xh.delete("/admin/products/".concat(e,"?hard=true")),Qt.success("Product permanently deleted"),await x()}catch(n){var t,a;Qt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to hard-delete")}})(e.id),className:"p-2 hover:bg-white/10 rounded text-red-400",title:"Permanently delete","data-testid":"hard-delete-product-btn",children:(0,_r.jsx)(Us,{className:"w-4 h-4"})})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("button",{onClick:()=>(async e=>{const t=!e.is_sold;try{await Xh.patch("/admin/products/".concat(e.id),{is_sold:t}),Qt.success(t?"Marked as SOLD":"Marked as available"),await x()}catch(a){Qt.error("Failed to update sold status")}})(e),className:"p-2 hover:bg-white/10 rounded ".concat(e.is_sold?"text-red-400":"text-gray-400"),title:e.is_sold?"Mark as available":"Mark as sold","data-testid":"toggle-sold-btn",children:(0,_r.jsx)(nf,{className:"w-4 h-4"})}),(0,_r.jsx)("button",{onClick:()=>y(e),className:"p-2 hover:bg-white/10 rounded",children:(0,_r.jsx)(rf,{className:"w-4 h-4 text-gray-400"})}),(0,_r.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this product? (soft-delete)"))try{await Xh.delete("/admin/products/".concat(e)),Qt.success("Product deleted"),await x()}catch(n){var t,a;const e=(null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to delete product";Qt.error(e)}})(e.id),className:"p-2 hover:bg-white/10 rounded",children:(0,_r.jsx)(Us,{className:"w-4 h-4 text-red-400"})})]})})]},e.id)})}),s&&(0,_r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4 overflow-y-auto",children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 w-full max-w-2xl my-8 relative",children:[(0,_r.jsxs)("div",{className:"sticky top-0 bg-[#0A0A0A] border-b border-white/10 p-4 flex items-center justify-between",children:[(0,_r.jsx)("h2",{className:"title-sm text-xl",children:c?"Edit Product":"Add Product"}),(0,_r.jsx)("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})})]}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=m(m({},u),{},{price_per_carat:u.price_per_carat?parseFloat(u.price_per_carat):null,price:u.price?parseFloat(u.price):null});c?(await Xh.patch("/admin/products/".concat(c.id),e),Qt.success("Product updated")):(await Xh.post("/admin/products",e),Qt.success("Product created")),i(!1),g(),await x()}catch(t){Qt.error("Failed to save product")}},className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"col-span-2",children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Title *"}),(0,_r.jsx)("input",{type:"text",value:u.title,onChange:e=>p(t=>m(m({},t),{},{title:e.target.value})),required:!0,className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Category"}),(0,_r.jsx)("select",{value:u.category,onChange:e=>p(t=>m(m({},t),{},{category:e.target.value})),className:"input-dark h-10 text-sm",children:sf.map(e=>(0,_r.jsx)("option",{value:e,children:e},e))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Gem Type"}),(0,_r.jsx)("input",{type:"text",value:u.gemstone_type,onChange:e=>p(t=>m(m({},t),{},{gemstone_type:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Color"}),(0,_r.jsx)("input",{type:"text",value:u.color,onChange:e=>p(t=>m(m({},t),{},{color:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Carat"}),(0,_r.jsx)("input",{type:"text",value:u.carat,onChange:e=>p(t=>m(m({},t),{},{carat:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Dimensions"}),(0,_r.jsx)("input",{type:"text",value:u.dimensions,onChange:e=>p(t=>m(m({},t),{},{dimensions:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Price Per Carat"}),(0,_r.jsx)("input",{type:"number",value:u.price_per_carat,onChange:e=>p(t=>m(m({},t),{},{price_per_carat:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Total Price"}),(0,_r.jsx)("input",{type:"number",value:u.price,onChange:e=>p(t=>m(m({},t),{},{price:e.target.value})),className:"input-dark h-10 text-sm"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Description"}),(0,_r.jsx)("textarea",{value:u.description,onChange:e=>p(t=>m(m({},t),{},{description:e.target.value})),className:"input-dark h-24 text-sm resize-none"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Main Image URL *"}),(0,_r.jsx)("input",{type:"url",value:u.image_url,onChange:e=>p(t=>m(m({},t),{},{image_url:e.target.value})),required:!0,className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Additional Images"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter image URL:");e&&p(t=>m(m({},t),{},{images:[...t.images,e]}))},className:"text-xs text-blue-400",children:"+ Add"})]}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-2",children:u.images.map((e,t)=>(0,_r.jsxs)("div",{className:"relative group",children:[(0,_r.jsx)("img",{src:e,alt:"",className:"w-16 h-16 object-cover"}),(0,_r.jsx)("button",{type:"button",onClick:()=>b("images",t),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,_r.jsx)(Qr,{className:"w-3 h-3"})})]},t))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Videos"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter video URL:");e&&p(t=>m(m({},t),{},{videos:[...t.videos,e]}))},className:"text-xs text-blue-400",children:"+ Add"})]}),(0,_r.jsx)("div",{className:"space-y-2",children:u.videos.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 p-2",children:[(0,_r.jsx)(ef,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-xs text-gray-400 truncate flex-1",children:e}),(0,_r.jsx)("button",{type:"button",onClick:()=>b("videos",t),className:"text-red-400",children:(0,_r.jsx)(Qr,{className:"w-4 h-4"})})]},t))})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-4",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:u.gia_certified,onChange:e=>p(t=>m(m({},t),{},{gia_certified:e.target.checked})),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"GIA Certified"})]}),u.gia_certified&&(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4 pl-7",children:[(0,_r.jsx)("input",{type:"text",value:u.gia_report_number,onChange:e=>p(t=>m(m({},t),{},{gia_report_number:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"Report Number"}),(0,_r.jsx)("input",{type:"url",value:u.gia_report_image,onChange:e=>p(t=>m(m({},t),{},{gia_report_image:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"Report Image URL"})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-4",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:u.name_your_price,onChange:e=>p(t=>m(m({},t),{},{name_your_price:e.target.checked})),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:'Enable "Name Your Price"'})]}),u.name_your_price&&(0,_r.jsx)("input",{type:"tel",value:u.name_your_price_phone,onChange:e=>p(t=>m(m({},t),{},{name_your_price_phone:e.target.value})),className:"input-dark h-10 text-sm ml-7",placeholder:"Phone for SMS"})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:u.in_stock,onChange:e=>p(t=>m(m({},t),{},{in_stock:e.target.checked})),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"In Stock"})]}),(0,_r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,_r.jsx)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancel"}),(0,_r.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:c?"Update":"Create"})]})]})]})}),l&&(0,_r.jsx)(of,{onClose:()=>o(!1),onComplete:x})]})},df=Kr("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),uf=["sapphire","tourmaline","emerald","aquamarine","garnet","other"],mf=["PAST","PRESENT"],pf={title:"",category:"sapphire",description:"",image_url:"",images:[],videos:[],gemstone_type:"",color:"",carat:"",dimensions:"",featured:!1,era:"",humble_beginnings:!1},hf=e=>{let{onClose:t,onComplete:a}=e;const[n,s]=(0,r.useState)(m({},pf)),[i,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),p=(e,t)=>{s(a=>m(m({},a),{},{[e]:t}))},h=(e,t)=>{s(a=>m(m({},a),{},{[e]:a[e].filter((e,a)=>a!==t)}))};return(0,_r.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/90 flex",children:[(0,_r.jsxs)("div",{className:"w-80 bg-[#0A0A0A] border-r border-white/10 flex flex-col",children:[(0,_r.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,_r.jsxs)("h3",{className:"font-semibold",children:["Saved Items (",i.length,"/",10,")"]})}),(0,_r.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:0===i.length?(0,_r.jsx)("p",{className:"text-gray-600 text-sm text-center py-4",children:"No items saved yet"}):i.map((e,t)=>(0,_r.jsxs)("div",{className:"p-3 border ".concat(o===t?"border-white bg-white/10":"border-white/10"),children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(hm,{className:"w-4 h-4 text-green-400"}),(0,_r.jsx)("span",{className:"text-sm truncate flex-1",children:e.title})]}),(0,_r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.category})]},t))})]}),(0,_r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,_r.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"title-sm text-xl",children:"Bulk Add Gallery Items"}),(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:null!==o?"Editing #".concat(o+1):"Adding #".concat(i.length+1)})]}),(0,_r.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-6 h-6"})})]}),(0,_r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,_r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"col-span-2",children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Title *"}),(0,_r.jsx)("input",{type:"text",value:n.title,onChange:e=>p("title",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Category"}),(0,_r.jsx)("select",{value:n.category,onChange:e=>p("category",e.target.value),className:"input-dark h-10 text-sm",children:uf.map(e=>(0,_r.jsx)("option",{value:e,children:e},e))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Era"}),(0,_r.jsxs)("select",{value:n.era||"",onChange:e=>p("era",e.target.value||null),className:"input-dark h-10 text-sm",children:[(0,_r.jsx)("option",{value:"",children:"None"}),mf.map(e=>(0,_r.jsx)("option",{value:e,children:e},e))]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Gem Type"}),(0,_r.jsx)("input",{type:"text",value:n.gemstone_type,onChange:e=>p("gemstone_type",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Color"}),(0,_r.jsx)("input",{type:"text",value:n.color,onChange:e=>p("color",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Carat"}),(0,_r.jsx)("input",{type:"text",value:n.carat,onChange:e=>p("carat",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Dimensions"}),(0,_r.jsx)("input",{type:"text",value:n.dimensions,onChange:e=>p("dimensions",e.target.value),className:"input-dark h-10 text-sm"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Description"}),(0,_r.jsx)("textarea",{value:n.description,onChange:e=>p("description",e.target.value),className:"input-dark h-20 text-sm resize-none"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Main Image URL *"}),(0,_r.jsx)("input",{type:"url",value:n.image_url,onChange:e=>p("image_url",e.target.value),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Additional Images"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter image URL:");e&&s(t=>m(m({},t),{},{images:[...t.images,e]}))},className:"text-xs text-blue-400",children:"+ Add"})]}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-2",children:n.images.map((e,t)=>(0,_r.jsxs)("div",{className:"relative group",children:[(0,_r.jsx)("img",{src:e,alt:"",className:"w-12 h-12 object-cover"}),(0,_r.jsx)("button",{onClick:()=>h("images",t),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,_r.jsx)(Qr,{className:"w-2 h-2"})})]},t))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Videos"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter video URL:");e&&s(t=>m(m({},t),{},{videos:[...t.videos,e]}))},className:"text-xs text-blue-400",children:"+ Add"})]}),(0,_r.jsx)("div",{className:"space-y-1",children:n.videos.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 p-2 text-xs",children:[(0,_r.jsx)(ef,{className:"w-3 h-3 text-gray-500"}),(0,_r.jsx)("span",{className:"truncate flex-1 text-gray-400",children:e}),(0,_r.jsx)("button",{onClick:()=>h("videos",t),className:"text-red-400",children:(0,_r.jsx)(Qr,{className:"w-3 h-3"})})]},t))})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:n.featured,onChange:e=>p("featured",e.target.checked),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"Featured on Homepage"})]})]})}),(0,_r.jsxs)("div",{className:"p-4 border-t border-white/10 flex items-center justify-between",children:[(0,_r.jsxs)("button",{onClick:()=>{if(i.length>0){const e=i.length-1;s(m({},i[e])),c(e)}},disabled:0===i.length,className:"btn-secondary flex items-center gap-2 disabled:opacity-30",children:[(0,_r.jsx)(cs,{className:"w-4 h-4"})," Back"]}),(0,_r.jsxs)("div",{className:"flex gap-3",children:[(0,_r.jsx)("button",{onClick:async()=>{u(!0);try{const e=[...i];if(n.title&&n.image_url&&e.push(m({},n)),0===e.length)return Qt.error("No items to add"),void u(!1);for(const t of e)await Xh.post("/admin/gallery",t);Qt.success("".concat(e.length," gallery item(s) added!")),a(),t()}catch(e){Qt.error("Failed to add items")}finally{u(!1)}},disabled:d||0===i.length&&!n.title,className:"btn-primary px-8",children:d?"Adding...":"Done (".concat(i.length+(n.title?1:0)," items)")}),i.length<9&&(0,_r.jsxs)("button",{onClick:()=>{if(n.title&&n.image_url){if(null!==o){const e=[...i];e[o]=m({},n),l(e),c(null)}else l(e=>[...e,m({},n)]);i.length<9&&s(m({},pf))}else Qt.error("Title and Main Image URL are required")},className:"btn-secondary flex items-center gap-2",children:["Next ",(0,_r.jsx)(ds,{className:"w-4 h-4"})]})]})]})]})]})},ff=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(m({},pf));(0,r.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=await Xh.get("/admin/gallery");t(e)}catch(e){Qt.error("Failed to fetch gallery")}finally{n(!1)}},f=()=>{p(m({},pf)),d(null)},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(d(e),p(m(m({},e),{},{images:e.images||[],videos:e.videos||[]}))):f(),i(!0)},g=(e,t)=>{p(a=>m(m({},a),{},{[e]:a[e].filter((e,a)=>a!==t)}))};return a?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl",children:"Gallery"}),(0,_r.jsxs)("div",{className:"flex gap-3",children:[(0,_r.jsxs)("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center gap-2",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"})," Bulk Add"]}),(0,_r.jsxs)("button",{onClick:()=>x(),className:"btn-primary flex items-center gap-2",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"})," Add Item"]})]})]}),(0,_r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:0===e.length?(0,_r.jsx)("div",{className:"col-span-full gem-card p-8 text-center",children:(0,_r.jsx)("p",{className:"text-gray-500",children:"No gallery items yet."})}):e.map(e=>(0,_r.jsxs)("div",{className:"gem-card group relative overflow-hidden",children:[(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"aspect-square object-cover"}),e.featured&&(0,_r.jsx)("div",{className:"absolute top-2 left-2",children:(0,_r.jsx)(df,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})}),(0,_r.jsxs)("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[(0,_r.jsx)("p",{className:"text-xs text-gray-400 uppercase",children:e.category}),(0,_r.jsx)("p",{className:"title-sm text-sm truncate",children:e.title}),(0,_r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,_r.jsx)("button",{onClick:()=>x(e),className:"flex-1 py-2 bg-white/20 hover:bg-white/30 text-xs",children:"Edit"}),(0,_r.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this gallery item?"))try{await Xh.delete("/admin/gallery/".concat(e)),Qt.success("Gallery item deleted"),await h()}catch(t){Qt.error("Failed to delete gallery item")}})(e.id),className:"flex-1 py-2 bg-red-500/20 hover:bg-red-500/30 text-xs text-red-400",children:"Delete"})]})]})]},e.id))}),s&&(0,_r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4 overflow-y-auto",children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 w-full max-w-2xl my-8 relative",children:[(0,_r.jsxs)("div",{className:"sticky top-0 bg-[#0A0A0A] border-b border-white/10 p-4 flex items-center justify-between",children:[(0,_r.jsxs)("h2",{className:"title-sm text-xl",children:[c?"Edit":"Add"," Gallery Item"]}),(0,_r.jsx)("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})})]}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{c?(await Xh.patch("/admin/gallery/".concat(c.id),u),Qt.success("Gallery item updated")):(await Xh.post("/admin/gallery",u),Qt.success("Gallery item created")),i(!1),f(),await h()}catch(t){Qt.error("Failed to save gallery item")}},className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"col-span-2",children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Title *"}),(0,_r.jsx)("input",{type:"text",value:u.title,onChange:e=>p(t=>m(m({},t),{},{title:e.target.value})),required:!0,className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Category"}),(0,_r.jsx)("select",{value:u.category,onChange:e=>p(t=>m(m({},t),{},{category:e.target.value})),className:"input-dark h-10 text-sm",children:uf.map(e=>(0,_r.jsx)("option",{value:e,children:e},e))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Era"}),(0,_r.jsxs)("select",{value:u.era||"",onChange:e=>p(t=>m(m({},t),{},{era:e.target.value||null})),className:"input-dark h-10 text-sm","data-testid":"era-select-inline",children:[(0,_r.jsx)("option",{value:"",children:"None"}),mf.map(e=>(0,_r.jsx)("option",{value:e,children:e},e))]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Gem Type"}),(0,_r.jsx)("input",{type:"text",value:u.gemstone_type,onChange:e=>p(t=>m(m({},t),{},{gemstone_type:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Color"}),(0,_r.jsx)("input",{type:"text",value:u.color,onChange:e=>p(t=>m(m({},t),{},{color:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Carat"}),(0,_r.jsx)("input",{type:"text",value:u.carat,onChange:e=>p(t=>m(m({},t),{},{carat:e.target.value})),className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Dimensions"}),(0,_r.jsx)("input",{type:"text",value:u.dimensions,onChange:e=>p(t=>m(m({},t),{},{dimensions:e.target.value})),className:"input-dark h-10 text-sm"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Description"}),(0,_r.jsx)("textarea",{value:u.description,onChange:e=>p(t=>m(m({},t),{},{description:e.target.value})),className:"input-dark h-24 text-sm resize-none"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Main Image URL *"}),(0,_r.jsx)("input",{type:"url",value:u.image_url,onChange:e=>p(t=>m(m({},t),{},{image_url:e.target.value})),required:!0,className:"input-dark h-10 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Additional Images"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter image URL:");e&&p(t=>m(m({},t),{},{images:[...t.images,e]}))},className:"text-xs text-blue-400",children:"+ Add"})]}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-2",children:u.images.map((e,t)=>(0,_r.jsxs)("div",{className:"relative group",children:[(0,_r.jsx)("img",{src:e,alt:"",className:"w-16 h-16 object-cover"}),(0,_r.jsx)("button",{type:"button",onClick:()=>g("images",t),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,_r.jsx)(Qr,{className:"w-3 h-3"})})]},t))})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Videos"}),(0,_r.jsx)("button",{type:"button",onClick:()=>{const e=prompt("Enter video URL:");e&&p(t=>m(m({},t),{},{videos:[...t.videos,e]}))},className:"text-xs text-blue-400",children:"+ Add"})]}),(0,_r.jsx)("div",{className:"space-y-2",children:u.videos.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 p-2",children:[(0,_r.jsx)(ef,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-xs text-gray-400 truncate flex-1",children:e}),(0,_r.jsx)("button",{type:"button",onClick:()=>g("videos",t),className:"text-red-400",children:(0,_r.jsx)(Qr,{className:"w-4 h-4"})})]},t))})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:u.featured,onChange:e=>p(t=>m(m({},t),{},{featured:e.target.checked})),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"Featured on Homepage"})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:u.humble_beginnings,onChange:e=>p(t=>m(m({},t),{},{humble_beginnings:e.target.checked})),className:"w-4 h-4","data-testid":"humble-beginnings-checkbox"}),(0,_r.jsxs)("span",{className:"text-sm",children:["Humble Beginnings ",(0,_r.jsx)("span",{className:"text-gray-500",children:"(Exclusive collection for eligible members)"})]})]}),(0,_r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,_r.jsx)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancel"}),(0,_r.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:c?"Update":"Create"})]})]})]})}),l&&(0,_r.jsx)(hf,{onClose:()=>o(!1),onComplete:h})]})},xf=Kr("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),gf=Kr("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),yf={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,bf=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)({gem_name:"",subtitle:"",color:"#4a6fa5",before_image:"",after_image:"",timeline_images:["","","","","","","",""]}),[u,p]=(0,r.useState)(""),[h,f]=(0,r.useState)("");(0,r.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=localStorage.getItem("adminToken"),a=await Sr.get("".concat(yf,"/api/admin/journeys"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data)}catch(Sx){p("Failed to fetch journeys")}finally{n(!1)}},g=()=>{d({gem_name:"",subtitle:"",color:"#4a6fa5",before_image:"",after_image:"",timeline_images:["","","","","","","",""]}),o(null),i(!1)};return(0,_r.jsx)(Vh,{children:(0,_r.jsxs)("div",{className:"p-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"text-2xl font-light text-white mb-1",children:"Journey Stories"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Manage gem transformation journeys"})]}),(0,_r.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-black px-4 py-2 rounded transition-colors","data-testid":"add-journey-btn",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"}),"Add Journey"]})]}),u&&(0,_r.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded mb-6",children:u}),h&&(0,_r.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-3 rounded mb-6",children:h}),s&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,_r.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,_r.jsx)("h2",{className:"text-lg font-light text-white",children:l?"Edit Journey":"Add New Journey"}),(0,_r.jsx)("button",{onClick:g,className:"text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})})]}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(""),f("");const t=c.timeline_images.filter(e=>""!==e.trim()),a={gem_name:c.gem_name,subtitle:c.subtitle,color:c.color,before_image:c.before_image,after_image:c.after_image,timeline_images:t};try{const e=localStorage.getItem("adminToken");l?(await Sr.patch("".concat(yf,"/api/admin/journeys/").concat(l.id),a,{headers:{Authorization:"Bearer ".concat(e)}}),f("Journey updated successfully")):(await Sr.post("".concat(yf,"/api/admin/journeys"),a,{headers:{Authorization:"Bearer ".concat(e)}}),f("Journey created successfully")),x(),g()}catch(Sx){var n,r;p((null===(n=Sx.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to save journey")}},className:"p-6 space-y-6",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Gem Name *"}),(0,_r.jsx)("input",{type:"text",value:c.gem_name,onChange:e=>d(m(m({},c),{},{gem_name:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white",placeholder:"e.g., Montana Sapphire",required:!0,"data-testid":"journey-gem-name"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Accent Color"}),(0,_r.jsx)("input",{type:"color",value:c.color,onChange:e=>d(m(m({},c),{},{color:e.target.value})),className:"w-full h-10 bg-white/5 border border-white/10 rounded cursor-pointer","data-testid":"journey-color"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Subtitle *"}),(0,_r.jsx)("input",{type:"text",value:c.subtitle,onChange:e=>d(m(m({},c),{},{subtitle:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white",placeholder:"e.g., From Rough to Radiant",required:!0,"data-testid":"journey-subtitle"})]}),(0,_r.jsxs)("div",{className:"border-t border-white/10 pt-6",children:[(0,_r.jsx)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Slider Thumbnail Images"}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Before Image URL (Left) *"}),(0,_r.jsx)("input",{type:"url",value:c.before_image,onChange:e=>d(m(m({},c),{},{before_image:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white text-sm",placeholder:"https://...",required:!0,"data-testid":"journey-before-image"}),c.before_image&&(0,_r.jsx)("img",{src:c.before_image,alt:"Before",className:"mt-2 h-20 w-20 object-cover rounded"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"After Image URL (Right) *"}),(0,_r.jsx)("input",{type:"url",value:c.after_image,onChange:e=>d(m(m({},c),{},{after_image:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white text-sm",placeholder:"https://...",required:!0,"data-testid":"journey-after-image"}),c.after_image&&(0,_r.jsx)("img",{src:c.after_image,alt:"After",className:"mt-2 h-20 w-20 object-cover rounded"})]})]})]}),(0,_r.jsxs)("div",{className:"border-t border-white/10 pt-6",children:[(0,_r.jsx)("h3",{className:"text-sm uppercase tracking-widest text-gray-500 mb-4",children:"Timeline Images (up to 8)"}),(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:c.timeline_images.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)("span",{className:"text-amber-400 text-sm w-4",children:t+1}),(0,_r.jsx)("input",{type:"url",value:e,onChange:e=>((e,t)=>{const a=[...c.timeline_images];a[e]=t,d(m(m({},c),{},{timeline_images:a}))})(t,e.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm",placeholder:"Image ".concat(t+1," URL"),"data-testid":"journey-timeline-".concat(t)}),e&&(0,_r.jsx)("img",{src:e,alt:"Step ".concat(t+1),className:"h-8 w-8 object-cover rounded"})]},t))})]}),(0,_r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/10",children:[(0,_r.jsx)("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,_r.jsxs)("button",{type:"submit",className:"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-black px-6 py-2 rounded transition-colors","data-testid":"save-journey-btn",children:[(0,_r.jsx)(xf,{className:"w-4 h-4"}),l?"Update":"Create"]})]})]})]})}),a?(0,_r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):0===e.length?(0,_r.jsxs)("div",{className:"text-center py-12 bg-white/5 rounded-lg",children:[(0,_r.jsx)(rs,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"No journeys yet. Add your first gem transformation story!"})]}):(0,_r.jsx)("div",{className:"grid gap-4",children:e.map(e=>{var t;return(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 flex items-center gap-4","data-testid":"journey-item-".concat(e.id),children:[(0,_r.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,_r.jsx)("img",{src:e.before_image,alt:"Before",className:"w-16 h-16 object-cover rounded"}),(0,_r.jsx)(ss,{className:"w-4 h-4 text-amber-400"}),(0,_r.jsx)("img",{src:e.after_image,alt:"After",className:"w-16 h-16 object-cover rounded"})]}),(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsx)("h3",{className:"text-white font-medium",children:e.gem_name}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm truncate",children:e.subtitle}),(0,_r.jsxs)("p",{className:"text-gray-600 text-xs mt-1",children:[(null===(t=e.timeline_images)||void 0===t?void 0:t.length)||0," timeline images"]})]}),(0,_r.jsx)("div",{className:"w-6 h-6 rounded-full shrink-0",style:{backgroundColor:e.color},title:"Accent color"}),(0,_r.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,_r.jsx)("button",{onClick:()=>(e=>{const t=[...e.timeline_images||[]];for(;t.length<8;)t.push("");d({gem_name:e.gem_name,subtitle:e.subtitle,color:e.color,before_image:e.before_image,after_image:e.after_image,timeline_images:t}),o(e),i(!0)})(e),className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded transition-colors","data-testid":"edit-journey-".concat(e.id),children:(0,_r.jsx)(gf,{className:"w-4 h-4"})}),(0,_r.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this journey?"))try{const t=localStorage.getItem("adminToken");await Sr.delete("".concat(yf,"/api/admin/journeys/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),f("Journey deleted successfully"),x()}catch(Sx){p("Failed to delete journey")}})(e.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors","data-testid":"delete-journey-".concat(e.id),children:(0,_r.jsx)(Us,{className:"w-4 h-4"})})]})]},e.id)})})]})})},vf={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,wf=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)({title:"",description:"",image_url:"",category:""}),[u,p]=(0,r.useState)(""),[h,f]=(0,r.useState)("");(0,r.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=localStorage.getItem("adminToken"),a=await Sr.get("".concat(vf,"/api/admin/designs"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data)}catch(Sx){p("Failed to fetch designs")}finally{n(!1)}},g=()=>{d({title:"",description:"",image_url:"",category:""}),o(null),i(!1)};return(0,_r.jsx)(Vh,{children:(0,_r.jsxs)("div",{className:"p-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"text-2xl font-light text-white mb-1",children:"Cutting Designs"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Manage cutting diagrams and design patterns"})]}),(0,_r.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-black px-4 py-2 rounded transition-colors","data-testid":"add-design-btn",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"}),"Add Design"]})]}),u&&(0,_r.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded mb-6",children:u}),h&&(0,_r.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-3 rounded mb-6",children:h}),s&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg w-full max-w-lg",children:[(0,_r.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,_r.jsx)("h2",{className:"text-lg font-light text-white",children:l?"Edit Design":"Add New Design"}),(0,_r.jsx)("button",{onClick:g,className:"text-gray-500 hover:text-white",children:(0,_r.jsx)(Qr,{className:"w-5 h-5"})})]}),(0,_r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(""),f("");try{const e=localStorage.getItem("adminToken");l?(await Sr.patch("".concat(vf,"/api/admin/designs/").concat(l.id),c,{headers:{Authorization:"Bearer ".concat(e)}}),f("Design updated successfully")):(await Sr.post("".concat(vf,"/api/admin/designs"),c,{headers:{Authorization:"Bearer ".concat(e)}}),f("Design created successfully")),x(),g()}catch(Sx){var t,a;p((null===(t=Sx.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to save design")}},className:"p-6 space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Title *"}),(0,_r.jsx)("input",{type:"text",value:c.title,onChange:e=>d(m(m({},c),{},{title:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white",placeholder:"e.g., Portuguese Round",required:!0,"data-testid":"design-title"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Category"}),(0,_r.jsx)("input",{type:"text",value:c.category,onChange:e=>d(m(m({},c),{},{category:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white",placeholder:"e.g., Round Cuts, Fancy Cuts","data-testid":"design-category"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Image URL *"}),(0,_r.jsx)("input",{type:"url",value:c.image_url,onChange:e=>d(m(m({},c),{},{image_url:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white",placeholder:"https://...",required:!0,"data-testid":"design-image-url"}),c.image_url&&(0,_r.jsx)("img",{src:c.image_url,alt:"Preview",className:"mt-2 h-24 w-24 object-cover rounded"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Description"}),(0,_r.jsx)("textarea",{value:c.description,onChange:e=>d(m(m({},c),{},{description:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-4 py-2 text-white h-24 resize-none",placeholder:"Optional description of the cutting design...","data-testid":"design-description"})]}),(0,_r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/10",children:[(0,_r.jsx)("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,_r.jsxs)("button",{type:"submit",className:"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-black px-6 py-2 rounded transition-colors","data-testid":"save-design-btn",children:[(0,_r.jsx)(xf,{className:"w-4 h-4"}),l?"Update":"Create"]})]})]})]})}),a?(0,_r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):0===e.length?(0,_r.jsxs)("div",{className:"text-center py-12 bg-white/5 rounded-lg",children:[(0,_r.jsx)(os,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"No designs yet. Add your first cutting design!"})]}):(0,_r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden","data-testid":"design-item-".concat(e.id),children:[(0,_r.jsx)("div",{className:"aspect-square bg-black",children:(0,_r.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),(0,_r.jsxs)("div",{className:"p-4",children:[(0,_r.jsx)("h3",{className:"text-white font-medium mb-1",children:e.title}),e.category&&(0,_r.jsx)("p",{className:"text-amber-400 text-xs uppercase tracking-widest mb-2",children:e.category}),e.description&&(0,_r.jsx)("p",{className:"text-gray-500 text-sm line-clamp-2",children:e.description})]}),(0,_r.jsxs)("div",{className:"flex border-t border-white/10",children:[(0,_r.jsxs)("button",{onClick:()=>(e=>{d({title:e.title,description:e.description||"",image_url:e.image_url,category:e.category||""}),o(e),i(!0)})(e),className:"flex-1 flex items-center justify-center gap-2 p-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors","data-testid":"edit-design-".concat(e.id),children:[(0,_r.jsx)(gf,{className:"w-4 h-4"}),"Edit"]}),(0,_r.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this design?"))try{const t=localStorage.getItem("adminToken");await Sr.delete("".concat(vf,"/api/admin/designs/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),f("Design deleted successfully"),x()}catch(Sx){p("Failed to delete design")}})(e.id),className:"flex-1 flex items-center justify-center gap-2 p-3 text-gray-400 hover:text-red-400 hover:bg-red-500/10 transition-colors border-l border-white/10","data-testid":"delete-design-".concat(e.id),children:[(0,_r.jsx)(Us,{className:"w-4 h-4"}),"Delete"]})]})]},e.id))})]})})},jf=Kr("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Nf=e=>{let{item:t,domain:a,onDelete:n,onRestore:s,onPurge:i}=e;const[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)("");return t.is_deleted?(0,_r.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:[(0,_r.jsxs)("span",{className:"text-xs text-red-400 mr-2",children:["Deleted",t.deleted_at?" on ".concat(new Date(t.deleted_at).toLocaleDateString()):""]}),(0,_r.jsxs)("button",{onClick:()=>s(a,t.id),className:"text-xs px-3 py-1 bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors","data-testid":"restore-".concat(t.id),children:[(0,_r.jsx)(af,{className:"w-3 h-3 inline mr-1"}),"Restore"]}),l?(0,_r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,_r.jsx)("input",{value:c,onChange:e=>d(e.target.value),placeholder:'Type "PURGE"',className:"text-xs px-2 py-1 bg-black border border-red-500/50 text-white w-24"}),(0,_r.jsx)("button",{disabled:"PURGE"!==c,onClick:()=>{i(a,t.id),o(!1)},className:"text-xs px-2 py-1 bg-red-600 text-white disabled:opacity-30","data-testid":"purge-confirm-".concat(t.id),children:"Confirm"}),(0,_r.jsx)("button",{onClick:()=>{o(!1),d("")},className:"text-xs px-2 py-1 text-gray-400",children:"Cancel"})]}):(0,_r.jsxs)("button",{onClick:()=>o(!0),className:"text-xs px-3 py-1 bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors","data-testid":"purge-btn-".concat(t.id),children:[(0,_r.jsx)(jf,{className:"w-3 h-3 inline mr-1"}),"Purge"]})]}):(0,_r.jsx)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:(0,_r.jsxs)("button",{onClick:()=>n(a,t.id),className:"text-xs px-3 py-1 bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors","data-testid":"delete-".concat(t.id),children:[(0,_r.jsx)(Us,{className:"w-3 h-3 inline mr-1"}),"Delete"]})})},kf=e=>{let{item:t,type:a,children:n,productData:s,domain:i,onDelete:l,onRestore:o,onPurge:c}=e;const[d,u]=(0,r.useState)(!1);return(0,_r.jsxs)("div",{className:"gem-card overflow-hidden ".concat(t.is_deleted?"opacity-60 border-red-500/30":""),"data-testid":"inquiry-card-".concat(t.id),children:[(0,_r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>u(!d),children:(0,_r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_r.jsx)("h3",{className:"font-semibold",children:t.name}),t.is_deleted&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5",children:"DELETED"}),"nyp"===a&&(0,_r.jsx)("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5",children:"NAME YOUR PRICE"}),"sell"===a&&(0,_r.jsx)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5",children:"SELL INQUIRY"})]}),"booking"===a&&(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:[t.service," - ",t.stone_type]}),"product"===a&&(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:["Re: ",t.product_title]}),"sell"===a&&(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:["Asking: $",t.asking_price," ",t.negotiable&&"(Negotiable)"]}),"nyp"===a&&(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:["Re: ",t.product_title," - Offered: ",(0,_r.jsxs)("span",{className:"text-green-400 font-mono",children:["$",t.price]})]}),(0,_r.jsxs)("p",{className:"text-xs text-gray-600 mt-1 flex items-center gap-1",children:[(0,_r.jsx)(th,{className:"w-3 h-3"})," ",(m=t.created_at,new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}))]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[t.status&&(0,_r.jsx)("span",{className:"text-xs px-2 py-1 ".concat("completed"===t.status?"bg-green-500/20 text-green-400":"pending"===t.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"),children:t.status}),d?(0,_r.jsx)(pm,{className:"w-5 h-5 text-gray-500"}):(0,_r.jsx)(mm,{className:"w-5 h-5 text-gray-500"})]})]})}),d&&(0,_r.jsxs)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4 space-y-4",children:[n,"nyp"===a&&s&&(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,_r.jsx)(eh,{className:"w-4 h-4"}),(0,_r.jsx)("span",{children:"Product Information"})]}),(0,_r.jsxs)("div",{className:"flex gap-4",children:[s.image_url&&(0,_r.jsx)("img",{src:s.image_url,alt:s.title,className:"w-20 h-20 object-cover"}),(0,_r.jsxs)("div",{className:"flex-1 space-y-1 text-sm",children:[(0,_r.jsx)("p",{className:"font-semibold",children:s.title}),(0,_r.jsx)("p",{className:"text-gray-500",children:s.category}),s.price&&(0,_r.jsxs)("p",{className:"text-gray-400",children:["Listed: ",(0,_r.jsxs)("span",{className:"text-white font-mono",children:["$",s.price.toLocaleString()]})]})]})]})]}),(0,_r.jsx)(Nf,{item:t,domain:i,onDelete:l,onRestore:o,onPurge:c})]})]});var m},Sf=()=>{const[e,t]=(0,r.useState)("bookings"),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)({bookings:[],productInquiries:[],sellInquiries:[],nameYourPrice:[]}),[l,o]=(0,r.useState)({}),[c,d]=(0,r.useState)(!0),u=(0,r.useCallback)(async()=>{try{const e=a?"?include_deleted=true":"",[t,n,r,s,l]=await Promise.all([Xh.get("/admin/bookings".concat(e)),Xh.get("/admin/product-inquiries".concat(e)),Xh.get("/admin/sell-inquiries".concat(e)),Xh.get("/admin/name-your-price-inquiries".concat(e)),Xh.get("/admin/products")]),c={};l.forEach(e=>{c[e.id]=e}),o(c),i({bookings:t,productInquiries:n,sellInquiries:r,nameYourPrice:s})}catch(e){console.error("Failed to fetch inquiries:",e)}finally{d(!1)}},[a]);(0,r.useEffect)(()=>{u()},[u]);const m=async(e,t)=>{if(window.confirm("Are you sure you want to delete this record?"))try{await Xh.post("/admin/".concat(e,"/").concat(t,"/delete"),{}),u()}catch(kx){console.error("Delete failed:",kx)}},p=async(e,t)=>{try{await Xh.post("/admin/".concat(e,"/").concat(t,"/restore")),u()}catch(kx){console.error("Restore failed:",kx)}},h=async(e,t)=>{try{await Xh.delete("/admin/".concat(e,"/").concat(t,"?hard=true")),u()}catch(kx){console.error("Purge failed:",kx)}},f=[{id:"bookings",label:"Bookings",icon:th,count:s.bookings.length},{id:"product",label:"Product Inquiries",icon:Vs,count:s.productInquiries.length},{id:"sell",label:"Sell Inquiries",icon:Jp,count:s.sellInquiries.length},{id:"nyp",label:"Name Your Price",icon:nf,count:s.nameYourPrice.length}],x={bookings:"bookings",product:"product-inquiries",sell:"sell-inquiries",nyp:"nyp-inquiries"};if(c)return(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})});const g=(t,a)=>0===t.length?(0,_r.jsxs)("div",{className:"gem-card p-8 text-center text-gray-500",children:["No ",a," yet"]}):t.map(t=>(0,_r.jsxs)(kf,{item:t,type:a,domain:x[e],productData:"nyp"===a?l[t.product_id]:null,onDelete:m,onRestore:p,onPurge:h,children:["booking"===a&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name"}),(0,_r.jsx)("p",{children:t.name})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email"}),(0,_r.jsxs)("a",{href:"mailto:".concat(t.email),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(Bh,{className:"w-3 h-3"})," ",t.email]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Phone"}),(0,_r.jsxs)("a",{href:"tel:".concat(t.phone),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(Ws,{className:"w-3 h-3"})," ",t.phone]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Service"}),(0,_r.jsx)("p",{className:"capitalize",children:t.service})]})]}),t.description&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Description"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm bg-white/5 p-3",children:t.description})]})]}),"product"===a&&(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name"}),(0,_r.jsx)("p",{children:t.name})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email"}),(0,_r.jsxs)("a",{href:"mailto:".concat(t.email),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(Bh,{className:"w-3 h-3"})," ",t.email]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Product"}),(0,_r.jsx)("p",{children:t.product_title})]}),t.is_offer&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Offer"}),(0,_r.jsxs)("p",{className:"text-green-400 font-mono",children:["$",t.offer_price]})]})]}),"sell"===a&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name"}),(0,_r.jsx)("p",{children:t.name})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email"}),(0,_r.jsxs)("a",{href:"mailto:".concat(t.email),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(Bh,{className:"w-3 h-3"})," ",t.email]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Asking Price"}),(0,_r.jsxs)("p",{className:"font-mono",children:["$",t.asking_price]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Negotiable"}),(0,_r.jsx)("p",{children:t.negotiable?"Yes":"No"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Description"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm bg-white/5 p-3",children:t.description})]})]}),"nyp"===a&&(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name"}),(0,_r.jsx)("p",{children:t.name})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Phone"}),(0,_r.jsxs)("a",{href:"tel:".concat(t.phone),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(Ws,{className:"w-3 h-3"})," ",t.phone]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Product"}),(0,_r.jsx)("p",{children:t.product_title})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Offered Price"}),(0,_r.jsxs)("p",{className:"text-green-400 font-mono text-xl",children:["$",t.price]})]})]})]},t.id));return(0,_r.jsxs)("div",{"data-testid":"admin-inquiries-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl",children:"Inquiries"}),(0,_r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer","data-testid":"show-deleted-toggle",children:[(0,_r.jsx)("input",{type:"checkbox",checked:a,onChange:e=>n(e.target.checked),className:"rounded border-white/20"}),"Show deleted"]})]}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:f.map(a=>(0,_r.jsxs)("button",{onClick:()=>t(a.id),className:"flex items-center gap-2 px-4 py-2 text-sm transition-colors ".concat(e===a.id?"bg-white text-black":"text-gray-500 hover:text-white border border-white/10"),"data-testid":"tab-".concat(a.id),children:[(0,_r.jsx)(a.icon,{className:"w-4 h-4"}),a.label,(0,_r.jsxs)("span",{className:"ml-1 text-xs opacity-70",children:["(",a.count,")"]})]},a.id))}),(0,_r.jsxs)("div",{className:"space-y-4",children:["bookings"===e&&g(s.bookings,"booking"),"product"===e&&g(s.productInquiries,"product"),"sell"===e&&g(s.sellInquiries,"sell"),"nyp"===e&&g(s.nameYourPrice,"nyp")]})]})},_f=Kr("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Cf=Kr("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ef=Kr("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]),Tf={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,Pf=e=>{var t,a,n,s,i,l,o,c,d,u,m,p,h,f,x,g,y,b,v,w;let{user:j,expanded:N,onToggle:k,onUserUpdate:S,unreadCount:_,onMessagesRead:C}=e;const[E,T]=(0,r.useState)(null),[P,A]=(0,r.useState)(!1),[R,O]=(0,r.useState)(!1),[L,D]=(0,r.useState)(!1),[I,F]=(0,r.useState)(!1),[M,z]=(0,r.useState)(!1),[U,B]=(0,r.useState)(!1),[q,H]=(0,r.useState)(j.nyp_override_note||""),[W,V]=(0,r.useState)(!1),[K,$]=(0,r.useState)(""),[Y,G]=(0,r.useState)(""),[Q,X]=(0,r.useState)(!1),J=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",Z=async()=>{if(!E){A(!0);try{const e=await Xh.get("/admin/users/".concat(j.id,"/details"));if(T(e),_>0)try{const e=localStorage.getItem("adminToken");await Sr.patch("".concat(Tf,"/api/admin/users/").concat(j.id,"/messages/mark-read"),{},{headers:{Authorization:"Bearer ".concat(e)}}),C&&C(j.id)}catch(Sx){console.error("Failed to mark messages as read:",Sx)}}catch(e){console.error("Failed to fetch user details:",e)}finally{A(!1)}}},ee=j.is_deleted,te=j.purchase_blocked;return(0,_r.jsxs)("div",{className:"gem-card overflow-hidden","data-testid":"user-card-".concat(j.id),children:[(0,_r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{N||Z(),k()},children:(0,_r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,_r.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:(0,_r.jsx)("span",{className:"title-sm text-lg",children:(null===(t=j.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"?"})}),(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsx)("h3",{className:"font-semibold",children:j.name}),(0,_r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500",children:[(0,_r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,_r.jsx)(Bh,{className:"w-3 h-3"})," ",j.email]}),j.phone&&(0,_r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,_r.jsx)(Ws,{className:"w-3 h-3"})," ",j.phone]}),(0,_r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,_r.jsx)(th,{className:"w-3 h-3"})," Joined ",J(j.created_at)]})]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[_>0&&(0,_r.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full min-w-[20px] text-center font-semibold","data-testid":"badge-unread",children:_}),j.nyp_override_enabled&&(0,_r.jsx)("span",{className:"text-xs bg-amber-500/30 text-amber-400 px-2 py-0.5 font-semibold","data-testid":"badge-override",children:"OVERRIDE ON"}),ee&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/30 text-red-400 px-2 py-0.5 font-semibold","data-testid":"badge-deleted",children:"DELETED"}),te&&!ee&&(0,_r.jsx)("span",{className:"text-xs bg-orange-500/30 text-orange-400 px-2 py-0.5 font-semibold","data-testid":"badge-blocked",children:"BLOCKED"}),j.total_orders>0&&(0,_r.jsxs)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5",children:[j.total_orders," orders"]}),j.cart_items>0&&(0,_r.jsxs)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5",children:[j.cart_items," in cart"]}),N?(0,_r.jsx)(pm,{className:"w-5 h-5 text-gray-500"}):(0,_r.jsx)(mm,{className:"w-5 h-5 text-gray-500"})]})]})}),N&&(0,_r.jsx)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4",children:P?(0,_r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,_r.jsx)("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):E?(0,_r.jsxs)("div",{className:"space-y-6",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email"}),(0,_r.jsx)("p",{className:"text-sm",children:E.email})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Name"}),(0,_r.jsx)("p",{className:"text-sm",children:E.name})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Phone"}),(0,_r.jsx)("p",{className:"text-sm",children:E.phone||"Not provided"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Member Since"}),(0,_r.jsx)("p",{className:"text-sm",children:J(E.created_at)})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-4",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,_r.jsx)(Yh,{className:"w-4 h-4 text-gray-400"}),"User Analytics"]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Click Through Rate"}),(0,_r.jsxs)("p",{className:"font-mono text-lg",children:[(null===(a=E.analytics)||void 0===a?void 0:a.click_through_rate)||"0","%"]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Most Clicked Item"}),(0,_r.jsx)("p",{className:"truncate",children:(null===(n=E.analytics)||void 0===n?void 0:n.most_clicked_item)||"N/A"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Longest View"}),(0,_r.jsxs)("p",{children:[(null===(s=E.analytics)||void 0===s?void 0:s.longest_view_time)||"0","s on ",(null===(i=E.analytics)||void 0===i?void 0:i.longest_view_page)||"N/A"]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Shortest View"}),(0,_r.jsxs)("p",{children:[(null===(l=E.analytics)||void 0===l?void 0:l.shortest_view_time)||"0","s on ",(null===(o=E.analytics)||void 0===o?void 0:o.shortest_view_page)||"N/A"]})]})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,_r.jsx)(eh,{className:"w-4 h-4 text-gray-400"}),"Past Orders (",(null===(c=E.orders)||void 0===c?void 0:c.length)||0,")"]}),(null===(d=E.orders)||void 0===d?void 0:d.length)>0?(0,_r.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.orders.map((e,t)=>{var a,n;return(0,_r.jsxs)("div",{className:"flex items-center justify-between text-sm bg-white/5 p-2",children:[(0,_r.jsxs)("span",{children:["Order #",null===(a=e.id)||void 0===a?void 0:a.slice(0,8)]}),(0,_r.jsx)("span",{className:"text-gray-500",children:J(e.created_at)}),(0,_r.jsxs)("span",{className:"text-green-400 font-mono",children:["$",null===(n=e.total)||void 0===n?void 0:n.toLocaleString()]})]},t)})}):(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:"No orders yet"})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,_r.jsx)(Kh,{className:"w-4 h-4 text-gray-400"}),"Items in Cart (",(null===(u=E.cart_items)||void 0===u?void 0:u.length)||0,")"]}),(null===(m=E.cart_items)||void 0===m?void 0:m.length)>0?(0,_r.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:E.cart_items.map((e,t)=>{var a;return(0,_r.jsxs)("div",{className:"flex items-center justify-between text-sm bg-white/5 p-2",children:[(0,_r.jsx)("span",{className:"truncate flex-1",children:e.title}),(0,_r.jsxs)("span",{className:"text-blue-400 font-mono ml-2",children:["$",null===(a=e.price)||void 0===a?void 0:a.toLocaleString()]})]},t)})}):(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:"Cart is empty"})]}),(null===(p=E.abandoned_items)||void 0===p?void 0:p.length)>0&&(0,_r.jsxs)("div",{className:"border border-yellow-500/30 p-4 space-y-3",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2 text-yellow-400",children:[(0,_r.jsx)(jf,{className:"w-4 h-4"}),"Abandoned Items (",E.abandoned_items.length,")"]}),(0,_r.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:E.abandoned_items.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center justify-between text-sm bg-white/5 p-2",children:[(0,_r.jsx)("span",{className:"truncate flex-1",children:e.title}),(0,_r.jsx)("span",{className:"text-gray-500 text-xs",children:J(e.abandoned_at)})]},t))})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,_r.jsx)(Vs,{className:"w-4 h-4 text-gray-400"}),"Inquiries (",((null===(h=E.inquiries)||void 0===h?void 0:h.length)||0)+((null===(f=E.bookings)||void 0===f?void 0:f.length)||0),")"]}),(null===(x=E.inquiries)||void 0===x?void 0:x.length)>0||(null===(g=E.bookings)||void 0===g?void 0:g.length)>0?(0,_r.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[null===(y=E.bookings)||void 0===y?void 0:y.map((e,t)=>(0,_r.jsxs)("div",{className:"flex items-center justify-between text-sm bg-white/5 p-2",children:[(0,_r.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-1",children:"Booking"}),(0,_r.jsxs)("span",{className:"truncate flex-1 ml-2",children:[e.service," - ",e.stone_type]}),(0,_r.jsx)("span",{className:"text-gray-500 text-xs",children:J(e.created_at)})]},"b-".concat(t))),null===(b=E.inquiries)||void 0===b?void 0:b.map((e,t)=>{var a;return(0,_r.jsxs)("div",{className:"flex items-center justify-between text-sm bg-white/5 p-2",children:[(0,_r.jsx)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-1",children:e.type||"Inquiry"}),(0,_r.jsx)("span",{className:"truncate flex-1 ml-2",children:e.product_title||(null===(a=e.description)||void 0===a?void 0:a.slice(0,30))}),(0,_r.jsx)("span",{className:"text-gray-500 text-xs",children:J(e.created_at)})]},"i-".concat(t))})]}):(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:"No inquiries"})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-3",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,_r.jsx)(Bh,{className:"w-4 h-4 text-gray-400"}),"Messages (",(null===(v=E.messages)||void 0===v?void 0:v.length)||0,")"]}),(0,_r.jsxs)("button",{onClick:()=>V(!0),className:"text-xs bg-blue-500/20 text-blue-400 px-3 py-1 hover:bg-blue-500/30 transition-colors flex items-center gap-1","data-testid":"send-message-btn",children:[(0,_r.jsx)(Bh,{className:"w-3 h-3"}),"Send Message"]})]}),(null===(w=E.messages)||void 0===w?void 0:w.length)>0?(0,_r.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.messages.map((e,t)=>{var a,n,r;return(0,_r.jsxs)("div",{className:"text-sm p-2 ".concat(e.from_admin?"bg-amber-500/10 border-l-2 border-amber-500":"bg-teal-500/10 border-l-2 border-teal-500"),children:[(0,_r.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,_r.jsxs)("span",{className:"flex items-center gap-2",children:[e.from_admin?(0,_r.jsx)("span",{className:"bg-amber-500 text-black text-[10px] px-1.5 py-0.5 rounded font-semibold",children:"ADMIN"}):(0,_r.jsx)("span",{className:"bg-teal-500 text-black text-[10px] px-1.5 py-0.5 rounded font-semibold",children:"USER"}),(0,_r.jsx)("span",{className:"text-gray-500",children:e.subject||"No subject"})]}),(0,_r.jsx)("span",{className:"text-gray-500",children:J(e.created_at)})]}),(0,_r.jsxs)("p",{className:"text-gray-400",children:[null===(a=e.message)||void 0===a?void 0:a.slice(0,100),(null===(n=e.message)||void 0===n?void 0:n.length)>100?"...":""]}),(null===(r=e.replies)||void 0===r?void 0:r.length)>0&&(0,_r.jsx)("div",{className:"mt-2 pl-2 border-l-2 border-amber-500/50 space-y-1",children:e.replies.map((e,t)=>{var a;return(0,_r.jsxs)("div",{className:"text-xs",children:[(0,_r.jsx)("span",{className:"bg-amber-500 text-black text-[9px] px-1 py-0.5 rounded font-semibold mr-1",children:"ADMIN"}),(0,_r.jsxs)("span",{className:"text-gray-500",children:[J(e.created_at),":"]}),(0,_r.jsx)("span",{className:"text-amber-300 ml-1",children:null===(a=e.message)||void 0===a?void 0:a.slice(0,80)})]},t)})})]},t)})}):(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:"No messages"})]}),!ee&&(0,_r.jsxs)("div",{className:"border border-amber-500/20 p-4 space-y-3","data-testid":"override-section",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,_r.jsx)(ns,{className:"w-4 h-4 text-amber-400"}),"HB / NYP Override"]}),(0,_r.jsx)("button",{onClick:async()=>{const e=!j.nyp_override_enabled;B(!0);try{await Xh.patch("/admin/users/".concat(j.id,"/entitlements"),{override_enabled:e,note:q||null}),Qt.success(e?"HB/NYP override enabled":"HB/NYP override disabled"),S&&S()}catch(n){var t,a;Qt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to update override")}finally{B(!1)}},disabled:U,className:"relative w-11 h-6 rounded-full transition-colors ".concat(j.nyp_override_enabled?"bg-amber-500":"bg-gray-700"),"data-testid":"override-toggle",children:(0,_r.jsx)("span",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ".concat(j.nyp_override_enabled?"translate-x-5":"")})})]}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:j.nyp_override_enabled?"User has full access to Humble Beginnings & Name Your Price.":"Enable to grant threshold-gated access without purchases."}),(0,_r.jsx)("input",{type:"text",value:q,onChange:e=>H(e.target.value),placeholder:"Optional note (e.g., VIP, comp'd)",className:"w-full bg-white/5 border border-white/10 px-3 py-1.5 text-sm text-gray-300 placeholder:text-gray-600 focus:border-amber-500/50 focus:outline-none","data-testid":"override-note"})]}),(0,_r.jsxs)("div",{className:"pt-4 border-t border-white/10 flex flex-wrap gap-3",children:[(0,_r.jsxs)("button",{onClick:async()=>{if(confirm("Send password reset email to ".concat(j.email,"?"))){O(!0);try{await Xh.post("/admin/users/".concat(j.id,"/password-reset")),Qt.success("Password reset email sent to ".concat(j.email))}catch(a){var e,t;const n=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to send password reset email";Qt.error(n)}finally{O(!1)}}},disabled:R||ee,className:"btn-secondary text-sm flex items-center gap-2","data-testid":"reset-password-btn",children:[(0,_r.jsx)(_f,{className:"w-4 h-4"}),R?"Sending...":"Send Password Reset"]}),!ee&&(0,_r.jsxs)("button",{onClick:async()=>{const e=!j.purchase_blocked,t=e?"block":"unblock";if(confirm("Are you sure you want to ".concat(t," purchases for ").concat(j.email,"?"))){D(!0);try{await Xh.patch("/admin/users/".concat(j.id,"/status"),{purchase_blocked:e,purchase_block_reason:e?"admin_blocked":null}),Qt.success("User ".concat(t,"ed successfully")),S&&S()}catch(r){var a,n;const e=(null===(a=r.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||"Failed to ".concat(t," user");Qt.error(e)}finally{D(!1)}}},disabled:L,className:"text-sm flex items-center gap-2 px-3 py-1.5 border transition-colors ".concat(te?"border-green-500/50 text-green-400 hover:bg-green-500/10":"border-orange-500/50 text-orange-400 hover:bg-orange-500/10"),"data-testid":"toggle-block-btn",children:[te?(0,_r.jsx)(Cf,{className:"w-4 h-4"}):(0,_r.jsx)(Ef,{className:"w-4 h-4"}),L?"Updating...":te?"Unblock Purchases":"Block Purchases"]}),!ee&&(0,_r.jsxs)("button",{onClick:()=>z(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 border border-red-500/50 text-red-400 hover:bg-red-500/10 transition-colors","data-testid":"delete-user-btn",children:[(0,_r.jsx)(Us,{className:"w-4 h-4"}),"Delete User"]})]}),M&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>z(!1),children:(0,_r.jsxs)("div",{className:"bg-[#0a0a0a] border border-white/10 p-6 max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,_r.jsx)("h3",{className:"title-sm text-xl mb-4",children:"Delete User Account"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Soft-delete disables login and purchases. Order history, bookings, and inquiries are preserved."}),(0,_r.jsxs)("p",{className:"text-sm mb-4",children:["User: ",(0,_r.jsx)("span",{className:"text-white",children:j.email})]}),(0,_r.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,_r.jsx)("button",{onClick:()=>z(!1),className:"btn-secondary text-sm",children:"Cancel"}),(0,_r.jsx)("button",{onClick:async()=>{F(!0);try{await Xh.post("/admin/users/".concat(j.id,"/delete")),Qt.success("User account deleted"),z(!1),S&&S()}catch(a){var e,t;const n=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to delete user";Qt.error(n)}finally{F(!1)}},disabled:I,className:"text-sm px-4 py-2 bg-red-600 hover:bg-red-700 text-white transition-colors","data-testid":"confirm-delete-btn",children:I?"Deleting...":"Delete Account"})]})]})}),W&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>V(!1),children:(0,_r.jsxs)("div",{className:"bg-[#0a0a0a] border border-white/10 p-6 max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,_r.jsxs)("h3",{className:"title-sm text-xl mb-4 flex items-center gap-2",children:[(0,_r.jsx)(Bh,{className:"w-5 h-5 text-blue-400"}),"Send Message to ",j.name||j.email]}),(0,_r.jsxs)("div",{className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1 block",children:"Subject"}),(0,_r.jsx)("input",{type:"text",value:K,onChange:e=>$(e.target.value),placeholder:"Message subject...",className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm focus:outline-none focus:border-blue-500","data-testid":"message-subject-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1 block",children:"Message"}),(0,_r.jsx)("textarea",{value:Y,onChange:e=>G(e.target.value),placeholder:"Type your message...",rows:5,className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm focus:outline-none focus:border-blue-500 resize-none","data-testid":"message-body-input"})]})]}),(0,_r.jsxs)("div",{className:"flex gap-3 justify-end mt-6",children:[(0,_r.jsx)("button",{onClick:()=>{V(!1),$(""),G("")},className:"btn-secondary text-sm",children:"Cancel"}),(0,_r.jsx)("button",{onClick:async()=>{if(K.trim()&&Y.trim()){X(!0);try{await Xh.post("/admin/users/".concat(j.id,"/message"),{subject:K,message:Y}),Qt.success("Message sent to ".concat(j.name||j.email)),V(!1),$(""),G(""),T(null),Z()}catch(a){var e,t;Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to send message")}finally{X(!1)}}else Qt.error("Please enter both subject and message")},disabled:Q||!K.trim()||!Y.trim(),className:"text-sm px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2","data-testid":"confirm-send-message-btn",children:Q?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Sending..."]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Bh,{className:"w-4 h-4"}),"Send Message"]})})]})]})})]}):(0,_r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Failed to load details"})})]})},Af=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({}),u=async()=>{try{const e=l?"?include_deleted=true":"",a=await Xh.get("/admin/users".concat(e));t(a)}catch(e){console.error("Failed to fetch users:",e)}finally{n(!1)}},p=e=>{d(t=>{const a=m({},t);return delete a[e],a})};return(0,r.useEffect)(()=>{u(),(async()=>{try{const e=localStorage.getItem("adminToken");if(!e)return;const t=await Sr.get("".concat(Tf,"/api/admin/messages/unread-counts"),{headers:{Authorization:"Bearer ".concat(e)}});d(t.data.per_user||{})}catch(e){console.error("Failed to fetch unread counts:",e)}})()},[l]),a?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{"data-testid":"admin-users-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Users"}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm",children:[e.length," registered user(s)"]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer","data-testid":"show-deleted-toggle",children:[(0,_r.jsx)("input",{type:"checkbox",checked:l,onChange:e=>o(e.target.checked),className:"rounded border-white/20"}),"Show deleted"]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,_r.jsx)(Mh,{className:"w-4 h-4"}),(0,_r.jsx)("span",{children:"Click to expand details"})]})]})]}),0===e.length?(0,_r.jsxs)("div",{className:"gem-card p-8 text-center",children:[(0,_r.jsx)(Mh,{className:"w-12 h-12 mx-auto text-gray-600 mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"No registered users yet"})]}):(0,_r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,_r.jsx)(Pf,{user:e,expanded:s===e.id,onToggle:()=>i(s===e.id?null:e.id),onUserUpdate:u,unreadCount:c[e.id]||0,onMessagesRead:p},e.id))})]})},Rf=Kr("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Of=Kr("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Lf=e=>{var t;let{order:a,onUpdate:n}=e;const[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)({tracking_number:a.tracking_number||"",tracking_carrier:a.tracking_carrier||"",seller_notes:a.seller_notes||""}),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),h=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=e=>e?"$".concat(Number(e).toLocaleString()):"$0",x="pending"===a.status&&!a.paid_at,g=!!a.paid_at,y=async()=>{d(!0);try{await Xh.patch("/admin/orders/".concat(a.id,"/tracking"),{tracking_number:l.tracking_number,tracking_carrier:l.tracking_carrier,seller_notes:l.seller_notes}),Qt.success("Tracking info saved"),n()}catch(e){Qt.error("Failed to save tracking info")}finally{d(!1)}};return(0,_r.jsxs)("div",{className:"gem-card overflow-hidden ".concat(a.is_deleted?"opacity-50 border border-red-500/20":""),"data-testid":"order-card-".concat(a.id),children:[(0,_r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>i(!s),children:(0,_r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_r.jsxs)("h3",{className:"font-semibold",children:["Order #",a.id.slice(0,8)]}),a.is_deleted&&(0,_r.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5","data-testid":"badge-deleted",children:"DELETED"}),g?(0,_r.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5","data-testid":"badge-paid",children:"PAID"}):(0,_r.jsx)("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5","data-testid":"badge-pending",children:"PENDING"}),a.tracking_number&&(0,_r.jsxs)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 flex items-center gap-1",children:[(0,_r.jsx)(Rf,{className:"w-3 h-3"})," Tracked"]})]}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:[a.buyer_name||"Unknown"," \u2022 ",f(a.total)]}),(0,_r.jsx)("p",{className:"text-xs text-gray-600",children:h(a.created_at)})]}),(0,_r.jsx)("div",{className:"flex items-center gap-3",children:s?(0,_r.jsx)(pm,{className:"w-5 h-5 text-gray-500"}):(0,_r.jsx)(mm,{className:"w-5 h-5 text-gray-500"})})]})}),s&&(0,_r.jsxs)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4 space-y-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Ih,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsxs)("span",{className:"font-semibold",children:["Invoice #",a.id.slice(0,8).toUpperCase()]})]}),(0,_r.jsx)("div",{className:"flex gap-2",children:a.is_deleted?(0,_r.jsx)("button",{onClick:e=>{e.stopPropagation(),(async()=>{try{await Xh.post("/admin/orders/".concat(a.id,"/restore")),Qt.success("Order restored"),n()}catch(e){Qt.error("Restore failed")}})()},className:"text-xs px-3 py-1 bg-green-500/20 text-green-400 hover:bg-green-500/30","data-testid":"restore-order-".concat(a.id),children:"Restore"}):(0,_r.jsx)(_r.Fragment,{children:x&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("button",{onClick:e=>{e.stopPropagation(),(async()=>{p(!0);try{await Xh.post("/admin/orders/".concat(a.id,"/mark-paid")),Qt.success("Order marked as paid"),n()}catch(e){var t,r;Qt.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to mark as paid")}finally{p(!1)}})()},disabled:u,className:"text-xs px-3 py-1 bg-green-500/20 text-green-400 hover:bg-green-500/30","data-testid":"mark-paid-".concat(a.id),children:u?"Processing...":"Mark Paid"}),(0,_r.jsx)("button",{onClick:e=>{e.stopPropagation(),(async()=>{if(window.confirm("Delete this order?"))try{await Xh.post("/admin/orders/".concat(a.id,"/delete")),Qt.success("Order deleted"),n()}catch(e){var t,r;Qt.error((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Delete failed")}})()},className:"text-xs px-3 py-1 bg-red-500/10 text-red-400 hover:bg-red-500/20","data-testid":"delete-order-".concat(a.id),children:"Delete"})]})})})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Created"}),(0,_r.jsxs)("p",{className:"flex items-center gap-1 text-sm",children:[(0,_r.jsx)(th,{className:"w-3 h-3 text-gray-500"})," ",h(a.created_at)]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Status"}),(0,_r.jsx)("p",{className:"text-sm ".concat(g?"text-green-400":"text-yellow-400"),children:g?"Paid":"Pending (Commit)"})]}),g&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Date Paid"}),(0,_r.jsxs)("p",{className:"flex items-center gap-1 text-sm",children:[(0,_r.jsx)(th,{className:"w-3 h-3 text-gray-500"})," ",h(a.paid_at)]})]}),a.commit_expires_at&&!g&&(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Expires"}),(0,_r.jsxs)("p",{className:"flex items-center gap-1 text-sm text-yellow-400",children:[(0,_r.jsx)(xh,{className:"w-3 h-3"})," ",h(a.commit_expires_at)]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Payment Method"}),(0,_r.jsxs)("p",{className:"flex items-center gap-1 text-sm",children:[(0,_r.jsx)(ah,{className:"w-3 h-3 text-gray-500"})," ",a.payment_provider||"Pending"]})]})]}),(0,_r.jsxs)("div",{className:"bg-white/5 p-4 space-y-2",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Order Items"}),null===(t=a.items)||void 0===t?void 0:t.map((e,t)=>{var a;return(0,_r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,_r.jsxs)("span",{className:"text-gray-400",children:[e.title||(null===(a=e.product_id)||void 0===a?void 0:a.slice(0,8))," x",e.quantity]}),(0,_r.jsx)("span",{children:f(e.price*e.quantity)})]},t)}),(0,_r.jsxs)("div",{className:"flex justify-between font-semibold pt-2 border-t border-white/10",children:[(0,_r.jsx)("span",{children:"Total"}),(0,_r.jsx)("span",{className:g?"text-green-400":"text-yellow-400",children:f(a.total)})]})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"border border-white/10 p-4",children:[(0,_r.jsxs)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-1",children:[(0,_r.jsx)(Yr,{className:"w-3 h-3"})," Buyer Information"]}),(0,_r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,_r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Yr,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{children:a.buyer_name||"Not provided"})]}),(0,_r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Bh,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-400",children:a.buyer_email||"Not provided"})]}),(0,_r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Ws,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-400",children:a.buyer_phone||"Not provided"})]}),a.user_id&&(0,_r.jsxs)("p",{className:"text-xs text-blue-400 mt-2",children:["Account ID: ",a.user_id.slice(0,8),"..."]})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4",children:[(0,_r.jsxs)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-1",children:[(0,_r.jsx)(Of,{className:"w-3 h-3"})," Shipping Address"]}),(0,_r.jsx)("p",{className:"text-sm text-gray-400 whitespace-pre-line",children:a.shipping_address||"Not provided"})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-4",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Rf,{className:"w-4 h-4 text-gray-400"}),(0,_r.jsx)("span",{className:"font-semibold text-sm",children:"Tracking Details"}),a.tracking_entered_at&&(0,_r.jsxs)("span",{className:"text-xs text-gray-500 ml-auto",children:["Entered: ",h(a.tracking_entered_at)]})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Carrier"}),(0,_r.jsxs)("select",{value:l.tracking_carrier,onChange:e=>o(t=>m(m({},t),{},{tracking_carrier:e.target.value})),className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm focus:outline-none focus:border-white/30","data-testid":"tracking-carrier-select",children:[(0,_r.jsx)("option",{value:"",children:"Select carrier..."}),(0,_r.jsx)("option",{value:"usps",children:"USPS"}),(0,_r.jsx)("option",{value:"ups",children:"UPS"}),(0,_r.jsx)("option",{value:"fedex",children:"FedEx"}),(0,_r.jsx)("option",{value:"dhl",children:"DHL"}),(0,_r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Tracking Number"}),(0,_r.jsx)("input",{type:"text",value:l.tracking_number,onChange:e=>o(t=>m(m({},t),{},{tracking_number:e.target.value})),className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm font-mono focus:outline-none focus:border-white/30",placeholder:"Enter tracking number","data-testid":"tracking-number-input"})]})]}),(0,_r.jsx)("button",{onClick:y,disabled:c,className:"w-full py-2 text-sm border border-white/20 hover:border-white/40 transition-colors disabled:opacity-50","data-testid":"save-tracking-btn",children:c?"Saving...":"Save Tracking (Auto-populates to User Account)"})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-4",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(nh,{className:"w-4 h-4 text-gray-400"}),(0,_r.jsx)("span",{className:"font-semibold text-sm",children:"Notes for Buyer"})]}),(0,_r.jsx)("textarea",{value:l.seller_notes,onChange:e=>o(t=>m(m({},t),{},{seller_notes:e.target.value})),className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:border-white/30",placeholder:"Add notes for the buyer (will appear in their invoice)...","data-testid":"seller-notes-input"}),(0,_r.jsxs)("button",{onClick:y,disabled:c||!l.seller_notes.trim(),className:"w-full py-2 text-sm bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors disabled:opacity-50","data-testid":"save-notes-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4 inline mr-2"}),"Save Notes"]})]})]})]})},Df=e=>{var t;let{item:a,onUpdate:n,onDelete:s,onRestore:i,onPurge:l}=e;const[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({tracking_number:a.tracking_number||"",tracking_carrier:a.tracking_carrier||"",user_notes:a.user_notes||""}),[p,h]=(0,r.useState)(!1);return(0,_r.jsxs)("div",{className:"gem-card overflow-hidden ".concat(a.is_deleted?"opacity-60":""),"data-testid":"sold-item-".concat(a.id),children:[(0,_r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>c(!o),children:(0,_r.jsxs)("div",{className:"flex items-start gap-4",children:[a.product_image&&(0,_r.jsx)("img",{src:a.product_image,alt:a.product_title,className:"w-16 h-16 object-cover flex-shrink-0"}),(0,_r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_r.jsx)("h3",{className:"font-semibold truncate",children:a.product_title}),(0,_r.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5",children:"SOLD"})]}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:[a.buyer_name," \u2022 $",null===(t=a.total_paid)||void 0===t?void 0:t.toLocaleString()]}),(0,_r.jsx)("p",{className:"text-xs text-gray-600",children:(f=a.sold_at,f?new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[a.tracking_number&&(0,_r.jsxs)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 flex items-center gap-1",children:[(0,_r.jsx)(Rf,{className:"w-3 h-3"})," Tracked"]}),o?(0,_r.jsx)(pm,{className:"w-5 h-5 text-gray-500"}):(0,_r.jsx)(mm,{className:"w-5 h-5 text-gray-500"})]})]})}),o&&(0,_r.jsxs)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4 space-y-6",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"border border-white/10 p-4",children:[(0,_r.jsxs)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-1",children:[(0,_r.jsx)(Yr,{className:"w-3 h-3"})," Buyer Information"]}),(0,_r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,_r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Yr,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{children:a.buyer_name})]}),(0,_r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Bh,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-400",children:a.buyer_email})]}),(0,_r.jsxs)("p",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Ws,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-400",children:a.buyer_phone||"Not provided"})]})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4",children:[(0,_r.jsxs)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-1",children:[(0,_r.jsx)(Of,{className:"w-3 h-3"})," Shipping Address"]}),(0,_r.jsx)("p",{className:"text-sm text-gray-400 whitespace-pre-line",children:a.shipping_address||"Not provided"})]})]}),(0,_r.jsxs)("div",{className:"border border-white/10 p-4 space-y-4",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(Rf,{className:"w-4 h-4 text-gray-400"}),(0,_r.jsx)("span",{className:"font-semibold text-sm",children:"Tracking Details"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Carrier"}),(0,_r.jsxs)("select",{value:d.tracking_carrier,onChange:e=>u(t=>m(m({},t),{},{tracking_carrier:e.target.value})),className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm focus:outline-none focus:border-white/30",children:[(0,_r.jsx)("option",{value:"",children:"Select carrier..."}),(0,_r.jsx)("option",{value:"usps",children:"USPS"}),(0,_r.jsx)("option",{value:"ups",children:"UPS"}),(0,_r.jsx)("option",{value:"fedex",children:"FedEx"}),(0,_r.jsx)("option",{value:"dhl",children:"DHL"}),(0,_r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Tracking Number"}),(0,_r.jsx)("input",{type:"text",value:d.tracking_number,onChange:e=>u(t=>m(m({},t),{},{tracking_number:e.target.value})),className:"w-full bg-white/5 border border-white/10 px-3 py-2 text-sm font-mono focus:outline-none focus:border-white/30",placeholder:"Enter tracking number"})]})]}),(0,_r.jsx)("button",{onClick:async()=>{h(!0);try{await Xh.patch("/admin/sold/".concat(a.id),{tracking_number:d.tracking_number,tracking_carrier:d.tracking_carrier,tracking_entered_at:(new Date).toISOString(),user_notes:d.user_notes}),Qt.success("Tracking info saved"),n()}catch(e){Qt.error("Failed to save tracking info")}finally{h(!1)}},disabled:p,className:"w-full py-2 text-sm border border-white/20 hover:border-white/40 transition-colors disabled:opacity-50",children:p?"Saving...":"Save Tracking"})]})]}),(0,_r.jsx)("div",{className:"flex items-center gap-2 px-4 pb-3",children:a.is_deleted?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("span",{className:"text-xs text-red-400",children:"Deleted"}),(0,_r.jsx)("button",{onClick:()=>i(a.id),className:"text-xs px-3 py-1 bg-green-500/20 text-green-400 hover:bg-green-500/30",children:"Restore"}),(0,_r.jsx)("button",{onClick:()=>{"PURGE"===window.prompt("Type PURGE to confirm")&&l(a.id)},className:"text-xs px-3 py-1 bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Purge"})]}):(0,_r.jsx)("button",{onClick:()=>s(a.id),className:"text-xs px-3 py-1 bg-red-500/10 text-red-400 hover:bg-red-500/20",children:"Delete"})})]});var f},If=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)("pending");(0,r.useEffect)(()=>{u()},[l]);const u=async()=>{try{const e=l?"?include_deleted=true":"",[a,r]=await Promise.all([Xh.get("/admin/sold".concat(e)),Xh.get("/admin/orders?include_deleted=true")]);t(a),n(r)}catch(e){console.error("Failed to fetch data:",e)}finally{i(!1)}},m=async e=>{if(window.confirm("Are you sure you want to delete this sold record?"))try{await Xh.post("/admin/sold/".concat(e,"/delete"),{}),u(),Qt.success("Record deleted")}catch(kx){Qt.error("Delete failed")}},p=async e=>{try{await Xh.post("/admin/sold/".concat(e,"/restore")),u(),Qt.success("Record restored")}catch(kx){Qt.error("Restore failed")}},h=async e=>{try{await Xh.delete("/admin/sold/".concat(e,"?hard=true")),u(),Qt.success("Record permanently deleted")}catch(kx){Qt.error("Purge failed")}},f=new Date,x=new Date(f-2592e6),g=new Date(f-31536e6),y=a.filter(e=>"pending"===e.status&&!e.paid_at),b=a.filter(e=>e.paid_at&&new Date(e.paid_at)>=x),v=a.filter(e=>e.paid_at&&new Date(e.paid_at)>=g),w=[{key:"pending",label:"Pending (Commit)",count:y.filter(e=>!e.is_deleted).length,icon:xh},{key:"completed",label:"Completed (30d)",count:b.filter(e=>!e.is_deleted).length,icon:hm},{key:"sold",label:"Sold (365d)",count:v.filter(e=>!e.is_deleted).length,icon:Jp},{key:"legacy",label:"Legacy Sold",count:e.filter(e=>!e.is_deleted).length,icon:Ih}],j="pending"===c?y:"completed"===c?b:"sold"===c?v:[],N=l?j:j.filter(e=>!e.is_deleted);return s?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{"data-testid":"admin-sold-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Orders & Sold Items"}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm",children:[a.filter(e=>!e.is_deleted).length," order(s) total"]})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer","data-testid":"show-deleted-toggle-sold",children:[(0,_r.jsx)("input",{type:"checkbox",checked:l,onChange:e=>o(e.target.checked),className:"rounded border-white/20"}),"Show deleted"]})]}),(0,_r.jsx)("div",{className:"flex gap-2 mb-6 flex-wrap","data-testid":"sold-section-tabs",children:w.map(e=>(0,_r.jsxs)("button",{onClick:()=>d(e.key),className:"flex items-center gap-2 px-4 py-2 text-sm border transition-colors ".concat(c===e.key?"border-white/30 text-white bg-white/5":"border-white/10 text-gray-500 hover:text-gray-300"),"data-testid":"tab-".concat(e.key),children:[(0,_r.jsx)(e.icon,{className:"w-4 h-4"}),e.label,(0,_r.jsxs)("span",{className:"text-xs opacity-60",children:["(",e.count,")"]})]},e.key))}),"legacy"!==c&&(0,_r.jsx)("div",{className:"space-y-4",children:0===N.length?(0,_r.jsx)("div",{className:"gem-card p-8 text-center",children:(0,_r.jsx)("p",{className:"text-gray-500",children:"No orders in this section"})}):N.map(e=>(0,_r.jsx)(Lf,{order:e,onUpdate:u},e.id))}),"legacy"===c&&(0,_r.jsx)(_r.Fragment,{children:0===e.length?(0,_r.jsxs)("div",{className:"gem-card p-12 text-center",children:[(0,_r.jsx)(Ih,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,_r.jsx)("p",{className:"text-gray-500",children:"No legacy sold items"})]}):(0,_r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,_r.jsx)(Df,{item:e,onUpdate:u,onDelete:m,onRestore:p,onPurge:h},e.id))})})]})},Ff=Kr("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Mf=Kr("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),zf=Kr("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Uf=e=>{var t;let{item:a,type:n,onDownload:r,onPurge:s,expanded:i,onToggle:l}=e;const o=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A";return(0,_r.jsxs)("div",{className:"gem-card overflow-hidden","data-testid":"archive-item-".concat(a.id),children:[(0,_r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:l,children:(0,_r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_r.jsx)("h3",{className:"font-semibold text-sm",children:a.title||a.name||"".concat(n," #").concat(null===(t=a.id)||void 0===t?void 0:t.slice(0,8))}),(0,_r.jsx)("span",{className:"text-xs bg-gray-500/20 text-gray-400 px-2 py-0.5",children:"ARCHIVED"})]}),(0,_r.jsxs)("div",{className:"flex gap-4 text-xs text-gray-500",children:[(0,_r.jsxs)("span",{children:["Created: ",o(a.created_at)]}),(0,_r.jsxs)("span",{children:["Archived: ",o(a.archived_at)]})]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)("button",{onClick:e=>{e.stopPropagation(),r(a)},className:"p-2 hover:bg-white/10 transition-colors",title:"Download as .txt",children:(0,_r.jsx)(Ff,{className:"w-4 h-4 text-blue-400"})}),(0,_r.jsx)("button",{onClick:e=>{e.stopPropagation(),s(a)},className:"p-2 hover:bg-white/10 transition-colors",title:"Purge permanently",children:(0,_r.jsx)(Us,{className:"w-4 h-4 text-red-400"})}),i?(0,_r.jsx)(pm,{className:"w-4 h-4 text-gray-500"}):(0,_r.jsx)(mm,{className:"w-4 h-4 text-gray-500"})]})]})}),i&&(0,_r.jsxs)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4",children:[(0,_r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Views"}),(0,_r.jsx)("p",{children:a.views||0})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Clicks"}),(0,_r.jsx)("p",{children:a.clicks||0})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Type"}),(0,_r.jsx)("p",{className:"capitalize",children:n})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Source"}),(0,_r.jsx)("p",{children:a.source||"Website"})]})]}),a.meta_links&&(0,_r.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,_r.jsx)("p",{className:"uppercase tracking-widest mb-1",children:"Meta Links"}),(0,_r.jsx)("p",{className:"font-mono bg-white/5 p-2",children:a.meta_links})]})]})]})},Bf=()=>{const[e,t]=(0,r.useState)("sold"),[a,n]=(0,r.useState)({sold:[],inquiries:[],bookings:[],deletedGallery:[],deletedProducts:[],allDeleted:[]}),[s,i]=(0,r.useState)({}),[l,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{const[e,t,a,r,s,i]=await Promise.all([Xh.get("/admin/data/archived/sold"),Xh.get("/admin/data/archived/inquiries"),Xh.get("/admin/data/archived/bookings"),Xh.get("/admin/data/archived/gallery"),Xh.get("/admin/data/archived/products"),Xh.get("/admin/data/archived/all")]);n({sold:e,inquiries:t,bookings:a,deletedGallery:r,deletedProducts:s,allDeleted:i})}catch(e){console.error("Failed to fetch archived data:",e)}finally{o(!1)}},p=[{id:"sold",label:"Sold (30+ days)",icon:$r,count:a.sold.length,days:30},{id:"inquiries",label:"Inquiries (30+ days)",icon:Vs,count:a.inquiries.length,days:30},{id:"bookings",label:"Bookings (90+ days)",icon:th,count:a.bookings.length,days:90},{id:"deletedGallery",label:"Deleted Gallery",icon:Lh,count:a.deletedGallery.length},{id:"deletedProducts",label:"Deleted Products",icon:eh,count:a.deletedProducts.length},{id:"allDeleted",label:"All Deleted",icon:Us,count:a.allDeleted.length}],h=p.find(t=>t.id===e),f=a[e]||[];return l?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{"data-testid":"admin-data-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Data & Archives"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Manage archived and deleted items"})]}),(0,_r.jsxs)("button",{onClick:async()=>{d(!0);try{await Xh.post("/admin/data/archive/run",{}),Qt.success("Archive process completed"),u()}catch(e){Qt.error("Archive process failed")}finally{d(!1)}},disabled:c,className:"btn-secondary flex items-center gap-2","data-testid":"run-archive-btn",children:[(0,_r.jsx)(Mf,{className:"w-4 h-4 ".concat(c?"animate-spin":"")}),c?"Archiving...":"Run Auto-Archive"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-4 mb-6 flex items-center gap-3 border-blue-500/30",children:[(0,_r.jsx)(xh,{className:"w-5 h-5 text-blue-400"}),(0,_r.jsx)("div",{className:"flex-1",children:(0,_r.jsxs)("p",{className:"text-sm",children:["Auto-archive runs daily: ",(0,_r.jsx)("span",{className:"text-blue-400",children:"Sold items after 30 days"}),", ",(0,_r.jsx)("span",{className:"text-yellow-400",children:"Inquiries after 30 days"}),", ",(0,_r.jsx)("span",{className:"text-green-400",children:"Bookings after 90 days"})]})})]}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:p.map(a=>(0,_r.jsxs)("button",{onClick:()=>t(a.id),className:"flex items-center gap-2 px-4 py-2 text-sm transition-colors ".concat(e===a.id?"bg-white text-black":"text-gray-500 hover:text-white border border-white/10"),"data-testid":"tab-".concat(a.id),children:[(0,_r.jsx)(a.icon,{className:"w-4 h-4"}),a.label,(0,_r.jsxs)("span",{className:"ml-1 text-xs opacity-70",children:["(",a.count,")"]})]},a.id))}),f.length>0&&(0,_r.jsxs)("div",{className:"flex justify-between items-center mb-4 p-3 bg-white/5",children:[(0,_r.jsxs)("span",{className:"text-sm text-gray-400",children:[f.length," archived items"]}),(0,_r.jsxs)("div",{className:"flex gap-2",children:[(0,_r.jsxs)("button",{onClick:()=>(async e=>{try{const t=await Xh.downloadBlob("/admin/data/download-batch/".concat(e)),a=new Blob([t],{type:"text/markdown"}),n=window.URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="".concat(e,"_batch_archive_").concat((new Date).toISOString().split("T")[0],".md"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),Qt.success("Batch archive downloaded")}catch(t){Qt.error("Batch download failed")}})(e),className:"btn-secondary text-xs flex items-center gap-1",children:[(0,_r.jsx)(Zp,{className:"w-3 h-3"})," Download All (.md)"]}),(0,_r.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Permanently delete ALL archived ".concat(e,"? This cannot be undone.")))try{await Xh.delete("/admin/data/purge-all/".concat(e)),Qt.success("All ".concat(e," purged")),u()}catch(t){Qt.error("Purge failed")}})(e),className:"text-xs px-3 py-1 bg-red-500/20 text-red-400 hover:bg-red-500/30 flex items-center gap-1",children:[(0,_r.jsx)(Us,{className:"w-3 h-3"})," Purge All"]})]})]}),(0,_r.jsx)("div",{className:"space-y-3",children:0===f.length?(0,_r.jsxs)("div",{className:"gem-card p-12 text-center",children:[(0,_r.jsx)(zf,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,_r.jsxs)("p",{className:"text-gray-500",children:["No archived ",(null===h||void 0===h?void 0:h.label.toLowerCase())||"items"]}),(0,_r.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:null!==h&&void 0!==h&&h.days?"Items older than ".concat(h.days," days will appear here"):"Deleted items will appear here for recovery or permanent removal"})]}):f.map(t=>(0,_r.jsx)(Uf,{item:t,type:e,expanded:s[t.id],onToggle:()=>{return e=t.id,void i(t=>m(m({},t),{},{[e]:!t[e]}));var e},onDownload:t=>(async(e,t)=>{try{const a=await Xh.downloadBlob("/admin/data/download/".concat(t,"/").concat(e.id)),n=new Blob([a],{type:"text/plain"}),r=window.URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download="".concat(t,"_").concat(e.id,"_archive.txt"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(r),Qt.success("Archive downloaded")}catch(a){Qt.error("Download failed")}})(t,e),onPurge:t=>(async(e,t)=>{if(window.confirm("Permanently delete this archived item? This cannot be undone."))try{await Xh.delete("/admin/data/purge/".concat(t,"/").concat(e.id)),Qt.success("Item purged"),u()}catch(a){Qt.error("Purge failed")}})(t,e)},t.id))})]})},qf=e=>{let{status:t}=e;const a={OPEN:"bg-blue-500/20 text-blue-400",ACCEPTED:"bg-green-500/20 text-green-400",CLOSED:"bg-gray-500/20 text-gray-400"};return(0,_r.jsx)("span",{className:"text-xs px-2 py-1 uppercase tracking-wider ".concat(a[t]||a.CLOSED),children:t})},Hf=e=>{let{kind:t}=e;const a={OFFER:"bg-amber-500/20 text-amber-400",COUNTER:"bg-purple-500/20 text-purple-400",NOTE:"bg-gray-500/20 text-gray-400",ACCEPT:"bg-green-500/20 text-green-400",CLOSE:"bg-red-500/20 text-red-400"};return(0,_r.jsx)("span",{className:"text-xs px-2 py-0.5 uppercase ".concat(a[t]||a.NOTE),children:t})},Wf=e=>{var t;let{negotiationId:a,onBack:n}=e;const[s,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[f,x]=(0,r.useState)("30"),[g,y]=(0,r.useState)(""),[b,v]=(0,r.useState)(null),w=(0,r.useCallback)(async()=>{try{o(!0);const e=await Xh.get("/admin/negotiations/".concat(a));i(e);const t=[...e.messages].reverse().find(e=>"OFFER"===e.kind||"COUNTER"===e.kind);null!==t&&void 0!==t&&t.amount&&(h(t.amount.toString()),d(t.amount.toString()))}catch(e){Qt.error("Failed to load negotiation")}finally{o(!1)}},[a]);(0,r.useEffect)(()=>{w()},[w]);if(l)return(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full"})});if(!s)return(0,_r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Negotiation not found"});const j=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,_r.jsxs)("div",{className:"space-y-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-white text-sm flex items-center gap-1",children:"\u2190 Back to list"}),(0,_r.jsx)(qf,{status:s.status})]}),(0,_r.jsxs)("div",{className:"gem-card p-4 space-y-4",children:[(0,_r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,_r.jsx)(eh,{className:"w-5 h-5 text-gray-500 mt-1"}),(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsx)("h3",{className:"font-semibold",children:s.product_title}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Listed Price: ",(0,_r.jsxs)("span",{className:"text-white font-mono",children:["$",null===(t=s.product_price)||void 0===t?void 0:t.toLocaleString()]})]})]})]}),(0,_r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,_r.jsx)(Yr,{className:"w-5 h-5 text-gray-500 mt-1"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-medium",children:s.user_name}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:s.user_email})]})]}),(0,_r.jsxs)("p",{className:"text-xs text-gray-600",children:["Started: ",j(s.created_at)]})]}),s.agreement&&(0,_r.jsxs)("div",{className:"gem-card p-4 border-green-500/30 bg-green-500/5",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[(0,_r.jsx)(hm,{className:"w-5 h-5"}),(0,_r.jsx)("span",{className:"font-semibold",children:"Purchase Agreement Active"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-gray-500",children:"Accepted Amount"}),(0,_r.jsxs)("p",{className:"text-lg font-mono text-green-400",children:["$",s.agreement.accepted_amount]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-gray-500",children:"Expires"}),(0,_r.jsx)("p",{className:"text-white",children:j(s.agreement.expires_at)})]})]})]}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsx)("h4",{className:"text-sm uppercase tracking-widest text-gray-500",children:"Messages"}),s.messages.map((e,t)=>(0,_r.jsxs)("div",{className:"gem-card p-4 ".concat("ADMIN"===e.sender_role?"border-l-2 border-purple-500":"border-l-2 border-amber-500"),children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)("span",{className:"text-xs uppercase ".concat("ADMIN"===e.sender_role?"text-purple-400":"text-amber-400"),children:e.sender_role}),(0,_r.jsx)(Hf,{kind:e.kind})]}),(0,_r.jsx)("span",{className:"text-xs text-gray-600",children:j(e.created_at)})]}),null!==e.amount&&(0,_r.jsxs)("p",{className:"text-lg font-mono mb-1",children:["$",e.amount.toLocaleString()]}),e.text&&(0,_r.jsx)("p",{className:"text-gray-400 text-sm",children:e.text})]},e.message_id||t))]}),"OPEN"===s.status&&(0,_r.jsxs)("div",{className:"space-y-4",children:[(0,_r.jsx)("h4",{className:"text-sm uppercase tracking-widest text-gray-500",children:"Actions"}),(0,_r.jsxs)("div",{className:"gem-card p-4 space-y-3",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-purple-400",children:[(0,_r.jsx)(Vs,{className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Counter Offer"})]}),(0,_r.jsxs)("div",{className:"flex gap-2",children:[(0,_r.jsx)("div",{className:"flex-1",children:(0,_r.jsx)("input",{type:"number",value:c,onChange:e=>d(e.target.value),placeholder:"Amount",className:"input-dark w-full"})}),(0,_r.jsx)("div",{className:"flex-1",children:(0,_r.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"Message (optional)",className:"input-dark w-full"})})]}),(0,_r.jsx)("button",{onClick:async()=>{if(c)try{v("counter"),await Xh.post("/admin/negotiations/".concat(a,"/counter"),{amount:parseFloat(c),text:u||null}),Qt.success("Counter-offer sent"),d(""),m(""),await w()}catch(e){Qt.error("Failed to send counter-offer")}finally{v(null)}else Qt.error("Please enter a counter amount")},disabled:"counter"===b,className:"btn-secondary w-full flex items-center justify-center gap-2",children:"counter"===b?(0,_r.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),"Send Counter"]})})]}),(0,_r.jsxs)("div",{className:"gem-card p-4 space-y-3 border-green-500/30",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,_r.jsx)(hm,{className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Accept Offer"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs text-gray-500",children:"Accept Amount"}),(0,_r.jsx)("input",{type:"number",value:p,onChange:e=>h(e.target.value),placeholder:"Amount",className:"input-dark w-full"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"text-xs text-gray-500",children:"Token TTL (minutes)"}),(0,_r.jsx)("input",{type:"number",value:f,onChange:e=>x(e.target.value),placeholder:"30",className:"input-dark w-full"})]})]}),(0,_r.jsx)("button",{onClick:async()=>{if(p)try{v("accept"),await Xh.post("/admin/negotiations/".concat(a,"/accept"),{amount:parseFloat(p),ttl_minutes:parseInt(f)}),Qt.success("Offer accepted! Purchase agreement created."),await w()}catch(e){Qt.error("Failed to accept offer")}finally{v(null)}else Qt.error("Please enter an accept amount")},disabled:"accept"===b,className:"w-full py-2 bg-green-500/20 border border-green-500/50 text-green-400 hover:bg-green-500/30 transition-colors flex items-center justify-center gap-2",children:"accept"===b?(0,_r.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-green-400 border-t-transparent rounded-full"}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(hm,{className:"w-4 h-4"}),"Accept & Create Agreement"]})}),(0,_r.jsx)("p",{className:"text-xs text-gray-600",children:"Creates a time-limited purchase token for the user. Does NOT change product price."})]}),(0,_r.jsxs)("div",{className:"gem-card p-4 space-y-3 border-red-500/30",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-red-400",children:[(0,_r.jsx)(Qr,{className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Close Negotiation"})]}),(0,_r.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),placeholder:"Closing message (optional)",className:"input-dark w-full"}),(0,_r.jsx)("button",{onClick:async()=>{try{v("close"),await Xh.post("/admin/negotiations/".concat(a,"/close"),{text:g||null}),Qt.success("Negotiation closed"),await w()}catch(e){Qt.error("Failed to close negotiation")}finally{v(null)}},disabled:"close"===b,className:"w-full py-2 bg-red-500/20 border border-red-500/50 text-red-400 hover:bg-red-500/30 transition-colors flex items-center justify-center gap-2",children:"close"===b?(0,_r.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-red-400 border-t-transparent rounded-full"}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Qr,{className:"w-4 h-4"}),"Close Negotiation"]})})]})]})]})},Vf=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)("OPEN"),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),p=(0,r.useCallback)(async()=>{try{n(!0);let e=s?"?status=".concat(s):"?";u&&(e+="".concat(e.includes("?")&&e.length>1?"&":e.endsWith("?")?"":"?","include_deleted=true"));const a=await Xh.get("/admin/negotiations".concat(e));t(a)}catch(a){var e;401!==(null===(e=a.response)||void 0===e?void 0:e.status)&&Qt.error("Failed to load negotiations")}finally{n(!1)}},[s,u]);(0,r.useEffect)(()=>{p()},[p]);return l?(0,_r.jsx)("div",{className:"min-h-screen bg-[#050505] p-6",children:(0,_r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,_r.jsx)(Wf,{negotiationId:l,onBack:()=>{o(null),p()}})})}):(0,_r.jsxs)("div",{className:"space-y-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"title-sm text-2xl",children:"Negotiations"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Name Your Price offers and agreements"})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,_r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer","data-testid":"show-deleted-toggle-neg",children:[(0,_r.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked),className:"rounded border-white/20"}),"Show deleted"]}),(0,_r.jsx)("div",{className:"flex gap-2",children:["OPEN","ACCEPTED","CLOSED",""].map(e=>(0,_r.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 text-sm uppercase tracking-wider border ".concat(s===e?"border-amber-500 text-amber-400 bg-amber-500/10":"border-white/10 text-gray-400 hover:border-white/20"),children:e||"All"},e))})]})]}),a?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full"})}):0===e.length?(0,_r.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,_r.jsx)(Jp,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),(0,_r.jsx)("p",{children:"No negotiations found"}),(0,_r.jsx)("p",{className:"text-sm mt-1",children:s?"No ".concat(s.toLowerCase()," negotiations"):"Create your first Name Your Price offer"})]}):(0,_r.jsx)("div",{className:"space-y-3",children:e.map(e=>{var t,a;return(0,_r.jsxs)("div",{className:"gem-card overflow-hidden ".concat(e.is_deleted?"opacity-60 border-red-500/30":""),"data-testid":"negotiation-".concat(e.negotiation_id),children:[(0,_r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>d(c===e.negotiation_id?null:e.negotiation_id),children:(0,_r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_r.jsx)("h3",{className:"font-semibold",children:e.product_title}),(0,_r.jsx)(qf,{status:e.status})]}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.user_name," \u2022 ",e.user_email]}),(0,_r.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-600",children:[(0,_r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,_r.jsx)(Vs,{className:"w-3 h-3"}),e.message_count," messages"]}),(0,_r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,_r.jsx)(xh,{className:"w-3 h-3"}),(a=e.last_activity_at,new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]}),e.last_amount&&(0,_r.jsxs)("span",{className:"flex items-center gap-1 text-amber-400",children:[(0,_r.jsx)(Jp,{className:"w-3 h-3"}),"$",e.last_amount.toLocaleString()]})]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsxs)("span",{className:"text-xs text-gray-500",children:["Listed: $",null===(t=e.product_price)||void 0===t?void 0:t.toLocaleString()]}),c===e.negotiation_id?(0,_r.jsx)(pm,{className:"w-5 h-5 text-gray-500"}):(0,_r.jsx)(mm,{className:"w-5 h-5 text-gray-500"})]})]})}),c===e.negotiation_id&&(0,_r.jsxs)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4 space-y-2",children:[(0,_r.jsx)("button",{onClick:()=>o(e.negotiation_id),className:"btn-primary w-full",children:"Open Full Thread"}),(0,_r.jsx)("div",{className:"flex items-center gap-2 pt-2",children:e.is_deleted?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("span",{className:"text-xs text-red-400",children:"Deleted"}),(0,_r.jsxs)("button",{onClick:()=>(async e=>{try{await Xh.post("/admin/negotiations/".concat(e,"/restore")),Qt.success("Negotiation restored"),p()}catch(kx){Qt.error("Restore failed")}})(e.negotiation_id),className:"text-xs px-3 py-1 bg-green-500/20 text-green-400 hover:bg-green-500/30","data-testid":"restore-neg-".concat(e.negotiation_id),children:[(0,_r.jsx)(af,{className:"w-3 h-3 inline mr-1"}),"Restore"]}),(0,_r.jsx)("button",{onClick:()=>(async e=>{if("PURGE"===window.prompt("Type PURGE to confirm permanent deletion"))try{await Xh.delete("/admin/negotiations/".concat(e,"?hard=true")),Qt.success("Negotiation permanently deleted"),p()}catch(kx){Qt.error("Purge failed")}})(e.negotiation_id),className:"text-xs px-3 py-1 bg-red-500/20 text-red-400 hover:bg-red-500/30","data-testid":"purge-neg-".concat(e.negotiation_id),children:"Purge"})]}):(0,_r.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this negotiation?"))try{await Xh.post("/admin/negotiations/".concat(e,"/delete"),{}),Qt.success("Negotiation deleted"),p()}catch(kx){Qt.error("Delete failed")}})(e.negotiation_id),className:"text-xs px-3 py-1 bg-red-500/10 text-red-400 hover:bg-red-500/20","data-testid":"delete-neg-".concat(e.negotiation_id),children:[(0,_r.jsx)(Us,{className:"w-3 h-3 inline mr-1"}),"Delete"]})})]})]},e.negotiation_id)})})]})},Kf=Kr("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),$f=Kr("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),Yf=Kr("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Gf={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Qf=()=>{const{getAuthHeaders:e}=zr(),[t,a]=(0,r.useState)({stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",stripe_webhook_secret:"",stripe_test_mode:!0,stripe_connected_at:null}),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d()},[]);const d=async()=>{try{const t=await Sr.get("".concat(Gf,"/admin/settings"),e());a(e=>m(m({},e),{},{stripe_enabled:t.data.stripe_enabled||!1,stripe_publishable_key:t.data.stripe_publishable_key||"",stripe_secret_key:t.data.stripe_secret_key||"",stripe_webhook_secret:t.data.stripe_webhook_secret||"",stripe_test_mode:!1!==t.data.stripe_test_mode,stripe_connected_at:t.data.stripe_connected_at||null}))}catch(t){console.error("Failed to fetch settings:",t)}finally{s(!1)}},u=async()=>{l(!0);try{const a=m(m({},t),{},{stripe_connected_at:t.stripe_secret_key?(new Date).toISOString():null});await Sr.patch("".concat(Gf,"/admin/settings"),a,e()),Qt.success("Stripe settings saved"),d()}catch(a){Qt.error("Failed to save settings")}finally{l(!1)}};return n?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{className:"max-w-2xl","data-testid":"stripe-settings-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Payment Settings"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Configure Stripe for accepting payments"})]}),(0,_r.jsxs)(Tt,{to:"/admin/help/stripe",className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm",children:[(0,_r.jsx)(As,{className:"w-4 h-4"})," Setup Guide"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(ah,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-semibold",children:"Enable Stripe Payments"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Turn on/off payment processing"})]})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{stripe_enabled:!e.stripe_enabled})),className:"flex items-center gap-2","data-testid":"stripe-enable-toggle",children:t.stripe_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),t.stripe_connected_at&&(0,_r.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center gap-2 text-sm",children:[(0,_r.jsx)(th,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500",children:"Connected:"}),(0,_r.jsx)("span",{children:new Date(t.stripe_connected_at).toLocaleDateString()}),(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400 ml-2"})]})]}),(0,_r.jsx)("div",{className:"gem-card p-4 mb-6 flex items-center gap-3 ".concat(t.stripe_enabled?"border-green-500/30":"border-yellow-500/30"),children:t.stripe_enabled?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Hs,{className:"w-5 h-5 text-green-400"}),(0,_r.jsx)("span",{className:"text-green-400",children:"Stripe is enabled"}),t.stripe_test_mode&&(0,_r.jsx)("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 ml-auto",children:"Test Mode"})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(rh,{className:"w-5 h-5 text-yellow-400"}),(0,_r.jsx)("span",{className:"text-yellow-400",children:"Stripe is disabled"})]})}),t.stripe_enabled&&(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-medium",children:"Test Mode"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Use test API keys (no real charges)"})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{stripe_test_mode:!e.stripe_test_mode})),className:"w-12 h-6 rounded-full transition-colors ".concat(t.stripe_test_mode?"bg-yellow-500":"bg-green-500"),children:(0,_r.jsx)("div",{className:"w-5 h-5 rounded-full bg-white transition-transform ".concat(t.stripe_test_mode?"translate-x-6":"translate-x-0.5")})})]}),(0,_r.jsx)("hr",{className:"border-white/10"}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:["Publishable Key ",t.stripe_test_mode?"(Test)":"(Live)"]}),(0,_r.jsx)("input",{type:"text",value:t.stripe_publishable_key,onChange:e=>a(t=>m(m({},t),{},{stripe_publishable_key:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"pk_test_...","data-testid":"stripe-publishable-key-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsxs)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:["Secret Key ",t.stripe_test_mode?"(Test)":"(Live)"]}),(0,_r.jsx)("input",{type:"password",value:t.stripe_secret_key,onChange:e=>a(t=>m(m({},t),{},{stripe_secret_key:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"sk_test_...","data-testid":"stripe-secret-key-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Webhook Secret (Optional)"}),(0,_r.jsx)("input",{type:"password",value:t.stripe_webhook_secret,onChange:e=>a(t=>m(m({},t),{},{stripe_webhook_secret:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"whsec_..."}),(0,_r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Required for order status updates"})]}),(0,_r.jsxs)("button",{onClick:async()=>{if(t.stripe_secret_key){c(!0);try{await new Promise(e=>setTimeout(e,1e3)),Qt.success("Stripe connection successful!"),a(e=>m(m({},e),{},{stripe_connected_at:(new Date).toISOString()}))}catch(e){Qt.error("Connection test failed")}finally{c(!1)}}else Qt.error("Please enter your Stripe Secret Key first")},disabled:o||!t.stripe_secret_key,className:"btn-secondary w-full flex items-center justify-center gap-2","data-testid":"test-stripe-connection-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),o?"Testing...":"Test Connection"]}),(0,_r.jsx)("button",{onClick:u,disabled:i,className:"btn-primary w-full","data-testid":"save-stripe-settings-btn",children:i?"Saving...":"Save Settings"})]}),!t.stripe_enabled&&(0,_r.jsx)("button",{onClick:u,disabled:i,className:"btn-primary w-full","data-testid":"save-stripe-settings-btn",children:i?"Saving...":"Save Settings"}),(0,_r.jsxs)("div",{className:"mt-6 flex gap-4 text-sm",children:[(0,_r.jsxs)("a",{href:"https://dashboard.stripe.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-gray-500 hover:text-white",children:[(0,_r.jsx)(Yf,{className:"w-4 h-4"})," Stripe Dashboard"]}),(0,_r.jsxs)("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-gray-500 hover:text-white",children:[(0,_r.jsx)(Yf,{className:"w-4 h-4"})," Get API Keys"]})]})]})},Xf={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",Jf=[{id:"cloudinary",name:"Cloudinary",url:"https://cloudinary.com"},{id:"s3",name:"AWS S3",url:"https://aws.amazon.com/s3/"},{id:"gcs",name:"Google Cloud Storage",url:"https://cloud.google.com/storage"},{id:"bunny",name:"Bunny CDN",url:"https://bunny.net"},{id:"backblaze",name:"Backblaze B2",url:"https://www.backblaze.com/b2/"},{id:"other",name:"Other / Custom",url:""}],Zf=()=>{const{getAuthHeaders:e}=zr(),[t,a]=(0,r.useState)({cloud_storage_enabled:!1,cloud_storage_provider:"",cloud_storage_api_key:"",cloud_storage_api_secret:"",cloud_storage_bucket:"",cloud_storage_url:"",cloud_storage_connected_at:null}),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d()},[]);const d=async()=>{try{const t=await Sr.get("".concat(Xf,"/admin/settings"),e());a(e=>m(m({},e),{},{cloud_storage_enabled:t.data.cloud_storage_enabled||!1,cloud_storage_provider:t.data.cloud_storage_provider||"",cloud_storage_api_key:t.data.cloud_storage_api_key||"",cloud_storage_api_secret:t.data.cloud_storage_api_secret||"",cloud_storage_bucket:t.data.cloud_storage_bucket||"",cloud_storage_url:t.data.cloud_storage_url||"",cloud_storage_connected_at:t.data.cloud_storage_connected_at||null}))}catch(t){console.error("Failed to fetch settings:",t)}finally{s(!1)}},u=async()=>{l(!0);try{const a=m(m({},t),{},{cloud_storage_connected_at:t.cloud_storage_api_key?(new Date).toISOString():null});await Sr.patch("".concat(Xf,"/admin/settings"),a,e()),Qt.success("Storage settings saved"),d()}catch(a){Qt.error("Failed to save settings")}finally{l(!1)}};if(n)return(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})});const p=Jf.find(e=>e.id===t.cloud_storage_provider);return(0,_r.jsxs)("div",{className:"max-w-2xl","data-testid":"storage-settings-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Cloud Storage"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Configure image and video hosting"})]}),(0,_r.jsxs)(Tt,{to:"/admin/help/storage",className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm",children:[(0,_r.jsx)(As,{className:"w-4 h-4"})," Setup Guide"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(zh,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-semibold",children:"Enable Cloud Storage"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Turn on/off cloud media hosting"})]})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{cloud_storage_enabled:!e.cloud_storage_enabled})),className:"flex items-center gap-2","data-testid":"storage-enable-toggle",children:t.cloud_storage_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),t.cloud_storage_connected_at&&(0,_r.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center gap-2 text-sm",children:[(0,_r.jsx)(th,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500",children:"Connected:"}),(0,_r.jsx)("span",{children:new Date(t.cloud_storage_connected_at).toLocaleDateString()}),(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400 ml-2"})]})]}),(0,_r.jsx)("div",{className:"gem-card p-4 mb-6 flex items-center gap-3 ".concat(t.cloud_storage_enabled?"border-green-500/30":"border-yellow-500/30"),children:t.cloud_storage_enabled?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Hs,{className:"w-5 h-5 text-green-400"}),(0,_r.jsx)("span",{className:"text-green-400",children:"Cloud storage is enabled"}),p&&(0,_r.jsx)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 ml-auto",children:p.name})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(rh,{className:"w-5 h-5 text-yellow-400"}),(0,_r.jsx)("span",{className:"text-yellow-400",children:"Cloud storage is disabled - using direct URLs only"})]})}),t.cloud_storage_enabled&&(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Storage Provider"}),(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Jf.map(e=>(0,_r.jsx)("button",{onClick:()=>a(t=>m(m({},t),{},{cloud_storage_provider:e.id})),className:"p-3 text-left text-sm border transition-colors ".concat(t.cloud_storage_provider===e.id?"border-white bg-white/10":"border-white/10 hover:border-white/30"),"data-testid":"storage-provider-".concat(e.id),children:e.name},e.id))})]}),t.cloud_storage_provider&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Key / Access Key"}),(0,_r.jsx)("input",{type:"text",value:t.cloud_storage_api_key,onChange:e=>a(t=>m(m({},t),{},{cloud_storage_api_key:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"Your API key","data-testid":"storage-api-key-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Secret / Secret Key"}),(0,_r.jsx)("input",{type:"password",value:t.cloud_storage_api_secret,onChange:e=>a(t=>m(m({},t),{},{cloud_storage_api_secret:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"Your API secret"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Bucket / Cloud Name"}),(0,_r.jsx)("input",{type:"text",value:t.cloud_storage_bucket,onChange:e=>a(t=>m(m({},t),{},{cloud_storage_bucket:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"your-bucket-name"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Base URL (Optional)"}),(0,_r.jsx)("input",{type:"url",value:t.cloud_storage_url,onChange:e=>a(t=>m(m({},t),{},{cloud_storage_url:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"https://cdn.example.com"}),(0,_r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Custom domain or CDN URL"})]}),(0,_r.jsxs)("button",{onClick:async()=>{if(t.cloud_storage_api_key&&t.cloud_storage_provider){c(!0);try{await new Promise(e=>setTimeout(e,1e3)),Qt.success("Storage connection successful!"),a(e=>m(m({},e),{},{cloud_storage_connected_at:(new Date).toISOString()}))}catch(e){Qt.error("Connection test failed")}finally{c(!1)}}else Qt.error("Please configure provider and API key first")},disabled:o||!t.cloud_storage_api_key,className:"btn-secondary w-full flex items-center justify-center gap-2","data-testid":"test-storage-connection-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),o?"Testing...":"Test Connection"]})]}),(0,_r.jsx)("button",{onClick:u,disabled:i,className:"btn-primary w-full","data-testid":"save-storage-settings-btn",children:i?"Saving...":"Save Settings"})]}),!t.cloud_storage_enabled&&(0,_r.jsx)("button",{onClick:u,disabled:i,className:"btn-primary w-full","data-testid":"save-storage-settings-btn",children:i?"Saving...":"Save Settings"}),p&&p.url&&(0,_r.jsx)("div",{className:"mt-6",children:(0,_r.jsxs)("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-gray-500 hover:text-white",children:[(0,_r.jsx)(Yf,{className:"w-4 h-4"})," Visit ",p.name]})})]})},ex={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",tx=[{id:"twilio",name:"Twilio"},{id:"vonage",name:"Vonage (Nexmo)"},{id:"messagebird",name:"MessageBird"},{id:"plivo",name:"Plivo"}],ax=[{id:"recaptcha",name:"Google reCAPTCHA"},{id:"hcaptcha",name:"hCaptcha"},{id:"turnstile",name:"Cloudflare Turnstile"}],nx=()=>{const{getAuthHeaders:e}=zr(),[t,a]=(0,r.useState)({sms_enabled:!1,sms_provider:"",sms_api_key:"",sms_api_secret:"",sms_phone_number:"",sms_connected_at:null,captcha_enabled:!1,captcha_provider:"",captcha_site_key:"",captcha_secret_key:"",captcha_for_user_signup:!1,captcha_for_inquiries:!1,captcha_connected_at:null}),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p()},[]);const p=async()=>{try{const t=await Sr.get("".concat(ex,"/admin/settings"),e());a(e=>m(m({},e),t.data))}catch(t){console.error("Failed to fetch settings:",t)}finally{s(!1)}};return n?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{className:"max-w-2xl","data-testid":"security-settings-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Security Settings"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Configure 2FA, CAPTCHA, and verification"})]}),(0,_r.jsxs)(Tt,{to:"/admin/help/security",className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm",children:[(0,_r.jsx)(As,{className:"w-4 h-4"})," Setup Guide"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(Uh,{className:"w-5 h-5 text-blue-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"font-semibold",children:"SMS Verification (2FA)"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Turn on/off SMS verification"})]})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{sms_enabled:!e.sms_enabled})),className:"flex items-center gap-2","data-testid":"sms-enable-toggle",children:t.sms_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),t.sms_connected_at&&(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,_r.jsx)(th,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500",children:"Connected:"}),(0,_r.jsx)("span",{children:new Date(t.sms_connected_at).toLocaleDateString()}),(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400 ml-2"})]}),(0,_r.jsx)("div",{className:"p-3 flex items-center gap-3 ".concat(t.sms_enabled?"bg-green-500/10":"bg-yellow-500/10"),children:t.sms_enabled?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400"}),(0,_r.jsx)("span",{className:"text-sm text-green-400",children:"SMS verification enabled"})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(rh,{className:"w-4 h-4 text-yellow-400"}),(0,_r.jsx)("span",{className:"text-sm text-yellow-400",children:"SMS verification disabled"})]})}),t.sms_enabled&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"SMS Provider"}),(0,_r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:tx.map(e=>(0,_r.jsx)("button",{onClick:()=>a(t=>m(m({},t),{},{sms_provider:e.id})),className:"p-3 text-left text-sm border transition-colors ".concat(t.sms_provider===e.id?"border-white bg-white/10":"border-white/10 hover:border-white/30"),"data-testid":"sms-provider-".concat(e.id),children:e.name},e.id))})]}),t.sms_provider&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Key / Account SID"}),(0,_r.jsx)("input",{type:"text",value:t.sms_api_key,onChange:e=>a(t=>m(m({},t),{},{sms_api_key:e.target.value})),className:"input-dark h-10 text-sm font-mono","data-testid":"sms-api-key-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Secret / Auth Token"}),(0,_r.jsx)("input",{type:"password",value:t.sms_api_secret,onChange:e=>a(t=>m(m({},t),{},{sms_api_secret:e.target.value})),className:"input-dark h-10 text-sm font-mono"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"SMS Phone Number"}),(0,_r.jsx)("input",{type:"tel",value:t.sms_phone_number,onChange:e=>a(t=>m(m({},t),{},{sms_phone_number:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"+1234567890"}),(0,_r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Your phone number to receive verification codes"})]}),(0,_r.jsxs)("button",{onClick:async()=>{if(t.sms_api_key&&t.sms_provider){c(!0);try{await new Promise(e=>setTimeout(e,1e3)),Qt.success("SMS connection successful!"),a(e=>m(m({},e),{},{sms_connected_at:(new Date).toISOString()}))}catch(e){Qt.error("Connection test failed")}finally{c(!1)}}else Qt.error("Please configure SMS provider and API key first")},disabled:o||!t.sms_api_key,className:"btn-secondary w-full flex items-center justify-center gap-2","data-testid":"test-sms-connection-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),o?"Testing...":"Test Connection"]})]})]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(Uh,{className:"w-5 h-5 text-purple-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"font-semibold",children:"CAPTCHA Protection"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Turn on/off CAPTCHA protection"})]})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{captcha_enabled:!e.captcha_enabled})),className:"flex items-center gap-2","data-testid":"captcha-enable-toggle",children:t.captcha_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),t.captcha_connected_at&&(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,_r.jsx)(th,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500",children:"Connected:"}),(0,_r.jsx)("span",{children:new Date(t.captcha_connected_at).toLocaleDateString()}),(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400 ml-2"})]}),(0,_r.jsx)("div",{className:"p-3 flex items-center gap-3 ".concat(t.captcha_enabled?"bg-green-500/10":"bg-yellow-500/10"),children:t.captcha_enabled?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400"}),(0,_r.jsx)("span",{className:"text-sm text-green-400",children:"CAPTCHA enabled"})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(rh,{className:"w-4 h-4 text-yellow-400"}),(0,_r.jsx)("span",{className:"text-sm text-yellow-400",children:"CAPTCHA disabled"})]})}),t.captcha_enabled&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"CAPTCHA Provider"}),(0,_r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:ax.map(e=>(0,_r.jsx)("button",{onClick:()=>a(t=>m(m({},t),{},{captcha_provider:e.id})),className:"p-3 text-left text-sm border transition-colors ".concat(t.captcha_provider===e.id?"border-white bg-white/10":"border-white/10 hover:border-white/30"),"data-testid":"captcha-provider-".concat(e.id),children:e.name},e.id))})]}),t.captcha_provider&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Site Key"}),(0,_r.jsx)("input",{type:"text",value:t.captcha_site_key,onChange:e=>a(t=>m(m({},t),{},{captcha_site_key:e.target.value})),className:"input-dark h-10 text-sm font-mono","data-testid":"captcha-site-key-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Secret Key"}),(0,_r.jsx)("input",{type:"password",value:t.captcha_secret_key,onChange:e=>a(t=>m(m({},t),{},{captcha_secret_key:e.target.value})),className:"input-dark h-10 text-sm font-mono"})]}),(0,_r.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,_r.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Apply CAPTCHA to:"}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:t.captcha_for_user_signup,onChange:e=>a(t=>m(m({},t),{},{captcha_for_user_signup:e.target.checked})),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"User Registration"})]}),(0,_r.jsxs)("label",{className:"flex items-center gap-3",children:[(0,_r.jsx)("input",{type:"checkbox",checked:t.captcha_for_inquiries,onChange:e=>a(t=>m(m({},t),{},{captcha_for_inquiries:e.target.checked})),className:"w-4 h-4"}),(0,_r.jsx)("span",{className:"text-sm",children:"All Inquiry Forms"})]})]}),(0,_r.jsxs)("button",{onClick:async()=>{if(t.captcha_site_key&&t.captcha_provider){u(!0);try{await new Promise(e=>setTimeout(e,1e3)),Qt.success("CAPTCHA connection successful!"),a(e=>m(m({},e),{},{captcha_connected_at:(new Date).toISOString()}))}catch(e){Qt.error("Connection test failed")}finally{u(!1)}}else Qt.error("Please configure CAPTCHA provider and site key first")},disabled:d||!t.captcha_site_key,className:"btn-secondary w-full flex items-center justify-center gap-2","data-testid":"test-captcha-connection-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),d?"Testing...":"Test Connection"]})]})]})]}),(0,_r.jsx)("button",{onClick:async()=>{l(!0);try{const a=m(m({},t),{},{sms_connected_at:t.sms_api_key?(new Date).toISOString():null,captcha_connected_at:t.captcha_site_key?(new Date).toISOString():null});await Sr.patch("".concat(ex,"/admin/settings"),a,e()),Qt.success("Security settings saved"),p()}catch(a){Qt.error("Failed to save settings")}finally{l(!1)}},disabled:i,className:"btn-primary w-full","data-testid":"save-security-settings-btn",children:i?"Saving...":"Save All Security Settings"})]})},rx=Kr("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),sx=e=>{let{items:t,setItems:a,fields:n,title:r,icon:s}=e;const i=(e,n,r)=>{const s=[...t];s[e]=m(m({},s[e]),{},{[n]:r}),a(s)},l=(e,n)=>{if("up"===n&&0===e)return;if("down"===n&&e===t.length-1)return;const r=[...t],s="up"===n?e-1:e+1;[r[e],r[s]]=[r[s],r[e]],a(r.map((e,t)=>m(m({},e),{},{order:t})))};return(0,_r.jsxs)("div",{className:"space-y-4",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,_r.jsx)(s,{className:"w-4 h-4 text-amber-400"}),(0,_r.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-widest text-gray-400",children:r})]}),(0,_r.jsxs)("button",{type:"button",onClick:()=>{const e=m({id:"temp-".concat(Date.now()),order:t.length},n.reduce((e,t)=>m(m({},e),{},{[t.key]:t.default||""}),{}));a([...t,e])},className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300",children:[(0,_r.jsx)(tf,{className:"w-4 h-4"})," Add"]})]}),0===t.length?(0,_r.jsx)("p",{className:"text-gray-600 text-sm italic",children:'No items yet. Click "Add" to create one.'}):(0,_r.jsx)("div",{className:"space-y-4",children:t.map((e,r)=>(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 p-4 rounded-lg",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)(rx,{className:"w-4 h-4 text-gray-600"}),(0,_r.jsxs)("span",{className:"text-xs text-gray-500",children:["#",r+1]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_r.jsx)("button",{type:"button",onClick:()=>l(r,"up"),disabled:0===r,className:"text-gray-500 hover:text-white disabled:opacity-30",children:"\u2191"}),(0,_r.jsx)("button",{type:"button",onClick:()=>l(r,"down"),disabled:r===t.length-1,className:"text-gray-500 hover:text-white disabled:opacity-30",children:"\u2193"}),(0,_r.jsx)("button",{type:"button",onClick:()=>(e=>{const n=t.filter((t,a)=>a!==e);a(n.map((e,t)=>m(m({},e),{},{order:t})))})(r),className:"text-red-400 hover:text-red-300",children:(0,_r.jsx)(Us,{className:"w-4 h-4"})})]})]}),(0,_r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map(t=>(0,_r.jsxs)("div",{className:t.fullWidth?"md:col-span-2":"",children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:t.label}),"textarea"===t.type?(0,_r.jsx)("textarea",{value:e[t.key]||"",onChange:e=>i(r,t.key,e.target.value),className:"input-dark h-20 text-sm resize-none",placeholder:t.placeholder}):(0,_r.jsx)("input",{type:t.type||"text",value:e[t.key]||"",onChange:e=>i(r,t.key,e.target.value),className:"input-dark h-9 text-sm",placeholder:t.placeholder})]},t.key))})]},e.id))})]})},ix=()=>{const[e,t]=(0,r.useState)(!0),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{l()},[]);const l=async()=>{try{t(!0);const e=await Xh.get("/admin/content/studio");i(e)}catch(e){Qt.error("Failed to load Studio content")}finally{t(!1)}},o=async()=>{try{n(!0),await Xh.put("/admin/content/studio",s),Qt.success("Studio content saved!"),l()}catch(a){var e,t;Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to save")}finally{n(!1)}},c=(e,t)=>{i(a=>m(m({},a),{},{hero:m(m({},a.hero),{},{[e]:t})}))},d=(e,t,a)=>{i(n=>m(m({},n),{},{before_after:m(m({},n.before_after),{},{[e]:"labels"===e?m(m({},n.before_after.labels),{},{[t]:a}):m(m({},n.before_after[e]),{},{[t]:a})})}))},u=(e,t)=>{i(a=>m(m({},a),{},{cta:m(m({},a.cta),{},{[e]:t})}))};return e?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):s?(0,_r.jsxs)("div",{className:"space-y-8","data-testid":"admin-studio",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"text-2xl title-xl",children:"Studio Content"}),(0,_r.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:["Version ",s.version," \u2022 Last updated: ",new Date(s.updated_at).toLocaleString()]})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsxs)("button",{onClick:async()=>{if(window.confirm("Reset all Studio content to defaults? This cannot be undone."))try{await Jh.post("/dev/content/studio/reset",{}),Qt.success("Content reset to defaults"),l()}catch(e){Qt.error("Failed to reset content")}},className:"btn-secondary flex items-center gap-2","data-testid":"reset-btn",children:[(0,_r.jsx)(af,{className:"w-4 h-4"})," Reset"]}),(0,_r.jsxs)("button",{onClick:o,disabled:a,className:"btn-primary flex items-center gap-2","data-testid":"save-btn",children:[(0,_r.jsx)(xf,{className:"w-4 h-4"})," ",a?"Saving...":"Save"]})]})]}),(0,_r.jsx)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg",children:(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[s.enabled?(0,_r.jsx)(Ah,{className:"w-5 h-5 text-green-400"}):(0,_r.jsx)(Ph,{className:"w-5 h-5 text-gray-500"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h3",{className:"font-semibold",children:"Studio Page Visibility"}),(0,_r.jsx)("p",{className:"text-sm text-gray-500",children:s.enabled?"Studio page is visible to visitors":"Studio page is hidden from navigation and returns 404"})]})]}),(0,_r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,_r.jsx)("input",{type:"checkbox",checked:s.enabled,onChange:e=>i(t=>m(m({},t),{},{enabled:e.target.checked})),className:"sr-only peer","data-testid":"enabled-toggle"}),(0,_r.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})}),(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg space-y-4",children:[(0,_r.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[(0,_r.jsx)(Lh,{className:"w-4 h-4 text-amber-400"})," Hero Section"]}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Title"}),(0,_r.jsx)("input",{type:"text",value:s.hero.title,onChange:e=>c("title",e.target.value),className:"input-dark h-10 text-sm","data-testid":"hero-title"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Subtitle"}),(0,_r.jsx)("textarea",{value:s.hero.subtitle,onChange:e=>c("subtitle",e.target.value),className:"input-dark h-20 text-sm resize-none","data-testid":"hero-subtitle"})]})]})]}),(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg space-y-4",children:[(0,_r.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[(0,_r.jsx)(Lh,{className:"w-4 h-4 text-amber-400"})," Before/After Slider"]}),(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsx)("h4",{className:"text-sm text-gray-400",children:"Before Image"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Image URL"}),(0,_r.jsx)("input",{type:"url",value:s.before_after.before.image_url,onChange:e=>d("before","image_url",e.target.value),className:"input-dark h-9 text-sm",placeholder:"https://..."})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Alt Text"}),(0,_r.jsx)("input",{type:"text",value:s.before_after.before.alt,onChange:e=>d("before","alt",e.target.value),className:"input-dark h-9 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Label"}),(0,_r.jsx)("input",{type:"text",value:s.before_after.labels.before_label,onChange:e=>d("labels","before_label",e.target.value),className:"input-dark h-9 text-sm"})]})]}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsx)("h4",{className:"text-sm text-gray-400",children:"After Image"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Image URL"}),(0,_r.jsx)("input",{type:"url",value:s.before_after.after.image_url,onChange:e=>d("after","image_url",e.target.value),className:"input-dark h-9 text-sm",placeholder:"https://..."})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Alt Text"}),(0,_r.jsx)("input",{type:"text",value:s.before_after.after.alt,onChange:e=>d("after","alt",e.target.value),className:"input-dark h-9 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Label"}),(0,_r.jsx)("input",{type:"text",value:s.before_after.labels.after_label,onChange:e=>d("labels","after_label",e.target.value),className:"input-dark h-9 text-sm"})]})]})]})]}),(0,_r.jsx)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg",children:(0,_r.jsx)(sx,{items:s.story_timeline||[],setItems:e=>i(t=>m(m({},t),{},{story_timeline:e})),title:"Story Timeline",icon:xh,fields:[{key:"year",label:"Year",placeholder:"e.g., 2020"},{key:"heading",label:"Heading",placeholder:"Title"},{key:"body",label:"Body",type:"textarea",fullWidth:!0,placeholder:"Story text..."},{key:"image_url",label:"Image URL (optional)",placeholder:"https://..."},{key:"image_alt",label:"Image Alt (optional)",placeholder:"Description"}]})}),(0,_r.jsx)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg",children:(0,_r.jsx)(sx,{items:s.equipment||[],setItems:e=>i(t=>m(m({},t),{},{equipment:e})),title:"Equipment",icon:gh,fields:[{key:"name",label:"Name",placeholder:"Equipment name"},{key:"purpose",label:"Purpose",type:"textarea",fullWidth:!0,placeholder:"What it does..."},{key:"image_url",label:"Image URL (optional)",placeholder:"https://..."},{key:"image_alt",label:"Image Alt (optional)",placeholder:"Description"}]})}),(0,_r.jsx)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg",children:(0,_r.jsx)(sx,{items:s.action_photos||[],setItems:e=>i(t=>m(m({},t),{},{action_photos:e})),title:"The Process",icon:yh,fields:[{key:"image_url",label:"Image URL",placeholder:"https://..."},{key:"alt",label:"Alt Text",placeholder:"Description"}]})}),(0,_r.jsxs)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-lg space-y-4",children:[(0,_r.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-widest text-gray-400",children:"Call to Action"}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Text"}),(0,_r.jsx)("textarea",{value:s.cta.text,onChange:e=>u("text",e.target.value),className:"input-dark h-16 text-sm resize-none"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsx)("h4",{className:"text-sm text-gray-400",children:"Primary Button"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Label"}),(0,_r.jsx)("input",{type:"text",value:s.cta.primary_label,onChange:e=>u("primary_label",e.target.value),className:"input-dark h-9 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Link"}),(0,_r.jsx)("input",{type:"text",value:s.cta.primary_href,onChange:e=>u("primary_href",e.target.value),className:"input-dark h-9 text-sm",placeholder:"/book"})]})]}),(0,_r.jsxs)("div",{className:"space-y-3",children:[(0,_r.jsx)("h4",{className:"text-sm text-gray-400",children:"Secondary Button"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Label"}),(0,_r.jsx)("input",{type:"text",value:s.cta.secondary_label,onChange:e=>u("secondary_label",e.target.value),className:"input-dark h-9 text-sm"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Link"}),(0,_r.jsx)("input",{type:"text",value:s.cta.secondary_href,onChange:e=>u("secondary_href",e.target.value),className:"input-dark h-9 text-sm",placeholder:"/gallery"})]})]})]})]})]}),(0,_r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 md:left-64 bg-[#0A0A0A]/95 border-t border-white/10 p-4 flex justify-end gap-3 z-40",children:(0,_r.jsxs)("button",{onClick:o,disabled:a,className:"btn-primary flex items-center gap-2",children:[(0,_r.jsx)(xf,{className:"w-4 h-4"})," ",a?"Saving...":"Save Changes"]})})]}):(0,_r.jsxs)("div",{className:"text-center py-12",children:[(0,_r.jsx)("p",{className:"text-gray-500",children:"Failed to load content"}),(0,_r.jsx)("button",{onClick:l,className:"mt-4 btn-secondary",children:"Retry"})]})},lx={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",ox=()=>{const{getAuthHeaders:e}=zr(),[t,a]=(0,r.useState)({user_signup_enabled:!0,require_email_verification:!1,email_notifications_enabled:!1,email_provider:"",email_api_key:"",email_from_address:""}),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o()},[]);const o=async()=>{try{const t=await Sr.get("".concat(lx,"/admin/settings"),e());a(e=>m(m({},e),t.data))}catch(t){console.error("Failed to fetch settings:",t)}finally{s(!1)}};return n?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{className:"max-w-2xl","data-testid":"general-settings-page",children:[(0,_r.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Site Settings"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"General website configuration"})]})}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(Mh,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-semibold",children:"Enable User Registration"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Allow new users to create accounts"})]})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{user_signup_enabled:!e.user_signup_enabled})),className:"flex items-center gap-2","data-testid":"user-signup-toggle",children:t.user_signup_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),(0,_r.jsx)("div",{className:"mt-4 p-3 flex items-center gap-3 ".concat(t.user_signup_enabled?"bg-green-500/10":"bg-yellow-500/10"),children:t.user_signup_enabled?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400"}),(0,_r.jsx)("span",{className:"text-sm text-green-400",children:"User registration is ACTIVE - visitors can create accounts"})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(rh,{className:"w-4 h-4 text-yellow-400"}),(0,_r.jsx)("span",{className:"text-sm text-yellow-400",children:"User registration is DISABLED - no new signups allowed"})]})})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,_r.jsx)(Hh,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsx)("h2",{className:"font-semibold",children:"Registration Options"})]}),(0,_r.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-medium",children:"Require Email Verification"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Users must verify email before full access (requires email service)"})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{require_email_verification:!e.require_email_verification})),className:"w-12 h-6 rounded-full transition-colors ".concat(t.require_email_verification?"bg-green-500":"bg-gray-700"),"data-testid":"email-verification-toggle",children:(0,_r.jsx)("div",{className:"w-5 h-5 rounded-full bg-white transition-transform ".concat(t.require_email_verification?"translate-x-6":"translate-x-0.5")})})]}),(0,_r.jsx)("div",{className:"p-3 bg-blue-500/10 text-sm",children:(0,_r.jsxs)("p",{className:"text-blue-400 flex items-start gap-2",children:[(0,_r.jsx)(rh,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,_r.jsxs)("span",{children:[(0,_r.jsx)("strong",{children:"Note:"})," Users do not need an address to sign up, but addresses are required at checkout. Only registered users can purchase items. Credit card information is NOT stored in user accounts."]})]})})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(Hh,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsx)("h2",{className:"font-semibold",children:"Email Notifications"})]}),(0,_r.jsxs)(Tt,{to:"/admin/settings/email",className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(As,{className:"w-3 h-3"})," Full Email Setup"]})]}),(0,_r.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-medium",children:"Enable Email Notifications"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Send emails for orders, inquiries, etc."})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{email_notifications_enabled:!e.email_notifications_enabled})),className:"w-12 h-6 rounded-full transition-colors ".concat(t.email_notifications_enabled?"bg-green-500":"bg-gray-700"),children:(0,_r.jsx)("div",{className:"w-5 h-5 rounded-full bg-white transition-transform ".concat(t.email_notifications_enabled?"translate-x-6":"translate-x-0.5")})})]}),t.email_notifications_enabled&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email Provider"}),(0,_r.jsxs)("select",{value:t.email_provider,onChange:e=>a(t=>m(m({},t),{},{email_provider:e.target.value})),className:"input-dark h-10 text-sm",children:[(0,_r.jsx)("option",{value:"",children:"Select provider..."}),(0,_r.jsx)("option",{value:"sendgrid",children:"SendGrid"}),(0,_r.jsx)("option",{value:"resend",children:"Resend"}),(0,_r.jsx)("option",{value:"mailgun",children:"Mailgun"}),(0,_r.jsx)("option",{value:"ses",children:"AWS SES"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Key"}),(0,_r.jsx)("input",{type:"password",value:t.email_api_key,onChange:e=>a(t=>m(m({},t),{},{email_api_key:e.target.value})),className:"input-dark h-10 text-sm font-mono"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"From Email Address"}),(0,_r.jsx)("input",{type:"email",value:t.email_from_address,onChange:e=>a(t=>m(m({},t),{},{email_from_address:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"noreply@yourdomain.com"})]})]})]}),(0,_r.jsx)("button",{onClick:async()=>{l(!0);try{await Sr.patch("".concat(lx,"/admin/settings"),t,e()),Qt.success("Settings saved")}catch(a){Qt.error("Failed to save settings")}finally{l(!1)}},disabled:i,className:"btn-primary w-full","data-testid":"save-general-settings-btn",children:i?"Saving...":"Save Settings"})]})},cx=Kr("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),dx={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",ux=()=>{const{getAuthHeaders:e}=zr(),[t,a]=(0,r.useState)({email_enabled:!1,email_provider:"",email_api_key:"",email_from_address:"",email_from_name:"",email_connected_at:null,email_test_status:null,auto_email_on_order:!0,auto_email_on_booking:!0,auto_email_on_inquiry:!1,auto_email_on_tracking:!0}),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d()},[]);const d=async()=>{try{const t=await Sr.get("".concat(dx,"/admin/settings"),e());a(e=>m(m({},e),t.data))}catch(t){console.error("Failed to fetch settings:",t)}finally{s(!1)}},u=e=>{a(t=>m(m({},t),{},{[e]:!t[e]}))};return n?(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):(0,_r.jsxs)("div",{className:"max-w-2xl","data-testid":"email-settings-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Email Service"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Configure automatic email notifications"})]}),(0,_r.jsxs)(Tt,{to:"/admin/help/email",className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(As,{className:"w-4 h-4"})," Setup Guide"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(Bh,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-semibold",children:"Enable Email Service"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Turn on/off all email functionality"})]})]}),(0,_r.jsx)("button",{onClick:()=>u("email_enabled"),className:"flex items-center gap-2","data-testid":"email-enable-toggle",children:t.email_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),t.email_connected_at&&(0,_r.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center gap-2 text-sm",children:[(0,_r.jsx)(th,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500",children:"Connected:"}),(0,_r.jsx)("span",{children:new Date(t.email_connected_at).toLocaleDateString()}),"success"===t.email_test_status&&(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400 ml-2"}),"failed"===t.email_test_status&&(0,_r.jsx)(cx,{className:"w-4 h-4 text-red-400 ml-2"})]})]}),t.email_enabled&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6 mb-6",children:[(0,_r.jsxs)("h2",{className:"font-semibold flex items-center gap-2",children:[(0,_r.jsx)(Bh,{className:"w-4 h-4 text-gray-400"}),"Provider Configuration"]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Email Provider"}),(0,_r.jsxs)("select",{value:t.email_provider,onChange:e=>a(t=>m(m({},t),{},{email_provider:e.target.value})),className:"input-dark h-10 text-sm","data-testid":"email-provider-select",children:[(0,_r.jsx)("option",{value:"",children:"Select provider..."}),(0,_r.jsx)("option",{value:"sendgrid",children:"SendGrid"}),(0,_r.jsx)("option",{value:"resend",children:"Resend"}),(0,_r.jsx)("option",{value:"mailgun",children:"Mailgun"}),(0,_r.jsx)("option",{value:"ses",children:"AWS SES"}),(0,_r.jsx)("option",{value:"postmark",children:"Postmark"})]})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Key"}),(0,_r.jsx)("input",{type:"password",value:t.email_api_key,onChange:e=>a(t=>m(m({},t),{},{email_api_key:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"Enter your API key","data-testid":"email-api-key-input"})]}),(0,_r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"From Email"}),(0,_r.jsx)("input",{type:"email",value:t.email_from_address,onChange:e=>a(t=>m(m({},t),{},{email_from_address:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"noreply@yourdomain.com","data-testid":"email-from-address-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"From Name"}),(0,_r.jsx)("input",{type:"text",value:t.email_from_name,onChange:e=>a(t=>m(m({},t),{},{email_from_name:e.target.value})),className:"input-dark h-10 text-sm",placeholder:"Cutting Corners","data-testid":"email-from-name-input"})]})]}),(0,_r.jsxs)("button",{onClick:async()=>{if(t.email_api_key&&t.email_provider){c(!0);try{const n=await Sr.post("".concat(dx,"/admin/settings/test-email"),{provider:t.email_provider,api_key:t.email_api_key,from_address:t.email_from_address},e());n.data.success?(Qt.success("Email connection successful!"),a(e=>m(m({},e),{},{email_test_status:"success",email_connected_at:(new Date).toISOString()}))):(Qt.error(n.data.message||"Connection test failed"),a(e=>m(m({},e),{},{email_test_status:"failed"})))}catch(n){Qt.error("Connection test failed"),a(e=>m(m({},e),{},{email_test_status:"failed"}))}finally{c(!1)}}else Qt.error("Please configure provider and API key first")},disabled:o||!t.email_api_key,className:"btn-secondary w-full flex items-center justify-center gap-2","data-testid":"test-email-connection-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),o?"Testing...":"Test Connection"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-4 mb-6",children:[(0,_r.jsx)("h2",{className:"font-semibold",children:"Auto Email Triggers"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Choose when to automatically send emails"}),[{key:"auto_email_on_order",label:"Order Confirmation",desc:"Send when a purchase is completed"},{key:"auto_email_on_booking",label:"Booking Confirmation",desc:"Send when a service is booked"},{key:"auto_email_on_inquiry",label:"Inquiry Receipt",desc:"Send when an inquiry is submitted"},{key:"auto_email_on_tracking",label:"Tracking Updates",desc:"Send when tracking info is added"}].map(e=>(0,_r.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:e.desc})]}),(0,_r.jsx)("button",{onClick:()=>u(e.key),className:"w-12 h-6 rounded-full transition-colors ".concat(t[e.key]?"bg-green-500":"bg-gray-700"),children:(0,_r.jsx)("div",{className:"w-5 h-5 rounded-full bg-white transition-transform ".concat(t[e.key]?"translate-x-6":"translate-x-0.5")})})]},e.key))]})]}),(0,_r.jsx)("button",{onClick:async()=>{l(!0);try{const a={email_enabled:t.email_enabled,email_provider:t.email_provider,email_api_key:t.email_api_key,email_from_address:t.email_from_address,email_from_name:t.email_from_name,auto_email_on_order:t.auto_email_on_order,auto_email_on_booking:t.auto_email_on_booking,auto_email_on_inquiry:t.auto_email_on_inquiry,auto_email_on_tracking:t.auto_email_on_tracking,email_connected_at:t.email_api_key?(new Date).toISOString():null};await Sr.patch("".concat(dx,"/admin/settings"),a,e()),Qt.success("Email settings saved"),d()}catch(a){Qt.error("Failed to save settings")}finally{l(!1)}},disabled:i,className:"btn-primary w-full","data-testid":"save-email-settings-btn",children:i?"Saving...":"Save Settings"})]})},mx=Kr("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),px=Kr("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),hx={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api",fx=[{id:"google",name:"Google Analytics",url:"https://analytics.google.com"},{id:"plausible",name:"Plausible Analytics",url:"https://plausible.io"},{id:"fathom",name:"Fathom Analytics",url:"https://usefathom.com"},{id:"mixpanel",name:"Mixpanel",url:"https://mixpanel.com"},{id:"amplitude",name:"Amplitude",url:"https://amplitude.com"},{id:"heap",name:"Heap Analytics",url:"https://heap.io"},{id:"posthog",name:"PostHog",url:"https://posthog.com"},{id:"custom",name:"Custom / Other",url:""}],xx=()=>{const{getAuthHeaders:e}=zr(),[t,a]=(0,r.useState)({analytics_enabled:!1,analytics_provider:"",analytics_tracking_id:"",analytics_api_key:"",analytics_connected_at:null,track_browser_type:!0,track_device_type:!0,track_clicks:!0,track_views:!0,track_duration:!0,track_interaction_rate:!0}),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d()},[]);const d=async()=>{try{const t=await Sr.get("".concat(hx,"/admin/settings"),e());a(e=>m(m({},e),t.data))}catch(t){console.error("Failed to fetch settings:",t)}finally{s(!1)}};if(n)return(0,_r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,_r.jsx)("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})});const u=fx.find(e=>e.id===t.analytics_provider);return(0,_r.jsxs)("div",{className:"max-w-2xl","data-testid":"analytics-settings-page",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"Analytics & Data Collection"}),(0,_r.jsx)("p",{className:"text-gray-500 text-sm",children:"Track visitor behavior and engagement"})]}),(0,_r.jsxs)(Tt,{to:"/admin/help/analytics",className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[(0,_r.jsx)(As,{className:"w-4 h-4"})," Setup Guide"]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 mb-6",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(qh,{className:"w-5 h-5 text-gray-400"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"font-semibold",children:"Enable Analytics"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Turn on/off data collection"})]})]}),(0,_r.jsx)("button",{onClick:()=>a(e=>m(m({},e),{},{analytics_enabled:!e.analytics_enabled})),className:"flex items-center gap-2","data-testid":"analytics-enable-toggle",children:t.analytics_enabled?(0,_r.jsx)(Kf,{className:"w-10 h-10 text-green-500"}):(0,_r.jsx)($f,{className:"w-10 h-10 text-gray-500"})})]}),t.analytics_connected_at&&(0,_r.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center gap-2 text-sm",children:[(0,_r.jsx)(th,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsx)("span",{className:"text-gray-500",children:"Connected:"}),(0,_r.jsx)("span",{children:new Date(t.analytics_connected_at).toLocaleDateString()}),(0,_r.jsx)(Hs,{className:"w-4 h-4 text-green-400 ml-2"})]})]}),(0,_r.jsx)("div",{className:"gem-card p-4 mb-6 flex items-center gap-3 ".concat(t.analytics_enabled?"border-green-500/30":"border-yellow-500/30"),children:t.analytics_enabled?(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(Hs,{className:"w-5 h-5 text-green-400"}),(0,_r.jsx)("span",{className:"text-green-400",children:"Analytics is enabled"}),u&&(0,_r.jsx)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 ml-auto",children:u.name})]}):(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(rh,{className:"w-5 h-5 text-yellow-400"}),(0,_r.jsx)("span",{className:"text-yellow-400",children:"Analytics is disabled - no data collection"})]})}),t.analytics_enabled&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-6 mb-6",children:[(0,_r.jsxs)("h2",{className:"font-semibold flex items-center gap-2",children:[(0,_r.jsx)(qh,{className:"w-4 h-4 text-gray-400"}),"Analytics Provider"]}),(0,_r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:fx.map(e=>(0,_r.jsx)("button",{onClick:()=>a(t=>m(m({},t),{},{analytics_provider:e.id})),className:"p-3 text-left text-xs border transition-colors ".concat(t.analytics_provider===e.id?"border-white bg-white/10":"border-white/10 hover:border-white/30"),"data-testid":"analytics-provider-".concat(e.id),children:e.name},e.id))}),t.analytics_provider&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"google"===t.analytics_provider?"Measurement ID (G-XXXXXXX)":"Tracking ID / Site ID"}),(0,_r.jsx)("input",{type:"text",value:t.analytics_tracking_id,onChange:e=>a(t=>m(m({},t),{},{analytics_tracking_id:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"google"===t.analytics_provider?"G-XXXXXXXXXX":"Your tracking ID","data-testid":"analytics-tracking-id-input"})]}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"API Key (Optional)"}),(0,_r.jsx)("input",{type:"password",value:t.analytics_api_key,onChange:e=>a(t=>m(m({},t),{},{analytics_api_key:e.target.value})),className:"input-dark h-10 text-sm font-mono",placeholder:"For advanced features"}),(0,_r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Required for server-side tracking and API access"})]}),(0,_r.jsxs)("button",{onClick:async()=>{if(t.analytics_tracking_id&&t.analytics_provider){c(!0);try{const n=await Sr.post("".concat(hx,"/admin/settings/test-analytics"),{provider:t.analytics_provider,tracking_id:t.analytics_tracking_id,api_key:t.analytics_api_key},e());n.data.success?(Qt.success("Analytics connection verified!"),a(e=>m(m({},e),{},{analytics_connected_at:(new Date).toISOString()}))):Qt.error(n.data.message||"Connection test failed")}catch(n){Qt.error("Connection test failed")}finally{c(!1)}}else Qt.error("Please configure provider and tracking ID first")},disabled:o||!t.analytics_tracking_id,className:"btn-secondary w-full flex items-center justify-center gap-2","data-testid":"test-analytics-connection-btn",children:[(0,_r.jsx)(nh,{className:"w-4 h-4"}),o?"Testing...":"Test Connection"]})]})]}),(0,_r.jsxs)("div",{className:"gem-card p-6 space-y-4 mb-6",children:[(0,_r.jsx)("h2",{className:"font-semibold",children:"Data Collection Types"}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:"Choose what data to collect from visitors"}),[{key:"track_browser_type",label:"Browser Type",desc:"Chrome, Firefox, Safari, etc.",icon:mx},{key:"track_device_type",label:"Device Type",desc:"Desktop, Mobile, Tablet",icon:mx},{key:"track_clicks",label:"Click Tracking",desc:"Track clicks on listings and gallery",icon:px},{key:"track_views",label:"Page Views",desc:"Track which pages are viewed",icon:Ah},{key:"track_duration",label:"View Duration",desc:"How long visitors stay on pages",icon:xh},{key:"track_interaction_rate",label:"Interaction Rate",desc:"Engagement with interactive elements",icon:qh}].map(e=>(0,_r.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_r.jsx)(e.icon,{className:"w-4 h-4 text-gray-500"}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("p",{className:"text-sm font-medium",children:e.label}),(0,_r.jsx)("p",{className:"text-xs text-gray-500",children:e.desc})]})]}),(0,_r.jsx)("button",{onClick:()=>a(t=>m(m({},t),{},{[e.key]:!t[e.key]})),className:"w-12 h-6 rounded-full transition-colors ".concat(t[e.key]?"bg-green-500":"bg-gray-700"),children:(0,_r.jsx)("div",{className:"w-5 h-5 rounded-full bg-white transition-transform ".concat(t[e.key]?"translate-x-6":"translate-x-0.5")})})]},e.key))]})]}),(0,_r.jsx)("button",{onClick:async()=>{l(!0);try{const a=m(m({},t),{},{analytics_connected_at:t.analytics_tracking_id?(new Date).toISOString():null});await Sr.patch("".concat(hx,"/admin/settings"),a,e()),Qt.success("Analytics settings saved"),d()}catch(a){Qt.error("Failed to save settings")}finally{l(!1)}},disabled:i,className:"btn-primary w-full","data-testid":"save-analytics-settings-btn",children:i?"Saving...":"Save Settings"}),u&&u.url&&(0,_r.jsx)("div",{className:"mt-6",children:(0,_r.jsxs)("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-gray-500 hover:text-white",children:["Visit ",u.name," \u2192"]})})]})},gx={stripe:{title:"Setting Up Stripe Payments",icon:ah,sections:[{title:"1. Create a Stripe Account",content:'\n          1. Go to [stripe.com](https://stripe.com) and click "Start now"\n          2. Enter your email and create a password\n          3. Verify your email address\n          4. Complete your business profile (you can use test mode initially)\n        '},{title:"2. Get Your API Keys",content:'\n          1. Log into your Stripe Dashboard\n          2. Click "Developers" in the left sidebar\n          3. Click "API keys"\n          4. You\'ll see two keys:\n             - **Publishable key** (starts with pk_test_ or pk_live_)\n             - **Secret key** (starts with sk_test_ or sk_live_)\n          5. Copy both keys to your admin settings\n        '},{title:"3. Test Mode vs Live Mode",content:"\n          **Test Mode** (recommended to start):\n          - Use test API keys (pk_test_ and sk_test_)\n          - No real money is charged\n          - Use test card: 4242 4242 4242 4242, any future date, any CVC\n          \n          **Live Mode** (for real payments):\n          - Complete Stripe account verification\n          - Use live API keys (pk_live_ and sk_live_)\n          - Real credit cards will be charged\n        "},{title:"4. Set Up Webhooks (Optional but Recommended)",content:'\n          Webhooks allow Stripe to notify your site about events:\n          \n          1. In Stripe Dashboard, go to Developers \u2192 Webhooks\n          2. Click "Add endpoint"\n          3. Enter your webhook URL: `https://yoursite.com/api/stripe/webhook`\n          4. Select events: payment_intent.succeeded, checkout.session.completed\n          5. Copy the "Signing secret" to your admin settings\n        '}],links:[{label:"Stripe Dashboard",url:"https://dashboard.stripe.com"},{label:"Stripe Documentation",url:"https://stripe.com/docs"},{label:"Test Card Numbers",url:"https://stripe.com/docs/testing#cards"}]},storage:{title:"Setting Up Cloud Storage",icon:zh,sections:[{title:"Option 1: Cloudinary (Easiest)",content:"\n          1. Go to [cloudinary.com](https://cloudinary.com) and sign up free\n          2. From your Dashboard, find:\n             - **Cloud Name** (your account name)\n             - **API Key**\n             - **API Secret**\n          3. Enter these in your admin settings\n          \n          Cloudinary offers 25GB free storage and automatic image optimization.\n        "},{title:"Option 2: AWS S3",content:"\n          1. Create an AWS account at [aws.amazon.com](https://aws.amazon.com)\n          2. Go to S3 and create a bucket\n          3. Go to IAM and create a user with S3 access\n          4. Get your Access Key ID and Secret Access Key\n          5. Set bucket permissions for public read access\n        "},{title:"Option 3: Direct URLs",content:"\n          You can skip cloud storage setup and use direct URLs:\n          \n          1. Upload images to any hosting service\n          2. Copy the direct image URL\n          3. Paste URLs when adding products/gallery items\n          \n          Popular free options:\n          - Imgur (imgur.com)\n          - ImgBB (imgbb.com)\n          - Google Drive (with public sharing)\n        "}],links:[{label:"Cloudinary",url:"https://cloudinary.com"},{label:"AWS S3",url:"https://aws.amazon.com/s3/"},{label:"ImgBB (Free)",url:"https://imgbb.com"}]},security:{title:"Setting Up Security Features",icon:Uh,sections:[{title:"SMS Verification with Twilio",content:"\n          1. Create account at [twilio.com](https://twilio.com)\n          2. Get your Account SID and Auth Token from the Console\n          3. Buy a phone number (or use free trial number)\n          4. Enter credentials in admin settings\n          \n          Cost: ~$0.0075 per SMS (first $15 free on trial)\n        "},{title:"Google reCAPTCHA Setup",content:'\n          1. Go to [google.com/recaptcha](https://www.google.com/recaptcha/admin)\n          2. Click "+ Create" to register a new site\n          3. Choose reCAPTCHA v2 "I\'m not a robot" checkbox\n          4. Add your domain(s)\n          5. Copy the Site Key and Secret Key\n          6. Enter in admin settings\n        '},{title:"hCaptcha Setup (Privacy-Focused Alternative)",content:"\n          1. Go to [hcaptcha.com](https://www.hcaptcha.com)\n          2. Sign up for a free account\n          3. Create a new site\n          4. Copy your Site Key and Secret Key\n          5. Enter in admin settings\n          \n          hCaptcha is free and more privacy-focused than reCAPTCHA.\n        "}],links:[{label:"Twilio",url:"https://twilio.com"},{label:"Google reCAPTCHA",url:"https://www.google.com/recaptcha"},{label:"hCaptcha",url:"https://www.hcaptcha.com"}]},email:{title:"Setting Up Email Notifications",icon:Bh,sections:[{title:"Option 1: SendGrid (Recommended)",content:"\n          1. Sign up at [sendgrid.com](https://sendgrid.com)\n          2. Complete sender verification (verify your email/domain)\n          3. Go to Settings \u2192 API Keys \u2192 Create API Key\n          4. Copy the API key (starts with SG.)\n          5. Enter in admin settings\n          \n          Free tier: 100 emails/day\n        "},{title:"Option 2: Resend (Simple & Modern)",content:"\n          1. Sign up at [resend.com](https://resend.com)\n          2. Add and verify your domain\n          3. Create an API key\n          4. Copy the key to admin settings\n          \n          Free tier: 3,000 emails/month\n        "}],links:[{label:"SendGrid",url:"https://sendgrid.com"},{label:"Resend",url:"https://resend.com"},{label:"Mailgun",url:"https://mailgun.com"}]},"system-tools":{title:"System Tools Guide",icon:Uh,sections:[{title:"What System Tools Are",content:"\n          System Tools are admin-only operational utilities for database maintenance, integrity checking, and system diagnostics.\n          \n          **Tool Categories**:\n          - **READ-ONLY**: Generate reports without changing data\n          - **STRUCTURAL**: Modify database structure (indexes) without changing records\n          - **DATA-MODIFYING**: Clean or repair data records\n          \n          These tools are designed for:\n          - Routine maintenance\n          - Troubleshooting data issues\n          - Performance optimization\n          - System health monitoring\n        "},{title:"How to Use System Tools",content:'\n          **Step-by-step process**:\n          \n          1. **Open System Tools tab** in admin navigation\n          2. **Re-enter admin password** to unlock (valid for 10 minutes)\n          3. **Select a tool** from the list\n          4. **Click "Run"** button\n          5. **Read the warning modal** carefully\n          6. **Click "I Understand \u2014 Run Now"** to proceed (or Cancel)\n          7. **Wait for completion** (some tools may take 10-30 seconds)\n          8. **Download output** as TXT or JSON for record-keeping\n          \n          **Re-authentication requirement**: Tools auto-lock after 10 minutes for safety.\n        '},{title:"What NOT to Do",content:'\n          \u26a0\ufe0f  **Critical warnings**:\n          \n          1. **DO NOT** run DATA-MODIFYING tools unless you understand the warning\n          2. **DO NOT** enable repair flags (if mentioned in outputs) without database backups\n          3. **DO NOT** repeatedly run "Ensure Indexes" during peak traffic hours\n          4. **DO NOT** treat TTL as reversible \u2014 TTL deletes are automatic once enabled\n          5. **DO NOT** run repair operations without reviewing integrity/cleanliness reports first\n          6. **DO NOT** interrupt a running tool (wait for completion)\n          7. **DO NOT** share tool outputs publicly (may contain system information)\n          \n          **Best practice**: Always run READ-ONLY reports before DATA-MODIFYING operations.\n        '},{title:"Tool Reference",content:"\n          **1. Integrity Report** (READ-ONLY)\n          - **Purpose**: Scan for orphaned references and data inconsistencies\n          - **Impact**: Database read load increase during scan\n          - **What it affects**: Nothing (read-only)\n          - **When to run**: Weekly, or when investigating data issues\n          - **Endpoint**: GET /api/admin/integrity-report\n          \n          **2. Cleanliness Report** (READ-ONLY)\n          - **Purpose**: Analyze unused data, empty collections, inactive flags, schema status\n          - **Impact**: Database read load during analysis\n          - **What it affects**: Nothing (read-only)\n          - **When to run**: Weekly, before running repairs\n          - **Endpoint**: GET /api/admin/cleanliness-report\n          \n          **3. Ensure Indexes** (STRUCTURAL)\n          - **Purpose**: Create missing database indexes for performance\n          - **Impact**: CPU usage during index creation, improved query speed after\n          - **What it affects**: Database structure only (no data changes)\n          - **When to run**: After schema changes, or if performance degrades\n          - **Endpoint**: POST /api/admin/system/ensure-indexes\n          \n          **4. Setup TTL Indexes** (STRUCTURAL)\n          - **Purpose**: Configure automatic data expiration rules\n          - **Impact**: Future automatic deletion of expired records\n          - **What it affects**: Archive collections (data may auto-delete in future)\n          - **When to run**: Only when you want to enable automatic data cleanup\n          - **Endpoint**: POST /api/admin/system/setup-ttl\n          - **\u26a0\ufe0f  WARNING**: Requires AUDIT_TTL_DAYS environment variable\n          \n          **5. TTL Status** (READ-ONLY)\n          - **Purpose**: Check which collections have TTL enabled\n          - **Impact**: None\n          - **What it affects**: Nothing (read-only)\n          - **When to run**: Anytime\n          - **Endpoint**: GET /api/admin/system/ttl-status\n          \n          **6. Maintenance Status** (READ-ONLY)\n          - **Purpose**: Check automated maintenance service status\n          - **Impact**: None\n          - **What it affects**: Nothing (read-only)\n          - **When to run**: Anytime\n          - **Endpoint**: GET /api/admin/system/maintenance-status\n          \n          **7. Run Maintenance** (DATA-MODIFYING)\n          - **Purpose**: Execute maintenance routines (archiving, cleanup, health checks)\n          - **Impact**: May clean internal temporary records\n          - **What it affects**: Old bookings (>90 days), temporary system records\n          - **When to run**: Monthly, or as needed for cleanup\n          - **Endpoint**: POST /api/admin/system/run-maintenance\n          \n          **8. Repair Cart References** (DATA-MODIFYING)\n          - **Purpose**: Remove cart items referencing deleted products\n          - **Impact**: Removes broken cart entries\n          - **What it affects**: User carts with invalid product references\n          - **When to run**: After integrity report shows cart issues\n          - **Endpoint**: POST /api/admin/repair/cart-references\n          - **\u26a0\ufe0f  WARNING**: Requires CLEANLINESS_ENABLE_REPAIR=true\n          \n          **9. Repair Empty Carts** (DATA-MODIFYING)\n          - **Purpose**: Delete abandoned empty cart records\n          - **Impact**: Removes empty cart entries from database\n          - **What it affects**: Only carts with zero items\n          - **When to run**: After cleanliness report shows many empty carts\n          - **Endpoint**: POST /api/admin/repair/empty-carts\n          - **\u26a0\ufe0f  WARNING**: Requires CLEANLINESS_ENABLE_REPAIR=true\n        "},{title:"Security Note",content:"\n          **Re-authentication gate**: The 10-minute password re-entry requirement exists to prevent accidental tool execution.\n          \n          **Important**: This is a UI safety feature. It does not change the backend security model.\n          \n          All system tools require admin JWT token authentication on the backend. The re-auth gate simply:\n          - Refreshes your admin session token\n          - Adds a time-based UI lock\n          - Prevents accidental clicks\n          \n          **Your admin token**: Already provides full authorization. The re-auth ensures intentional action.\n        "}],links:[]}},yx=()=>{const{topic:e}=_e(),t=e?gx[e]:null;return e?t?(0,_r.jsxs)("div",{className:"max-w-3xl",children:[(0,_r.jsxs)(Tt,{to:"/admin/help",className:"flex items-center gap-2 text-gray-500 hover:text-white text-sm mb-6",children:[(0,_r.jsx)(us,{className:"w-4 h-4"})," Back to Help Center"]}),(0,_r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,_r.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:(0,_r.jsx)(t.icon,{className:"w-6 h-6 text-gray-400"})}),(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl",children:t.title})]}),(0,_r.jsx)("div",{className:"space-y-8",children:t.sections.map((e,t)=>(0,_r.jsxs)("div",{className:"gem-card p-6",children:[(0,_r.jsx)("h2",{className:"font-semibold text-lg mb-4",children:e.title}),(0,_r.jsx)("div",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:e.content.split("\n").map((e,t)=>{const a=e.match(/\[([^\]]+)\]\(([^)]+)\)/);if(a){const n=e.substring(0,a.index),r=e.substring(a.index+a[0].length);return(0,_r.jsxs)("span",{children:[n,(0,_r.jsx)("a",{href:a[2],target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:a[1]}),r,(0,_r.jsx)("br",{})]},t)}const n=e.replace(/\*\*([^*]+)\*\*/g,'<strong class="text-white">$1</strong>').replace(/`([^`]+)`/g,'<code class="bg-white/10 px-1 text-xs font-mono">$1</code>');return(0,_r.jsx)("span",{dangerouslySetInnerHTML:{__html:n+"<br/>"}},t)})})]},t))}),t.links&&t.links.length>0&&(0,_r.jsxs)("div",{className:"mt-8 gem-card p-6",children:[(0,_r.jsx)("h3",{className:"font-semibold mb-4",children:"Useful Links"}),(0,_r.jsx)("div",{className:"flex flex-wrap gap-4",children:t.links.map((e,t)=>(0,_r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-gray-500 hover:text-white",children:[(0,_r.jsx)(Yf,{className:"w-4 h-4"}),e.label]},t))})]})]}):(0,_r.jsxs)("div",{className:"text-center py-12",children:[(0,_r.jsx)("p",{className:"text-gray-500",children:"Help topic not found"}),(0,_r.jsx)(Tt,{to:"/admin/help",className:"text-blue-400 hover:text-blue-300 text-sm mt-4 inline-block",children:"\u2190 Back to Help Center"})]}):(0,_r.jsxs)("div",{className:"max-w-2xl",children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-8",children:"Help Center"}),(0,_r.jsx)("div",{className:"space-y-4",children:Object.entries(gx).map(e=>{let[t,a]=e;return(0,_r.jsxs)(Tt,{to:"/admin/help/".concat(t),className:"gem-card p-4 flex items-center gap-4 hover:border-white/30 transition-colors",children:[(0,_r.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:(0,_r.jsx)(a.icon,{className:"w-6 h-6 text-gray-400"})}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h3",{className:"font-semibold",children:a.title}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500",children:[a.sections.length," sections"]})]})]},t)})})]})},bx=Kr("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),vx=[{id:"integrity-report",displayName:"Integrity Report",method:"GET",endpoint:"/api/admin/integrity-report",impactLevel:"READ-ONLY",warningText:"This operation scans database collections and generates a structural integrity report.\nNo records will be modified, deleted, or created.\nExecution may temporarily increase database read load.",outputFilenamePrefix:"integrity_report",outputFormats:["txt","json"]},{id:"cleanliness-report",displayName:"Cleanliness Report",method:"GET",endpoint:"/api/admin/cleanliness-report",impactLevel:"READ-ONLY",warningText:"This operation analyzes unused data paths, empty collections, inactive feature flags, and schema metadata.\nNo data will be changed.\nThe report is informational only.",outputFilenamePrefix:"cleanliness_report",outputFormats:["txt","json"]},{id:"ensure-indexes",displayName:"Ensure Indexes",method:"POST",endpoint:"/api/admin/system/ensure-indexes",impactLevel:"STRUCTURAL",warningText:"This operation creates missing database indexes required for performance and query correctness.\nExisting data will not be changed or deleted.\nIndex creation may temporarily increase database CPU usage while indexes are built.",outputFilenamePrefix:"ensure_indexes",outputFormats:["txt","json"],cooldownSeconds:60},{id:"setup-ttl",displayName:"Setup TTL Indexes",method:"POST",endpoint:"/api/admin/system/setup-ttl",impactLevel:"STRUCTURAL",warningText:"This operation configures automatic expiration rules for selected archival or temporary collections.\nDocuments matching TTL expiration criteria may be automatically deleted by the database in the future according to retention settings.\nExisting non-expired records will not be modified.",outputFilenamePrefix:"setup_ttl",outputFormats:["txt","json"],cooldownSeconds:120},{id:"ttl-status",displayName:"TTL Status",method:"GET",endpoint:"/api/admin/system/ttl-status",impactLevel:"READ-ONLY",warningText:"This operation reads TTL configuration status.\nNo records will be modified, deleted, or created.",outputFilenamePrefix:"ttl_status",outputFormats:["txt","json"]},{id:"maintenance-status",displayName:"Maintenance Status",method:"GET",endpoint:"/api/admin/system/maintenance-status",impactLevel:"READ-ONLY",warningText:"This operation reads maintenance configuration and runtime status.\nNo records will be modified, deleted, or created.",outputFilenamePrefix:"maintenance_status",outputFormats:["txt","json"]},{id:"run-maintenance",displayName:"Run Maintenance",method:"POST",endpoint:"/api/admin/system/run-maintenance",impactLevel:"DATA-MODIFYING",warningText:"This operation executes automated maintenance routines including index verification, archival housekeeping, and system health recalculations.\nSome internal temporary records or expired operational entries may be cleaned.\nCustomer-facing transactional data will not be removed.",outputFilenamePrefix:"run_maintenance",outputFormats:["txt","json"],cooldownSeconds:300},{id:"repair-cart-refs",displayName:"Repair Cart References",method:"POST",endpoint:"/api/admin/repair/cart-references",impactLevel:"DATA-MODIFYING",warningText:"This operation repairs invalid or orphaned cart item references by correcting or removing broken relationships.\nSome cart entries referencing non-existent products may be updated or removed.\nOrder records and completed transactions will not be affected.",outputFilenamePrefix:"repair_cart_references",outputFormats:["txt","json"],cooldownSeconds:60},{id:"repair-empty-carts",displayName:"Repair Empty Carts",method:"POST",endpoint:"/api/admin/repair/empty-carts",impactLevel:"DATA-MODIFYING",warningText:"This operation removes cart records that contain no items and are considered abandoned.\nOnly empty carts are affected.\nActive carts containing items will not be modified.",outputFilenamePrefix:"repair_empty_carts",outputFormats:["txt","json"],cooldownSeconds:60}],wx=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(""),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({}),[u,p]=(0,r.useState)({}),[h,f]=(0,r.useState)(null),[x,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("system_tools_unlock_until");if(e){const a=new Date(e);new Date<a?(t(!0),n(a)):(t(!1),n(null),localStorage.removeItem("system_tools_unlock_until"))}};e();const a=setInterval(e,1e4);return()=>clearInterval(a)},[]),(0,r.useEffect)(()=>{const e=localStorage.getItem("system_tools_outputs");if(e)try{d(JSON.parse(e))}catch(kx){console.error("Failed to load saved outputs")}},[]);const y=async e=>{e.preventDefault(),o(!0);try{const e=await axios.post("".concat(API_URL,"/api/admin/login"),{username:"postvibe",password:s});if(e.data.access_token){localStorage.setItem("admin_token",e.data.access_token);const a=new Date(Date.now()+6e5);localStorage.setItem("system_tools_unlock_until",a.toISOString()),t(!0),n(a),i(""),Qt.success("System Tools unlocked for ".concat(10," minutes"))}}catch(a){Qt.error("Re-auth failed. Tools remain locked.")}finally{o(!1)}},b=(e,t)=>{const a=c[e.id];if(!a)return;const n=new Date(a.executedAt).toISOString().replace(/[:.]/g,"-").slice(0,19),r="".concat(e.outputFilenamePrefix,"_").concat(n,".").concat(t);let s="";const i="Tool: ".concat(e.displayName,"\nEndpoint: ").concat(e.method," ").concat(e.endpoint,"\nExecuted At: ").concat(a.executedAt," (UTC)\nResult: ").concat(a.status,"\nHTTP Status: ").concat(a.httpStatus,"\n\n").concat("=".repeat(60),"\n\n");s="json"===t?JSON.stringify(a.data,null,2):i+JSON.stringify(a.data,null,2);const l=new Blob([s],{type:"json"===t?"application/json":"text/plain"}),o=URL.createObjectURL(l),d=document.createElement("a");d.href=o,d.download=r,d.click(),URL.revokeObjectURL(o)},v=e=>{switch(e){case"READ-ONLY":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"STRUCTURAL":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"DATA-MODIFYING":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return e?(0,_r.jsxs)("div",{className:"p-8",children:[(0,_r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h1",{className:"page-title title-xl text-3xl mb-2",children:"System Tools"}),(0,_r.jsx)("p",{className:"text-gray-400",children:"Maintenance and diagnostic utilities"})]}),(0,_r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,_r.jsx)(Es,{className:"w-4 h-4"}),(0,_r.jsx)("span",{children:"Unlocked"})]}),(0,_r.jsx)("span",{className:"text-gray-500",children:"\u2022"}),(0,_r.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,_r.jsx)(xh,{className:"w-4 h-4"}),(0,_r.jsx)("span",{children:(()=>{if(!a)return"";const e=Math.floor((a-new Date)/1e3/60);return e>0?"".concat(e," min remaining"):"Expired"})()})]})]})]}),(0,_r.jsx)("div",{className:"space-y-4","data-testid":"system-tools-list",children:vx.map(e=>{const t=c[e.id],a=u[e.id],n=h===e.id;return(0,_r.jsx)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg p-6",children:(0,_r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,_r.jsx)("h3",{className:"text-lg font-medium",children:e.displayName}),(0,_r.jsx)("span",{className:"text-xs px-2 py-1 border rounded ".concat(v(e.impactLevel)),children:e.impactLevel})]}),(0,_r.jsxs)("p",{className:"text-sm text-gray-500 font-mono",children:[e.method," ",e.endpoint]}),a&&(0,_r.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-400",children:["success"===a.status?(0,_r.jsx)(Hs,{className:"w-3 h-3 text-green-400"}):(0,_r.jsx)(cx,{className:"w-3 h-3 text-red-400"}),(0,_r.jsxs)("span",{children:["Last run: ",new Date(a.lastRun).toLocaleString()]})]})]}),(0,_r.jsxs)("div",{className:"flex gap-2",children:[(0,_r.jsx)("button",{onClick:()=>(e=>{g(e)})(e),disabled:n,className:"px-4 py-2 bg-[#d4af37] text-black text-sm font-medium rounded hover:bg-[#f0c750] transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"run-".concat(e.id,"-btn"),children:n?"Running...":"Run"}),t&&(0,_r.jsxs)("div",{className:"relative group",children:[(0,_r.jsxs)("button",{className:"px-4 py-2 bg-white/5 text-white text-sm font-medium rounded hover:bg-white/10 transition-colors flex items-center gap-2","data-testid":"download-".concat(e.id,"-btn"),children:[(0,_r.jsx)(Ff,{className:"w-4 h-4"}),"Download"]}),(0,_r.jsxs)("div",{className:"absolute right-0 top-full mt-2 bg-[#1A1A1A] border border-white/10 rounded shadow-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[(0,_r.jsx)("button",{onClick:()=>b(e,"txt"),className:"w-full px-4 py-2 text-sm text-left hover:bg-white/5 whitespace-nowrap",children:"Download as TXT"}),e.outputFormats.includes("json")&&(0,_r.jsx)("button",{onClick:()=>b(e,"json"),className:"w-full px-4 py-2 text-sm text-left hover:bg-white/5 whitespace-nowrap",children:"Download as JSON"})]})]})]})]})},e.id)})}),x&&(0,_r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4","data-testid":"confirm-modal",children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg max-w-2xl w-full p-6",children:[(0,_r.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,_r.jsx)("div",{className:"p-3 bg-yellow-500/10 rounded-lg flex-shrink-0",children:(0,_r.jsx)(jf,{className:"w-6 h-6 text-yellow-400"})}),(0,_r.jsxs)("div",{className:"flex-1",children:[(0,_r.jsx)("h3",{className:"text-xl title-sm mb-2",children:x.displayName}),(0,_r.jsx)("span",{className:"inline-block text-xs px-2 py-1 border rounded ".concat(v(x.impactLevel)),children:x.impactLevel})]})]}),(0,_r.jsx)("div",{className:"mb-6 p-4 bg-yellow-500/5 border border-yellow-500/20 rounded",children:(0,_r.jsx)("p",{className:"text-sm text-gray-300 whitespace-pre-line leading-relaxed",children:x.warningText})}),(0,_r.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,_r.jsx)("button",{onClick:()=>g(null),className:"px-6 py-2 bg-white/5 text-white rounded hover:bg-white/10 transition-colors","data-testid":"cancel-tool-btn",children:"Cancel"}),(0,_r.jsx)("button",{onClick:()=>(async e=>{g(null),f(e.id);const a=localStorage.getItem("admin_token"),r={Authorization:"Bearer ".concat(a)};try{const t=await axios({method:e.method,url:"".concat(API_URL).concat(e.endpoint),headers:r}),a={data:t.data,executedAt:(new Date).toISOString(),status:"success",httpStatus:t.status};d(t=>{const n=m(m({},t),{},{[e.id]:a});return localStorage.setItem("system_tools_outputs",JSON.stringify(n)),n}),p(t=>m(m({},t),{},{[e.id]:{lastRun:(new Date).toISOString(),status:"success"}})),Qt.success("".concat(e.displayName," completed successfully"))}catch(h){var s,i;if(401===(null===(s=h.response)||void 0===s?void 0:s.status)||403===(null===(i=h.response)||void 0===i?void 0:i.status))t(!1),n(null),localStorage.removeItem("system_tools_unlock_until"),Qt.error("Session expired. Please re-authenticate.");else{var l,o,c,u;const t={data:(null===(l=h.response)||void 0===l?void 0:l.data)||{error:h.message},executedAt:(new Date).toISOString(),status:"error",httpStatus:(null===(o=h.response)||void 0===o?void 0:o.status)||0};d(a=>{const n=m(m({},a),{},{[e.id]:t});return localStorage.setItem("system_tools_outputs",JSON.stringify(n)),n}),p(t=>m(m({},t),{},{[e.id]:{lastRun:(new Date).toISOString(),status:"error"}})),Qt.error("".concat(e.displayName," failed: ").concat((null===(c=h.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||h.message))}}finally{f(null)}})(x),className:"px-6 py-2 bg-[#d4af37] text-black font-medium rounded hover:bg-[#f0c750] transition-colors","data-testid":"confirm-run-tool-btn",children:"I Understand \u2014 Run Now"})]})]})})]}):(0,_r.jsx)("div",{className:"p-8 max-w-2xl mx-auto",children:(0,_r.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg p-8",children:[(0,_r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,_r.jsx)("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:(0,_r.jsx)(Ts,{className:"w-8 h-8 text-yellow-400"})}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h2",{className:"text-2xl title-xl",children:"System Tools Locked"}),(0,_r.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Re-enter admin password to unlock"})]})]}),(0,_r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Admin Password"}),(0,_r.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-black border border-white/10 rounded focus:outline-none focus:border-[#d4af37] text-white",placeholder:"Enter password",required:!0,disabled:l,"data-testid":"system-tools-password-input"})]}),(0,_r.jsx)("button",{type:"submit",disabled:l,className:"w-full px-6 py-3 bg-[#d4af37] text-black font-medium rounded hover:bg-[#f0c750] transition-colors disabled:opacity-50","data-testid":"unlock-system-tools-btn",children:l?"Unlocking...":"Unlock (".concat(10," minutes)")})]}),(0,_r.jsx)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded",children:(0,_r.jsxs)("div",{className:"flex gap-3",children:[(0,_r.jsx)(bx,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,_r.jsxs)("div",{className:"text-sm text-blue-300",children:[(0,_r.jsx)("p",{className:"font-medium mb-1",children:"Security Note"}),(0,_r.jsx)("p",{className:"text-blue-400/80",children:"System Tools require password re-entry to prevent accidental execution. This is a UI safety gate and does not change backend security."})]})]})})]})})},jx={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL+"/api";const Nx=function(){return(0,r.useEffect)(()=>{(async()=>{try{await Sr.post("".concat(jx,"/seed"))}catch(e){}})()},[]),(0,_r.jsx)(Pr,{children:(0,_r.jsx)(Lr,{children:(0,_r.jsx)(Mr,{children:(0,_r.jsxs)(Ct,{children:[(0,_r.jsx)(ra,{position:"top-right",toastOptions:{style:{background:"#0A0A0A",border:"1px solid rgba(255,255,255,0.1)",color:"#FAFAFA"}}}),(0,_r.jsxs)($e,{children:[(0,_r.jsx)(Ve,{path:"/admin",element:(0,_r.jsx)(Rh,{})}),(0,_r.jsx)(Ve,{path:"/admin/login",element:(0,_r.jsx)(Rh,{})}),(0,_r.jsx)(Ve,{path:"/admin/dashboard",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Zh,{})})}),(0,_r.jsx)(Ve,{path:"/admin/products",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(cf,{})})}),(0,_r.jsx)(Ve,{path:"/admin/gallery",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(ff,{})})}),(0,_r.jsx)(Ve,{path:"/admin/journeys",element:(0,_r.jsx)(bf,{})}),(0,_r.jsx)(Ve,{path:"/admin/designs",element:(0,_r.jsx)(wf,{})}),(0,_r.jsx)(Ve,{path:"/admin/inquiries",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Sf,{})})}),(0,_r.jsx)(Ve,{path:"/admin/negotiations",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Vf,{})})}),(0,_r.jsx)(Ve,{path:"/admin/users",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Af,{})})}),(0,_r.jsx)(Ve,{path:"/admin/sold",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(If,{})})}),(0,_r.jsx)(Ve,{path:"/admin/data",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Bf,{})})}),(0,_r.jsx)(Ve,{path:"/admin/system-tools",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(wx,{})})}),(0,_r.jsx)(Ve,{path:"/admin/settings/stripe",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Qf,{})})}),(0,_r.jsx)(Ve,{path:"/admin/settings/storage",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(Zf,{})})}),(0,_r.jsx)(Ve,{path:"/admin/settings/security",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(nx,{})})}),(0,_r.jsx)(Ve,{path:"/admin/settings/general",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(ox,{})})}),(0,_r.jsx)(Ve,{path:"/admin/settings/email",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(ux,{})})}),(0,_r.jsx)(Ve,{path:"/admin/settings/analytics",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(xx,{})})}),(0,_r.jsx)(Ve,{path:"/admin/studio",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(ix,{})})}),(0,_r.jsx)(Ve,{path:"/admin/help",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(yx,{})})}),(0,_r.jsx)(Ve,{path:"/admin/help/:topic",element:(0,_r.jsx)(Vh,{children:(0,_r.jsx)(yx,{})})}),(0,_r.jsx)(Ve,{path:"/reset-password",element:(0,_r.jsx)(_h,{})}),(0,_r.jsx)(Ve,{path:"/*",element:(0,_r.jsx)(ts,{children:(0,_r.jsxs)($e,{children:[(0,_r.jsx)(Ve,{path:"/",element:(0,_r.jsx)(ls,{})}),(0,_r.jsx)(Ve,{path:"/gallery",element:(0,_r.jsx)(Cs,{})}),(0,_r.jsx)(Ve,{path:"/shop",element:(0,_r.jsx)(zs,{})}),(0,_r.jsx)(Ve,{path:"/shop/:productId",element:(0,_r.jsx)(Ms,{})}),(0,_r.jsx)(Ve,{path:"/cart",element:(0,_r.jsx)(qs,{})}),(0,_r.jsx)(Ve,{path:"/booking",element:(0,_r.jsx)(Qp,{})}),(0,_r.jsx)(Ve,{path:"/sell",element:(0,_r.jsx)(fh,{})}),(0,_r.jsx)(Ve,{path:"/dashboard",element:(0,_r.jsx)(mh,{})}),(0,_r.jsx)(Ve,{path:"/studio",element:(0,_r.jsx)(kh,{})}),(0,_r.jsx)(Ve,{path:"/faq",element:(0,_r.jsx)(Th,{})})]})})})]})]})})})})};i.createRoot(document.getElementById("root")).render((0,_r.jsx)(r.StrictMode,{children:(0,_r.jsx)(Nx,{})}))})();
//# sourceMappingURL=main.d3fe03ec.js.map